/**
 * DT-Bunnings-Responsive
 * @brand bunnings
 * @version v1.0.0
 * @timestamp 1564555581
 */
"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DownloadProjectGuide(e,t){this.defaults={url:"#",alertClass:"message-notification",alertMessage:".message-notification_message",loadingClass:"is-loading",defaultErrorText:"Something went wrong. Please try again after sometime",downloadButton:".download-project-guide_btn"},this.options=$.extend({},this.defaults,t),this.$el=$(e),this.$downloadButton=this.$el.find(this.options.downloadButton),this.$alert=this.$el.find("."+this.options.alertClass),this.$alertTextEl=this.$alert.find(this.options.alertMessage),this.options.defaultErrorText=this.$alertTextEl.html(),this.bindMethods(),this.bindEvents()}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Accordion=function(e){var t,n,i={deepLinking:!0,openHeadersOnLoad:[0],openMultiplePanes:!1};return{init:function(o,r){t=e(o),n=e.extend({},i,r);new BUI.Accordion(t[0],n)}}},AccordionMenu=function(e){var t,n,i,o,r={selector:".accordion"};return{init:function(a,s){t=e(a),n=e.extend({},r,s),i=t.find(n.selector),e(i).on("click","> li",function(){o=e(this),o.hasClass("is-active")||o.siblings("li").hasClass("is-active")?o.hasClass("is-active")?o.removeClass("is-active"):(o.siblings("li").removeClass("is-active"),setTimeout(function(){o.addClass("is-active")},500)):o.addClass("is-active")})}}},AlertBar=function(e){var t,n,i,o,r,a,s,c=function(){t.addClass("is-active")},l=function(){t.removeClass("is-active"),Cookie().setCookie(i,o,r)},d=function(e){return/^\d+$/.test(e)?e:1};return{init:function(u,p){t=e(u),n=t.find('[data-action="close"]'),i=t.data("cookie-name"),o="closeAlert-"+i,r=t.data("cookie-refresh-rate"),r=d(r),a=Cookie().getCookie(i)==o,s=e(".heading-layout"),s.remove(),a?l():(c(),n.on("click",l))}}},ArticleCarousel=function(e){var t,n,i,o,r,a,s,c=function(){e(n).slick(o),e(n).on("swipe",function(e,t,n){window.Utilities.ImgLazyload.render()})},l=function(e,t,n){for(var i=0;i<e.length;i++)if(e[i].hasOwnProperty(t)&&e[i][t]===n)return i;return-1};return{init:function(d,u){var p;t=e(d),s=e.extend({},u),Bunnings.TrackingV3.setTrackingPosition(t),n=t.find(".article-carousel_content"),i=n.children().length;var f="true"===s.arrows;p={arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,mobileFirst:!0},_defineProperty(p,"infinite",!1),_defineProperty(p,"responsive",[{breakpoint:730,settings:{slidesToShow:3,slidesToScroll:3,arrows:f,prevArrow:'<button type="button" class="slick-prev"><svg><use xlink:href="#icon-chevron-guillemet" /></svg></button>',nextArrow:'<button type="button" class="slick-next"><svg><use xlink:href="#icon-chevron-guillemet" /></svg></button>'}},{breakpoint:560,settings:{slidesToShow:2,slidesToScroll:2}}]),o=p,r=l(o.responsive,"breakpoint",560),a=l(o.responsive,"breakpoint",730),i>1&&(2===i?(o.responsive[r].settings="unslick",o.responsive[a].settings="unslick"):3===i&&(o.responsive[a].settings="unslick"),c())}}},BackToTop=function(e){var t=function(){Bunnings.TrackingV3.pushTrackingData(this,"click",{"datav3-action-text":"Back to top","datav3-track-event":"anchor"}),e("html,body").animate({scrollTop:0},800)},n=function(e,t){var n=document.querySelector(t);null!==n&&n.appendChild(e)},i=function(){var e=document.createElement("div");e.className="RefreshComponent back-to-top",e.setAttribute("datav3-module-name","BackToTop"),e.onclick=t;var i=document.createElement("i");i.className="back-to-top_arrow",e.appendChild(i),n(e,".article__content"),n(e,".search-results_content"),n(e,".product-catalogue_content")},o=function(e){var t=e.offsetTop,n=t+e.offsetHeight,i=window.pageYOffset,o=i+document.documentElement.clientHeight;return n>i&&t<o},r=function(){var t=document.querySelector(".article__content")?350:200,n=o(document.querySelector("footer")),i=document.querySelector(".article__content .no-search-results");!(document.body.scrollTop>t||document.documentElement.scrollTop>t)||n||i?e(".RefreshComponent.back-to-top").fadeOut(500):e(".RefreshComponent.back-to-top").fadeIn(500)};return{init:function(){i(),window.addEventListener("scroll",r)}}},BannerCookie=function(e,t){var n={cookieName:"cookieconsent",cookieExpireDay:28,secBeforeBannerReveal:1e3};return{init:function(i,o){o=e.extend({},n,o);var r=t.getCookie(o.cookieName);e(i).on("click",".banner-cookie_btn-close",function(){t.setCookie(o.cookieName,"1",o.cookieExpireDay),e(i).removeClass("transition-show").addClass("transition-hide")}),e(i).length>0&&(void 0!=r&&""!=r||(t.setCookie(o.cookieName,"1",o.cookieExpireDay),setTimeout(function(){e(i).removeClass("transition-hide").addClass("transition-show")},o.secBeforeBannerReveal)))}}},BeforeAfter=function(e){var t,n,i,o,r,a,s,c,l,d={width:500,height:500,barWidth:4,follow:!1,imageRatioFactor:.5156,startPosition:.67,animateToPosition:.33},u=0,p=function(){t.width=e(window).width(),t.height=t.width*t.imageRatioFactor,i.imageReveal({barWidth:t.barWidth,touchBarWidth:t.barWidth,paddingLeft:20,paddingRight:20,startPosition:.25,showCaption:!1,captionChange:.5,captionFade:1e3,linkCaption:!0,width:t.width,height:t.height,follow:t.follow,device:"default",container:n});var r='<div class="imageReveal-drag_left-holder"><svg class="imageReveal-drag_icon">';r+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-chevron"></use>',r+="</svg></div>",r+='<div class="imageReveal-drag_right-holder"><svg class="imageReveal-drag_icon">',r+='<use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-chevron"></use>',r+="</svg></div>",o=i.find(".imageReveal-drag"),o.append(r),a=e(".imageReveal").width(),s=a*t.startPosition,c=a-s,e(".imageReveal-overlay").css("width",s+"px"),e(".imageReveal-drag").css("right",c+"px"),u=0},f=function(){o.hover(function(){i.hasClass("initial")&&i.removeClass("initial")}),e(o).on("touchstart",function(e){i.hasClass("initial")||i.addClass("initial")}),e(o).on("touchend",function(e){i.hasClass("initial")&&i.removeClass("initial")})},m=function(){var i;r=n.find(".before-after_menu"),r.length>0&&r.on("click","a",function(o){o.preventDefault(),e(this).closest(".before-after_menu").find("a").removeClass("is-active"),e(this).addClass("is-active"),i=e(o.currentTarget).parent().index(),n.find(".imageReveal-overlay").css("background-image",'url("'+t.beforeAfterGalleryData[i].beforeImageUrl+'")'),n.find(".imageReveal-background").css("background-image",'url("'+t.beforeAfterGalleryData[i].afterImageUrl+'")'),n.find(".before-after_link").attr("href",t.beforeAfterGalleryData[i].viewAllLinkUrl),n.find(".before-after_text").text(t.beforeAfterGalleryData[i].viewAllLinkText)})},g=function(){f(),e(window).resize(function(){e(".before-after").length>0&&(n.find(".imageReveal-overlay").remove(),n.find(".imageReveal-background").remove(),n.find(".imageReveal-drag").remove(),n.find(".imageReveal-caption").remove(),p(),f())}),m()},h=function(){if(0===u){a=e(".imageReveal").width();var n=a*t.startPosition,i=a-n,o=a*t.animateToPosition,r=a-o;v(n,i,600),v(o,r,800,"ease-in-out"),v(n,i,800,"ease"),u+=1}},v=function(t,n,i){e(".imageReveal-overlay").animate({width:t+"px"},i),e(".imageReveal-drag").animate({right:n+"px"},i)},b=function(){var t=window.Bunnings.TrackingV3.ATTRIBUTES.TRACK_INDEX;window.Bunnings.TrackingV3.setTrackingPosition(n);var i=r.find(".is-active").attr(t);i&&l.attr(t,i),r.find(".before-after_menu-link").on("click",function(){var n=e(this).attr(t);l.attr(t,n)})};return{init:function(o,r){n=e(o),t=e.extend({},d,r),i=n.find(".imageReveal"),l=n.find(".before-after_link"),p(),g(),b(),e("body").on("make-over-in-viewport",h)}}},Breadcrumbs=function(e){var t;return{init:function(n){t=e(n),t.find(".breadcrumbs_list").width()>=t.find(".breadcrumbs_content").width()&&t.find(".breadcrumbs").addClass("collapsed")}}},BuiBreadcrumbs=function(e){return{init:function(e){new BUI.BUIBreadcrumbs(e[0])}}},BrowserPlatform=function(){return{init:function(){if("undefined"!=typeof platform){var e=platform.name.replace(/\s+/g,""),t=-1,n="0";null!==platform.version&&(t=platform.version.indexOf("."),n=platform.version.substring(0,-1!==t?t:platform.version.length));var i=(e+" "+e+"-"+n).toLowerCase(),o=platform.os.family.replace(/\s+/g,""),r=-1,a="0";null!==platform.os.version&&(r=platform.os.version.indexOf("."),a=platform.os.version.substring(0,-1!==r?r:platform.os.version.length));var s=(o+" "+o+"-"+a).toLowerCase();document.getElementsByTagName("html")[0].className+=" "+i+" "+s}}()}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CarouselWithTradeModeVariant=function(e,t){var n,i=com.bunnings.pricingEngine.config,o={};o.priceWrapperSelector=".product-list__del",o.priceUnitSelector=".product-list__unit",o.priceSelector=".price-value",o.onLoading=function(){var t,n,o,r=i.CAROUSEL_PRICE_VALUE,a=i.CAROUSEL_POWER_PASS_LOADING,s=i.CAROUSEL_POWER_PASS_ERROR,c="["+this.options.productSelectorAttribute+']:not([data-for-hire="true"])',l=this.$el.find(c);l.find(".price-value").hide(),l.addClass("product-list__item-with-trade-mode is-loading"),l.find(".product-list__price").addClass("product-list__price-container").removeClass("has-price-value").removeClass("product-list__price"),t=l.find(".product-list__price-container");for(var d=0;t.length>d;d++)e(t[d]).find(".product-list__unit div").text()?e(t[d]).find(".product-list__unit").wrap('<div class="product-list__price  has-unit-measurement has-price-value" />'):e(t[d]).find(".product-list__unit").wrap('<div class="product-list__price  has-price-value" />'),e(t[d]).find(".price-value").remove();n=t.find(".product-list__price"),o=t.find(".product-list__unit"),n.after(s),n.after(a),o.after(r)},o.onUpdateProductPrice=function(t,n){var o=e(n),r=o.attr(this.options.productSelectorAttribute),a=this.GetProductTradePrice(r),s=o.find(this.options.priceWrapperSelector)[0],c=o.data("for-hire")||!1,l=this.GetProductPowerPassLabelVisibility(r);if(o.removeClass("is-loading"),!c){if(a){var d=this.getPriceString(a);o.find(this.options.priceSelector).html(d),o.find(this.options.priceSelector).css("visibility","visible"),o.find(".product-list__price").css("visibility","visible")}else o.addClass("has-error");e(s).after(i.CAROUSEL_POWER_PASS_LABEL),o.find(".product-list__price-title").css("visibility",l)}o.find(this.options.priceSelector).css("visibility","visible"),o.find(".product-list__price").css("visibility","visible")};return{init:function(i,r){n=e.extend({},o,r),t.init(i,n,"CarouselWithTradeModeVariant")}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=CarouselWithTradeModeVariant);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CarouselWithTradeModeVariantMobile=function(e,t){var n,i=com.bunnings.pricingEngine.config.CAROUSEL_MARKUP_MOBILE,o={};o.priceSelector=".tile-product_price-value",o.powerPassLabel=".tile-product_price-title",o.onUpdateProductPrice=function(t,n){var i=e(n),o=i.attr(this.options.productSelectorAttribute),r=this.GetProductPowerPassLabelVisibility(o),a=this.GetProductTradePrice(o);if(i.data("for-hire")||!1)i.find(this.options.priceSelector).css("visibility","visible"),i.find(".tile-product_price").addClass("for-hire-updated-styling");else if(i.removeClass("is-loading"),a){var s=this.getPriceString(a);i.find(this.options.priceSelector).html(s).css("visibility","visible"),i.find(this.options.powerPassLabel).css("visibility",r)}else i.addClass("has-error")};return{init:function(r,a){n=e.extend({},o,a),t.init(r,n,"CarouselWithTradeModeVariantMobile",{onLoad:"onLoadingWithReplace",onLoadParametersObject:{loadingClass:"tile-product-with-trade-mode is-loading",priceElementClass:".tile-product_price",replacementMarkup:i}})}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=CarouselWithTradeModeVariantMobile);var CollectionItemSummaryCarousel=function(e){var t,n,i,o,r,a,s=function(){e(n).slick(o),e(n).on("swipe",function(e,t,n){window.Utilities.ImgLazyload.render()})},c=function(e,t,n){for(var i=0;i<e.length;i++)if(e[i].hasOwnProperty(t)&&e[i][t]===n)return i;return-1};return{init:function(l,d){var u;t=e(l),Bunnings.TrackingV3.setTrackingPosition(t),n=t.find(".collection-item-summary_list"),i=n.children().length,u={arrows:!1,infinite:!0,slidesToShow:1,slidesToScroll:1,mobileFirst:!0},_defineProperty(u,"infinite",!1),_defineProperty(u,"responsive",[{breakpoint:730,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:560,settings:{slidesToShow:2,slidesToScroll:2}}]),o=u,r=c(o.responsive,"breakpoint",560),a=c(o.responsive,"breakpoint",730),i>1&&(2===i?(o.responsive[r].settings="unslick",o.responsive[a].settings="unslick"):3===i&&(o.responsive[a].settings="unslick"),s())}}},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CompareProductsWithTradeModeVariant=function(e,t){var n,i={};return i.priceSelector=".product-list__price",i.getPriceString=function(e,t){var n='<div class="product-list__price-div"><sup>$</sup>';if(e){var i=e.toString().split(".");if(i.length>1){n+='<span class="product-list__price-number">'+t.addCommaToNumberString(i[0])+"</span>";var o=i[1];o.length<2&&(o+="0"),n+="<sup>."+o+"</sup></div>"}else{n+='<span class="product-list__price-number">'+t.addCommaToNumberString(e)+"</span>"}}return n},i.onUpdateProductPrice=function(t,n){var o=e(n),r=o.attr(this.options.productSelectorAttribute),a=this.GetProductTradePrice(r),s=this.GetProductPowerPassLabelVisibility(r);if(!o.data("for-hire")&&1){if(""===a)o.find(this.options.priceSelector).html(com.bunnings.pricingEngine.config.POWER_PASS_LABEL+com.bunnings.pricingEngine.config.ERROR_STATE);else{var c=_.escape(a),l=i.getPriceString(c.toString(),this);o.find(this.options.priceSelector).html(com.bunnings.pricingEngine.config.POWER_PASS_LABEL+l)}o.find(this.options.priceSelector).css("visibility","visible"),o.find(".product_list__price-label").css("visibility",s)}},{init:function(o,r){n=e.extend({},i,r),t.init(o,n,"CompareProductsWithTradeModeVariant",{onLoad:"onLoadingWithSVG"})}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=CompareProductsWithTradeModeVariant);var DigitalMagazinePreviousIssues=function(e){return{init:function(t,n){var i=e(t),o=i.find(".digital-magazine-previous-issues__button"),r=i.find(".digital-magazine-previous-issues__select"),a="",s=function(e){""===e?o.prop("disabled",!0):o.prop("disabled",!1)};s(a),r.change(function(){var e=r.val();a=e,s(a)}),o.click(function(e){e.preventDefault(),""!==a&&(window.location.href=a)})}}},Disclaimer=function(e){function t(e,t){return'<div class="disclaimer-text">'+e+'</div><div class="element-tooltip"><input class="tooltip-input" type="checkbox" id="tooltip-disclaimer"><label for="tooltip-disclaimer"><span class="tooltip-icon">?</span></label><div class="tooltip-content"><div class="tooltip-content-inner"><label for="tooltip-disclaimer"></label>'+t+"</div></div></div>"}function n(e,t){"OutOfStock"===t.level?(O.empty(),O.append(D)):"NotAvailable"===t.level?(O.empty(),O.append(U)):O.empty()}function i(e,n){switch(n.level){case"OutOfStock":O.empty(),O.append(t(G,W)),F.show();break;case"InStock":case"LowStock":O.empty(),F.show();break;case"NotAvailable":O.empty(),O.append(B),F.hide()}}function o(e){O.empty(),O.append(e),F.hide()}function r(){O.empty(),O.append(t(H,V)),F.show()}function a(){d&&Bunnings.Bus.subscribe("stock-level:loaded",i)}function s(e){if(!e.length)return!1;var t=_.filter(e,function(e){return e.Value}),n=_.some(t,function(e){return"IsUnitofMeasure"===e.Title||"HasPriceonApplication"===e.Title||"ForHire"===e.Title}),i=_.some(t,function(e){return"SpecialOrder"===e.Title});n?o(B):i?r():a()}function c(e,t){s(t.productflags)}function l(){O.empty()}var d=window.Utilities.SiteFeatures.getIsTradeUser(),u=window.Utilities.SiteFeatures.getAllowEnquiry(),p=window.Utilities.SiteFeatures.getIsCurrentStoreTransactable(),f=!!com.bunnings.FEATURES.PickUpLiveItemsTestFeatureToggle,m=!!com.bunnings.FEATURES.DeliveryOfLiveItemsTestFeatureToggle,g=com.bunnings.CURRENT_PRODUCT&&com.bunnings.CURRENT_PRODUCT.ProductFlags?com.bunnings.CURRENT_PRODUCT.ProductFlags:[],h=window.Utilities.SiteFeatures.getIsCommerceFeatureEnabled(),v="true"===window.Cookie().getCookie("Bunnings.NearestStoreIsRemote").toLowerCase(),b=com.bunnings.CURRENT_PRODUCT&&com.bunnings.CURRENT_PRODUCT.RemoteOrderOnly,y=_.filter(g,function(e){return e.Value}),S=_.some(y,function(e){return"SpecialOrder"===e.Title}),T=_.some(y,function(e){return"IsAvailableForOrderOnline"===e.Title}),w=_.some(y,function(e){return"HasPriceonApplication"===e.Title}),C=T&&!w,E=window.Utilities.getIsPickUpOfLiveItemsTrialStore(),P=window.Utilities.getIsDeliveryLiveItemTrialStore(),k=com.bunnings.CURRENT_PRODUCT&&com.bunnings.CURRENT_PRODUCT.ShowStockLevel,L=!1;if(k){var I=com.bunnings.CURRENT_PRODUCT&&com.bunnings.CURRENT_PRODUCT.FulfillmentOptions,A=I.filter(function(e){return 2===e.Value}).length,R=I.filter(function(e){return 1===e.Value}).length,x=f&&m,N=f&&E,M=m&&P;x&&(L=(N&&A||M&&R)&&C&&!S&&h&&!v&&!b)}var O=e('[data-bunnings-component="Bunnings.Disclaimer"]'),D='<div class="message-notification message-notification--no-margin">This product is currently out of stock, please contact your nearest store for more information.</div>',U='<div class="message-notification message-notification--no-margin">This product is currently not available, please contact your nearest store for more information.</div>',B='<div class="message-notification">Sorry, this product is not able to be added to an enquiry</div>',H="This product is available to Add to Enquiry",V="A team member will confirm product availability and delivery timelines after enquiry submission",G="This product is available to be added to an enquiry",W="A Team Member will confirm product availability after your enquiry submission",F=e(".qty-block");return{init:function(){com.bunnings.FEATURES&&(d?p?u?(s(g),Bunnings.Bus.subscribe("trade-variant:changed",c)):F.hide():o("<div class=\"message-notification\">Your chosen store is outside of your account area. Please use 'Change Store' to select a store to view PowerPass pricing and place enquiries.</div>"):L&&(Bunnings.Bus.subscribe("stock-level:loaded",n),window.addEventListener("currentproductchanged",l)))}}},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};DownloadProjectGuide.prototype.bindEvents=function(){this.$downloadButton.on("click",_.bind(this.onClick,this))},DownloadProjectGuide.prototype.bindMethods=function(){this.requestResourceSuccess=_.bind(this.requestResourceSuccess,this),this.requestResourceError=_.bind(this.requestResourceError,this),this.openResourceInBrowser=_.bind(this.openResourceInBrowser,this)},DownloadProjectGuide.prototype.onClick=function(e){if(e.preventDefault(),!this.isLoading()){this.setBusyState();var t=this.setupRequestResourceOptions();this.requestResource(t)}},DownloadProjectGuide.prototype.setupRequestResourceOptions=function(){var e={type:"GET",url:this.options.url,timeout:3e5,processData:!1,success:this.requestResourceSuccess,error:this.requestResourceError},t=this.shouldOpenInBrowser()?{async:!0}:{dataType:"binary"};return $.extend({},e,t)},DownloadProjectGuide.prototype.requestResource=function(e){return $.ajax(e)},DownloadProjectGuide.prototype.requestResourceError=function(e,t,n){var i="timeout"===t?"Server "+t:this.options.defaultErrorText;this.setErrorState(i)},DownloadProjectGuide.prototype.requestResourceSuccess=function(e,t,n){if(this.setDefaultState(),this.shouldOpenInBrowser())return void this.openResourceInBrowser();var i=n.getResponseHeader("FileName"),o=URL.createObjectURL(e);try{this.saveToDisk(i,o)}catch(e){this.openResourceInBrowser()}},DownloadProjectGuide.prototype.shouldOpenInBrowser=function(){return Utilities.GetUserAgentType.isSafari()||Utilities.GetUserAgentType.isIE()},DownloadProjectGuide.prototype.openResourceInBrowser=function(){window.location.href=this.options.url},DownloadProjectGuide.prototype.saveToDisk=function(e,t){var n=document.createElement("a");n.href=t,n.target="_blank",n.download=e||"unknown";var i=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});n.dispatchEvent(i),window.webkitURL&&window.webkitURL.revokeObjectURL(n.href)},DownloadProjectGuide.prototype.setDefaultState=function(){this.$el.removeClass(this.options.loadingClass),this.$downloadButton.removeAttr("disabled"),this.$alert.hide()},DownloadProjectGuide.prototype.setBusyState=function(){this.$el.addClass(this.options.loadingClass),this.$downloadButton.attr("disabled","disabled"),this.$alert.hide()},DownloadProjectGuide.prototype.setErrorState=function(e){var t=e||this.options.defaultErrorText;this.$el.removeClass(this.options.loadingClass),this.$downloadButton.removeAttr("disabled"),this.$alertTextEl.text(t),this.$alert.show()},DownloadProjectGuide.prototype.isLoading=function(){return this.$el.hasClass(this.options.loadingClass)},DownloadProjectGuide.setBinaryTransport=Utilities.AjaxUtilities.setBinaryTransport,DownloadProjectGuide.init=function(e,t){DownloadProjectGuide.setBinaryTransport(),e.each(function(){var e=$.data(this,"DownloadProjectGuide");return void 0===e&&(e=new DownloadProjectGuide(this,t),$.data(this,"DownloadProjectGuide",e)),e})},"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=DownloadProjectGuide);var EmailSignup=function(e){var t,n,i,o,r,a,s,c,l,d="email-signup_field-error",u=function(d,u){t=e(d),n=t.find(".email-signup_field"),i=t.find(".email-signup_btn-submit"),o=t.find("input[name='email-signup']"),r=e(d).find("form"),a=e(d).find(".email-signup_validation"),s=u.url,c=u.invalidEmailMessage,l=u.apiErrorMessage,m(),i.click(function(e){e.preventDefault(),f()&&g()})},p=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},f=function(){var e=o[0].value;return p(e)?(n.removeClass(d),a.html(""),a.css("display","none"),i.prop("disabled",!1),!0):(n.addClass(d),i.prop("disabled",!0),a.html(c),a.css("display","block"),!1)},m=function(){o.keyup(function(t){n.hasClass(d)&&13!=t.keyCode&&f(),13==t.keyCode&&e(i).trigger("click")})},g=function(){var t={emailAddress:o[0].value};i.prop("disabled",!0),e.ajax({url:s,type:"post",dataType:"json",success:function(e){h(e),i.prop("disabled",!1)},error:function(e){h({Success:!1,Message:l}),i.prop("disabled",!1)},data:t})},h=function(e){var t="";t=e.Message,a.html("<p>"+t+"</p>"),a.css("display","block"),e.Success?n.addClass("email-signup_field-success"):n.addClass(d)};return{init:u}},_ExampleComponent=function(e){var t,n=function(){e.ajax({url:"/data/api/example.api.json"}).done(function(n){var i=JSON.stringify(n,null,2),o=e('<div class="mockapi">');o.append("<span>Mock API Data</span>").append("<pre>"),t.append(o),o.find("pre").append(i)}).fail(function(){alert("Ajax failed to fetch data")})};return{init:function(i,o){t=e(i),n()}}},Faq=function(e){var t,n=!1,i=!1,o=function(){t.find(".faq_list").each(function(){e(this).find(".faq_list-question").on("click",function(){e(this).parent().hasClass("is-open")&&(i=!0),t.find(".faq_list.is-open").removeClass("is-open").attr("aria-expanded",!1).find(".faq_list-answer").slideToggle(300),i||e(this).next(".faq_list-answer").slideToggle(300,function(){e(this).parent().toggleClass("is-open"),n=e(this).parent().hasClass("is-open"),e(this).parent().attr("aria-expanded",n)}),i=!1})})};return{init:function(n,i){null!=(t=e(n))&&0!==t.length&&o()}}},FatFooter=function(e){var t,n,i,o,r,a,s,c,l,d,u,p,f={loadMoreSelector:".fat-footer_load-more_btn",backToTopSelector:".back-to-top",contentContainer:".fat-footer_content",componentsToShowQty:3},m=!1,g={AJAX_LOADED:"event-ajax-loaded",SCROLL_THRESHOLD_PASSED:"event-scroll-threshold_passed",ALL_COMPONENTS_REVEALED:"event-all-components-revealed"},h=1,v=function(a,s){s=e.extend({},f,s),r=s,t=e(a),n=t.find(s.contentContainer),i=t.find(s.loadMoreSelector),o=t.find(s.backToTopSelector),p=s.componentsToShowQty,l=s.currentPageUrl,d=s.currentPresentationId,Utilities.GetEnvironment.isLocal()||Utilities.GetEnvironment.isStyleGuide()?c=Utilities.GetEnvironment.assetLocation()+l+"?IsLazyLoading=true&amp;PresentationId="+d:Utilities.GetEnvironment.isLiveSite()&&(c=l+"?IsLazyLoading=true&amp;PresentationId="+d),i.attr("datav3-track-identifier",h),i.attr("datav3-track-event","load"),C(),w(),t.on(g.SCROLL_THRESHOLD_PASSED,function(){E()}),t.on(g.AJAX_LOADED,function(){b()}),t.on(g.ALL_COMPONENTS_REVEALED,function(){i.prop("disabled",!0),i.closest(".fat-footer_load-more").addClass("is-hidden"),o.addClass("is-active")})},b=function(){if(a){a.siblings(".workshop-signature").addClass("fat-footer-companion"),s=a.siblings().not(".fat-footer-companion"),s&&(u=s.length,s.addClass("fat-footer_component is-hidden"),n.prepend(a),y(),P(),T(),t.removeClass("is-pristine"))}},y=function(){t.find(r.contentContainer+" [data-component]").each(function(){switch(e(this).data("component")){case"ArticleCarousel":new ArticleCarousel(e).init(this,Utilities.General.parseElementProps(this));break;case"VideoPlayer":BrightcoveAPI.init(),new VideoPlayer(e).init(this,Utilities.General.parseElementProps(this))}})},S=function(){t.find(r.contentContainer+" [data-component]").each(function(){switch(e(this).data("component")){case"ArticleCarousel":e(this).find(".article-carousel_content").slick("setPosition")}})},T=function(){var e;!function(){e=s.not(".is-revealed")}(),e.length>0?(e.slice(0,p).addClass("is-revealed"),e.slice(0,p).removeClass("is-hidden"),S(),Utilities.General.fireResize(),e.length<=p?t.trigger(g.ALL_COMPONENTS_REVEALED):i.closest(".fat-footer_load-more").removeClass("is-hidden")):t.trigger(g.ALL_COMPONENTS_REVEALED)},w=function(){i.on("click",function(){h+=1,e(this).attr("datav3-track-identifier",h),T(),window.Utilities.ImgLazyload.render()})},C=function(){e(window).scroll(function(){e(window).scrollTop()>=e(window).height()/2&&t.trigger(g.SCROLL_THRESHOLD_PASSED)})},E=_.debounce(function(){m||e.ajax({type:"GET",url:c,success:function(n){m=!0,a=e(n),setTimeout(function(){t.trigger(g.AJAX_LOADED),e("body").trigger("Update-Product-Price")},333)},error:function(){m=!1,a=null,console.warn("Fat Footer - No data loaded")},beforeSend:function(){t.addClass("is-loading")},complete:function(){setTimeout(function(){t.removeClass("is-loading")},333)}})},500),P=function(){window.Bunnings.TrackingV3&&window.Bunnings.TrackingV3.init()};return{init:v}},FindAStore=function(e){var t,n=function(){navigator.geolocation.watchPosition(function(e){t.find(".find-a-store_option-text").addClass("is-hidden")})};return{init:function(i,o){t=e(i),n()}}},HeaderNavbarItemAccount=function(e){var t,n,i,o,r=function(){var t=window.Bunnings.UserContext;t&&(n=t.isAuthenticated,i=t.userName||"",o=t.linkHref||"/login",e("body").trigger("HEADER_NAVBAR_ITEM_ACCOUNT_DATA_READY"))},a=function(){e("body").on("HEADER_NAVBAR_ITEM_ACCOUNT_DATA_READY",function(){var e=n?"Hi "+i:"Sign In";t.attr("href",o).attr("datav3-track-text",e).attr("title",e).find(".header_navbar-link-copy").attr("data-copy",e),n&&t.addClass("is-authenticated")})};return{init:function(n){t=e(n),a(),r()}}},HeaderNavbarItemCart=function(e,t){var n,i,o={},r=0,a=localStorage.getItem("ShoppingCartCounterMobile"),s=t.SiteFeatures.getIsCommerceFeatureEnabled(),c=t.SiteFeatures.getIsTradeUser(),l=function(){a?(o=JSON.parse(a),u()):d()},d=function(){""!==n.endpoint&&e.ajax({url:n.endpoint,dataType:"json",method:"GET"}).done(function(e){o=e,a=o,localStorage.setItem("ShoppingCartCounterMobile",JSON.stringify(a)),u()}).fail(function(e,t){})},u=function(){r=void 0!==o.cartItemCount?parseInt(o.cartItemCount):0,s||c||r>=1&&(i.find(".header_navbar-badge-count").html(r),i.find(".header_navbar-badge--secondary").removeClass("js-basket-count"),i.addClass("is-populated"),i.show())},p=function(){e("body").on("HEADER_NAVBAR_ITEM_CART_DATA_READY",function(){d()}),"bunnings"==com.bunnings.THEME_NAME&&s&&(i.removeAttr("title"),i.on("click",function(e){e.preventDefault()}),i.on("click","a.header_navbar-badge-dropdown-item-btn",function(t){"undefined"!==e(this).attr("href")&&window.location.replace(e(this).attr("href"))}))};return{init:function(t,o){i=e(t),n=e.extend({},o),c||(l(),p())}}},HeaderNavbarItemPowerPass=function(e){var t,n,i=function(){var t=window.Bunnings.UserContext;t&&(n=t.linkHref||"https://www.bunningspowerpass.com.au/apex/f?p=111:1:",e("body").trigger("HEADER_NAVBAR_ITEM_POWERPASS_DATA_READY"))},o=function(){e("body").on("HEADER_NAVBAR_ITEM_POWERPASS_DATA_READY",function(){t.attr("href",n).attr("title","PowerPass Account").find(".powerpass-account-link-copy").attr("data-copy","PowerPass Account")})};return{init:function(n){t=e(n),o(),i()}}},HeaderNavigation=function(e,t){var n,i,o,r,a,s,c,l={headerNavigationTrigger:'[data-trigger="header-navigation-trigger"]',powerPassMenuTrigger:'[data-trigger="header-powerpass-menu-trigger"]',powerPassMenuContainer:'[class="header-powerpass-menu"]'},d=e("body"),u=e(".header-navigation"),p=function(e){if(document.cookie.indexOf(e)>-1)return document.cookie.split(e)[1].split("; ")[0].substr(1)},f=new LocalStorage,m=window.Utilities.SiteFeatures.getIsTradeUser(),g=function(t){var i=f.getLocalStorageData("navData"),o=f.getLocalStorageExp("navData"),r=i?i.region:null,a=o&&o<Date.now(),c=!r||t!==r,l=!!i&&i.loginStatus!==m;!i||!o||a||l||c?void 0!==n.endpoint&&null!==n.endpoint&&void 0!==t&&""!==t&&e.ajax({headers:{"Cache-Control":"max-age=600"},cache:!0,dataType:"json",url:n.endpoint+t,method:"GET"}).done(function(e){s=e,d.trigger("MENU_DATA_READY")}).fail(function(){d.trigger("MENU_DATA_ERROR")}):i.data?(s=i.data,d.trigger("MENU_DATA_READY")):d.trigger("MENU_DATA_ERROR")},h=function t(n,i,o,r,a,s){var c,l,d,u,p="",f="",m='<svg class="icon" viewBox="0 0 24 24"><use xlink:href="#icon-chevron"></use></svg>';if(s=s?s+" > "+i:i,n.length>0){o.append('<ul class="sub-panel"></ul>'),l=o.find("ul");for(var g=0;g<n.length;g++){if(p="",f="",void 0!==n[g].items&&null!==n[g].items&&n[g].items.length>0)f=' class="sub-panel--open"',p="<li><span"+f+">"+n[g].title+m+"</span></li>";else{d=e.trim(n[g].count),u="0"!==d?'<span class="sub-panel_item-count">'+d+"</span>":"<span></span>";var h=g+2;p='<li><a href="'+n[g].url+'" datav3-track-text="'+n[g].title+'" datav3-track-identifier="'+s+'" datav3-track-index="'+h+'"><span>'+n[g].title+"</span>"+u+"</a></li>"}l.append(e(p)),void 0!==n[g].items&&null!==n[g].items&&n[g].items.length>0&&t(n[g].items,n[g].title,l.find("li").last(),n[g].url,a,s)}c='<li class="sub-panel_heading"><span class="sub-panel--close">'+m+'</span><span class="sub-panel--title">'+i+'</span><a href="'+r+'" datav3-track-text="See all" datav3-track-identifier="'+s+'" datav3-track-index="1" >See All</a></li>',l.prepend(e(c))}},v=function(){d.on("MENU_DATA_READY",function(){if("undefined"!=typeof com){if("bunnings"===com.bunnings.THEME_NAME||"trade"===com.bunnings.THEME_NAME){var e=i.find(".header-navigation_menu").first().find("li").first();if(h(s[0].items,s[0].title,e,s[0].url),b(s[0],e),s[1]&&s[1].items&&s[1].items.length>0){
var t=i.find(".header-navigation_menu").first().find("li").last();h(s[1].items,s[1].title,t,s[1].url),b(s[1],t)}else{var n=i.find(".header-navigation_menu_item--secondary > .direct-link"),o=s[1]&&s[1].url||"/our-services";n.attr("href",o)}}else h(s[0].items,s[0].title,i.find(".header-navigation_menu--secondary").first().find(".header-navigation_menu_item--homebase").first(),s[0].url,com.bunnings.THEME_NAME);d.trigger("MENU_RENDER_COMPLETE")}})},b=function(e,t){if(e.editableItems&&t){var n=e.editableItems.items;if(n.length>0)for(var i=t.find(".sub-panel").first(),o=0;o<n.length;o++){var r=0==o?" editable-links--first":"",a=o+2;i.append('<li class="editable-links'+r+'"><a href="'+n[o].url+'" datav3-track-text="'+n[o].title+'" datav3-track-index="'+a+'" datav3-track-identifier="'+e.title+'">'+n[o].title+"</a></li>")}}},y=function(){o.on("click",function(){r.hasClass("is-active")&&(r.removeClass("is-active"),a.removeClass("is-open")),i.find("is-open").removeClass("is-open"),e(this).hasClass("is-active")?(e(this).removeClass("is-active"),i.removeClass("is-active"),Bunnings.TrackingV3.pushTrackingData(e(this),"collapse",{"datav3-action-text":"collapse"})):(e(this).addClass("is-active"),i.addClass("is-active"),Bunnings.TrackingV3.pushTrackingData(e(this),"expand",{"datav3-action-text":"expand"})),i.scrollTop(0),d.toggleClass("menu_is-active"),T(),d.hasClass("menu_is-active")?d.trigger("non-scrollable-body"):(d.trigger("scrollable-body"),u.removeClass("fixed-height"),e(".header-navigation_menu_item--tertiary_link").show()),e(".header-navigation .sub-panel.is-open").not(".is-open--homebase").removeClass("is-open")})},_=function(){i.find("is-open").removeClass("is-open"),d.removeClass("is-active menu_is-active"),u.removeClass("fixed-height is-active"),o.removeClass("is-active")},S=function(){d.on("BREAKPOINT_FROM_LG_MATCHED BREAKPOINT_UNTIL_LG_MATCHED",_)},T=function(){u.css("height",""),u.addClass("fixed-height"),u.find(".header-navigation_panel:first").addClass("is-scrollable")},w=function(){var t=e(".header-navigation_menu_item--homebase");d.on("MENU_RENDER_COMPLETE",function(){t.find("> .sub-panel").first().addClass("is-open sub-panel--open is-open--homebase")})},C=function(){d.on("MENU_RENDER_COMPLETE",function(){e(".header-navigation .sub-panel--open").click(function(t){if(t.stopPropagation(),t.target!=this)return!1;if(!e(this).parent().parent().hasClass("header-navigation_menu_item--tertiary_link")){var n,i=e(this).parent().parent(),o={},r=E(e(this).next(".sub-panel"));o=i.hasClass("header-navigation_menu")?e(".header-navigation_panel"):i,n=o.clone().addClass("fake-panel--out").removeClass("is-open").removeClass("sub-panel--open").removeClass("is-open--homebase"),n.appendTo(e(this).parent()),o.hasClass("is-open--homebase")&&n.find(".sub-panel_heading").addClass("is-hidden"),window.setTimeout(function(){n.addClass("is-slide-out"),r.addClass("is-open")},1),window.setTimeout(function(){n.remove()},800)}}),e(".header-navigation .sub-panel--close").click(function(t){t.stopPropagation();var n,i=e(this).parent().parent(),o=e(this).parent().parent().parent().parent(),r={},a=e(this).parent().parent();o.hasClass("header-navigation_menu")?(r=e(".header-navigation_panel"),n=r.clone()):(r=o,n=r.clone().removeClass("sub-panel--open is-open--homebase")),n.addClass("fake-panel--in").removeClass("sub-panel").removeClass("is-open").appendTo(e(this).parent().parent().parent()),r.hasClass("is-open--homebase")&&n.find(".sub-panel_heading").addClass("is-hidden"),window.setTimeout(function(){n.addClass("is-slide-in"),n.find(e(".is-open")).css("visibility","hidden"),a.removeClass("is-open")},1),window.setTimeout(function(){n.remove(),i.parent().parent().is(P())&&e(".header-navigation_menu_item--tertiary_link").show()},800),E(i.parents("ul:first"))})})},E=function(e){var t=u.find(".is-scrollable"),n=u.find(".header-navigation_panel");return e.is(P())?(t.removeClass("is-scrollable"),n.addClass("is-scrollable")):(t.scrollTop(0).removeClass("is-scrollable"),e.addClass("is-scrollable")),e},P=function(){return".sub-panel.is-open.sub-panel--open"};return{init:function(t,s){i=e(t),n=e.extend({},l,s),o=e(n.headerNavigationTrigger),r=e(n.powerPassMenuTrigger),a=e(n.powerPassMenuContainer),c=p("Bunnings.Region"),v(),y(),C(),S(),g(c),"undefined"!=typeof com&&"homebase"===com.bunnings.THEME_NAME&&w()}}},HeaderNavigationLg=function(e){var t,n,i,o,r,a,s,c,l,d,u,p,f,m=function(e){g(),h(),v(),b(),y()},g=function(){i.on("click",function(e){t.hasClass("is-open")?(o.removeClass("is-shown"),t.removeClass("is-open"),s.removeClass("is-shown")):(o.addClass("is-shown"),t.addClass("is-open"),c.addClass("is-shown"),a.removeClass("is-second-level is-third-level"))})},h=function(){e(document).keypress(function(t){13==t.which&&i.is(":focus")&&e(".header_primary-nav-link_item:focus").click()})},v=function(){n.on("click",function(t){t.preventDefault();var n=i.eq(0).offset().top;e(window).scrollTop(n),i.eq(0).focus()})},b=function(){o.on("click",function(){o.removeClass("is-shown"),t.removeClass("is-open"),s.removeClass("is-shown")})},y=function(){u.on("click",function(t){t.preventDefault();var n=e(this).closest(".header-navigation-level--lg");n.attr("class").indexOf("primary")>-1?(l.addClass("is-shown"),d.removeClass("is-shown"),a.addClass("is-second-level").removeClass("is-third-level")):n.attr("class").indexOf("secondary")>-1&&(d.addClass("is-shown"),a.removeClass("is-second-level").addClass("is-third-level")),_(e(this),n)})},_=function(e,t){var n=t.next().find(".header-navigation-level--lg_content, .header-navigation-level--lg_bottom");n.removeClass("is-loaded").addClass("is-changed");setTimeout(function(){S(n)},200)},S=function(e){e.removeClass("is-changed"),e.addClass("is-loaded")};return{init:function(g,h){t=e(g),i=e(".header_primary-nav-link_item"),n=e("#mainMenuSkipLink"),o=e(".overlay--lg"),r=t.find(".header-navigation--lg_wrapper"),a=t.find(".header-navigation--lg_wrapper-shadow-container"),s=t.find(".header-navigation-level--lg"),c=t.find(".header-navigation-level--lg--primary-level"),l=t.find(".header-navigation-level--lg--secondary-level"),d=t.find(".header-navigation-level--lg--tertiary-level"),u=t.find(".header-navigation-level--lg_content-link"),p=t.find(".header-navigation--lg_wrapper"),f=t.find(".header-navigation--lg_wrapper"),m()}}},HeaderSearchHistory=function(e){var t,n,i,o,r={localStorageKey:"/search/history",maxSize:7,daysToKeep:86400},a=e("body"),s=function(e){for(var t=0;t<i.length;t++)if(i[t].toLowerCase()===e.toLowerCase()){i.splice(t,1);break}i.push(e),i.length>n.maxSize&&(i=i.slice(1,n.maxSize+1)),f(n.localStorageKey,i,n.daysToKeep)},c=function(){localStorage.removeItem(n.localStorageKey)},l=function(){return m(n.localStorageKey)||[]},d=function(){},u=function(e,t){var n=new Date;return n.setMinutes(n.getMinutes()+(t||15)),JSON.stringify({val:e,exp:n})},p=function(e){var t=JSON.parse(e);return null===t||null===t.val||null===t.exp?null:new Date(t.exp)<new Date?null:t.val},f=function(e,t,n){localStorage.setItem(e,u(t,n))},m=function(e){return p(localStorage.getItem(e))},g=function(e){return e.replace(/<\/?[^>]+(>|$)/g,"")},h=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},v=function(e){document.body.className=h(document.body.className,e,"")},b=function(){var n;if(i.length>0){n='<div class="header-search_history">',n+='<ul class="header-search_history_list">',n+='<li class="header-search_history_title">Your recent searches</li>';for(var r=i.length-1;r>=0;r--)n=n+'<li class="header-search_history_item"><a class="header-search_history_link" href="#'+g(i[r])+'">'+g(i[r])+"</a></li>";n+="</ul>",n+="</div>"}t.append(e(n)),o=t.find(".header-search_history")},y=function(){n.searchTextBox.on("focus",function(){0===e(this).val().length?(o.addClass("is-active"),document.body.className+=" header-search_is-active"):o.removeClass("is-active")}),n.searchTextBox.on("blur",function(){o.hasClass("is-mouseover")||(o.removeClass("is-active"),v("header-search_is-active"))}),n.searchTextBox.on("keyup",function(){o.removeClass("is-active")})},_=function(){o.on("mouseover",function(t){e(this).addClass("is-mouseover")}),o.on("mouseleave",function(t){e(this).removeClass("is-mouseover")}),o.on("click","a",function(t){t.preventDefault(),n.searchTextBox.val(e(this).text()),"function"==typeof n.searchOnClickFn&&n.searchOnClickFn(t)})},S=function(){y(),_()};return{init:function(o,s){t=e(o),n=e.extend({},r,s),s&&s.searchOnClickFn&&"function"==typeof s.searchOnClickFn&&(d=s.searchOnClickFn),a.trigger("HEADER_SEARCH_HISTORY_READY"),i=l(),b(),S()},push:s,clear:c,getSearchTerms:l}},HeaderSmart=function(e,t){var n,i,o,r,a={},s=!1,c=!1,l=function(e,t){i.css({"-webkit-transform":e+"("+t+")","-moz-transform":e+"("+t+")","-ms-transform":e+"("+t+")","-o-transform":e+"("+t+")",transform:e+"("+t+")"})},d=function(){return i.addClass("is-active"),e(".main").css("margin-top",r+"px"),!0},u=function(){return i.removeClass("is-active"),e(".main").css("margin-top",0),!1},p=function(){l("translateY","-"+r+"px"),l("translate3d","0, -"+r+"px, 0")},f=function(){l("translateY","0"),l("translate3d","0, 0, 0")},m=function(){var n,i=0,o=parseInt(e(t).height());e(t).resize(function(){t.Utilities.GetEnvironment.isDesktop()||(o=parseInt(e(t).height()))}),e(t).scroll(function(){t.Utilities.GetEnvironment.isDesktop()||n||(n=setTimeout(function(){var t=parseInt(e(this).scrollTop());s=t>o,c||(t<r?f():t>i&&t>r?p():s&&f()),i=t,n=null},50))})},g=function(){i.find(".header_navbar-link").on("click",function(n){t.Utilities.GetEnvironment.isDesktop()||(c||(o=e(t).scrollTop()),i.find(".header-navigation").hasClass("is-active")?e("html, body").animate({scrollTop:o},1,function(){setTimeout(function(){c=!1},100)}):c=!0)}),e(t).on("ScrollSmartHeader",function(){f()})},h=function(e){t.Utilities.GetEnvironment.isDesktop()?(u(),e.height("auto")):(r=e.height(),e.height(r),d())};return{init:function(o,r){i=e(o),n=e.extend({},a,r),t.Utilities.GetEnvironment.isDesktop()||h(i),m(),g(),e("body").on("BREAKPOINT_CHANGED",function(){h(i)})}}},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HeaderStoreDropdown=function(e,t,n,i,o){var r,a,s,c=o.NearestStoreNumber,l={storeNumber:"2320",endpointGetStoreInfoUsingLatLong:"/data/api/header-store-dropdown-geo.api.json?",endpointGetStoreInfoUsingNum:"/data/api/header-store-dropdown-store.api.json/",endpointAuthorization:"Token 3C5B7621-A7D6-4EB6-9C68-E34941AC5969",directionsLink:"//maps.google"+com.bunnings.mapCanonicalisation+"/maps?daddr="+com.bunnings.mapSearchName+",",storeListURL:"stores/region",templateSource:"/templates/HeaderStoreDropdownDetails/header-store-dropdown-details.runtime.hbs"},d={},u=!1,p=i.GetEnvironment.assetLocation(),f=function(){e("."+a+"_item-last").on("click",function(){var t=e("."+a+"_content").find("."+a+"_panel").height(),n=e("."+a+"_content"),i=function(){n.height("0"),n.removeClass("is-active"),e(this).removeClass("is-active"),e("body").trigger("OPACITY_OVERLAY_IS_DORMANT"),e("body").trigger("scrollable-body"),u=!1};u?i():function(){n.height(t+"px"),n.addClass("is-active"),e(this).addClass("is-active"),e("body").trigger("non-scrollable-body"),e("body").trigger("OPACITY_OVERLAY_IS_ACTIVE"),u=!0}(),e("body").on("OPACITY_OVERLAY_CLICKED",function(){i()})})},m=t.getCookie,g=function(t,n){e.ajax({dataType:"json",method:"GET",headers:{Authorization:r.endpointAuthorization},url:r.endpointGetStoreInfoUsingNum+t}).done(function(e){(d=e)&&y(d,n)}).fail(function(){}).always(function(){})},h=function(t){var i,o,r=p+l.templateSource;t.tradingHours.length>0&&(o=t.tradingHours[0]),t.buttonText="Change store",n.getTemplateAsync(r,function(c){i=n.compileTemplate(r,c,t),e("."+a+"_panel").append(i),e("."+a+"_store-title").text(t.navTitle),o&&(e("."+a+"_opening-hours").prop("datetime",o.dateTime),e("."+a+"_day").text(o.label),e("."+a+"_hours").text(o.timeTextString)),s.slideDown("slow")})},v=function(e,t){var n=[],i=t||!1,o=!0;return n.label=b(e.Name,e.WeekdayName),n.isOpen=e.IsOpen,n.openingTime=e.OpeningTime,n.closingTime=e.ClosingTime,n.dateTime=e.Date,n.timeTextString="",n.labelWithHolidayName=e.Name,o=i||!n.isOpen||!n.openingTime||!n.closingTime,n.timeTextString=o?"Closed":formatHours(n.openingTime)+" - "+formatHours(n.closingTime),n},b=function(e,t){return void 0===t?e:"Today"===e?e:t},y=function(t,n){var i,o={};if(o.tradingHours=[],o.navTitle=t.Name,o.storeName=t.Name,o.isOpenSoon=t.isOpenSoon,o.storeUrl=t.StoreUrl,o.streetAddress=t.Address,""!==e.trim(t.AddressLineTwo)&&(o.streetAddress=o.streetAddress+"<br>"+t.AddressLineTwo),o.suburb=t.Suburb,o.state=t.State,o.postcode=t.Postcode,o.phone=t.Phone,o.phoneTel=t.PhoneTel,i=r.directionsLink+" "+t.Address+",",e.trim(""!==t.AddressLineTwo)&&(i=i+t.AddressLineTwo+","),i=i+t.Suburb+",",i+=t.Postcode,o.directionsLink=i,t.TradingHours.length>0)for(var a=0;a<2;a++)o.tradingHours.push(v(t.TradingHours[a],o.isOpenSoon));"undefined"!=typeof com&&(o.themeName=com.bunnings.THEME_NAME),o.storeListURL=r.storeListURL,h(o)},_=function(t){var n=t.coords.latitude,i=t.coords.longitude;e.ajax({dataType:"json",method:"GET",headers:{Authorization:r.endpointAuthorization,"Cache-Control":"max-age=600"},cache:!0,url:r.endpointGetStoreInfoUsingLatLong+"latitude="+n+"&longitude="+i}).done(function(e){(d=e)&&y(d,"geo")}).fail(function(){}).always(function(){})},S=function(e){"bunnings"===com.bunnings.THEME_NAME?g(r.storeNumber,"global"):i.GetEnvironment.isStyleGuide()&&(console.log(e),g(r.storeNumber,"global"))},T=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(_,S):S()},w=function(){var e;e=m("PreviousSelectedStoreInfo"),e?g(r.storeNumber,"cookie"):T()};return{init:function(t,n){s=e(t),new OpacityOverlay(e).init("#main"),s.data("props")&&(l.endpointGetStoreInfoUsingLatLong=s.data("props").endpointGetStoreInfoUsingLatLong?s.data("props").endpointGetStoreInfoUsingLatLong:l.endpointGetStoreInfoUsingLatLong,l.endpointGetStoreInfoUsingNum=s.data("props").endpointGetStoreInfoUsingNum?s.data("props").endpointGetStoreInfoUsingNum:l.endpointGetStoreInfoUsingNum,l.directionsLink=s.data("props").directionsLink?s.data("props").directionsLink:l.directionsLink,l.storeNumber=s.data("props").storeNumber?s.data("props").storeNumber:l.storeNumber,l.storeListURL=s.data("props").storeListURL?s.data("props").storeListURL:l.storeListURL),com.bunnings.mapCanonicalisation="bunnings"===com.bunnings.THEME_NAME?".com.au":".co.uk",com.bunnings.mapSearchName="bunnings"===com.bunnings.THEME_NAME?"Bunnings Warehouse":"Homebase",r=e.extend({},l,n),r.storeNumber=m(c),a=s.attr("class"),w(),f()},getTradingHoursWeekdayName:b}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=HeaderStoreDropdown);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HeaderStoreInformation=function(e,t,n,i,o,r){var a,s,c,l,d=o.Suburb,u=o.PreviousSelectedStoreInfo,p=o.NearestStoreNumber,f=(o.UserType,{storeNumber:"2320",endpointGetStoreInfoUsingLatLong:"/data/api/header-store-information-geo.api.json?",endpointGetStoreInfoUsingNum:"/data/api/header-store-information-store.api.json/",endpointAuthorization:"Token 3C5B7621-A7D6-4EB6-9C68-E34941AC5969",directionsLink:"//maps.google"+com.bunnings.mapCanonicalisation+"/maps?daddr="+com.bunnings.mapSearchName+",",storeListURL:"stores/region",templateSource:"/templates/HeaderStoreInformation/header-store-information-details.runtime.hbs"}),m={},g=window.Utilities.GetEnvironment.assetLocation(),h=new LocalStorage,v=t.getCookie,b=(t.setCookie,function(t,n){var i=h.getLocalStorageData("storeDetails"),o=h.getLocalStorageExp("storeDetails");i&&i.data.StoreNumber&&i.data.StoreNumber+""!==t||!o||o<Date.now()?e.ajax({dataType:"json",method:"GET",headers:{Authorization:a.endpointAuthorization,"Cache-Control":"max-age=600"},cache:!0,url:a.endpointGetStoreInfoUsingNum+t}).done(function(e){(m=e)&&(h.setLocalStorage("storeDetails",m),T(m,n))}).fail(function(){}).always(function(){}):i.data&&T(i.data.data||i.data,n)}),y=function(t){var i,o,a=g+f.templateSource,d=t.tradingHours.length>0,u=c.find(s+"_opening-hours_day"),p=c.find(s+"_content"),m=window.Utilities.SiteFeatures.getIsTradeUser();t.buttonText="trade"===com.bunnings.THEME_NAME?"Change Trade Centre":"Change store",t.storeDetailsText="trade"===com.bunnings.THEME_NAME?"Trade Centre details":"Store details",t.isTradeUser=m;(function(e){return r.get(e)})(a).then(function(i){o=n.getTemplate(a);var r=o(t);c.find(s+"_title_text").text(t.navTitle),c.find(s+"_title_link").attr("href",t.storeUrl),c.find(s+"_opening-hours_link").attr("href",t.storeUrl),HeaderTopDrawer(e).populateTopDrawer(r),d&&e(u).each(function(n){var i=t.tradingHours[n].label,o=t.tradingHours[n].dateTime,r=t.tradingHours[n].timeTextString;"Today"!==i&&(i='<abbr title="'+i+'">'+i.substr(0,3)+"</abbr>"),e(this).find(s+"_opening-hours_list-time").prop("datetime",o),e(this).find(s+"_opening-hours_label").html(i+":"),e(this).find(s+"_opening-hours_value").text(r)});var f=e(s+"_opening-hours").text().trim();f=f.replace(/^\s+|\s+$/g,""),e(s+"_opening-hours_link").attr("datav3-track-text",f),p.removeClass("is-unpopulated"),p.addClass("is-populated"),l.removeClass("is-loading")}),n.getTemplateAsync(a,function(o){i=n.compileTemplate(a,o,t),HeaderTopDrawer(e).populateTopDrawer(i),c.find(s+"_title_text").text(t.navTitle),c.find(s+"_title_link").attr("href",t.storeUrl),c.find(s+"_opening-hours_link").attr("href",t.storeUrl),d&&e(u).each(function(n){var i=t.tradingHours[n].label,o=t.tradingHours[n].dateTime,r=t.tradingHours[n].timeTextString;"Today"!==i&&(i='<abbr title="'+i+'">'+i.substr(0,3)+"</abbr>"),e(this).find(s+"_opening-hours_list-time").prop("datetime",o),e(this).find(s+"_opening-hours_label").html(i+":"),e(this).find(s+"_opening-hours_value").text(r)});var r=e(s+"_opening-hours").text().trim();r=r.replace(/^\s+|\s+$/g,""),e(s+"_opening-hours_link").attr("datav3-track-text",r),p.removeClass("is-unpopulated"),p.addClass("is-populated"),l.removeClass("is-loading")})},_=function(e,t){var n=[],t=t||!1,i=!0;return n.label=S(e.Name,e.WeekdayName),n.isOpen=e.IsOpen,n.openingTime=e.OpeningTime,n.closingTime=e.ClosingTime,n.dateTime=e.Date,n.timeTextString="",n.labelWithHolidayName=e.Name,i=t||!n.isOpen||!n.openingTime||!n.closingTime,n.timeTextString=i?"Closed":formatHours(n.openingTime)+" - "+formatHours(n.closingTime),n},S=function(e,t){return void 0===t?e:"Today"===e?e:t},T=function(n,i){var o,r,s={};if(s.tradingHours=[],s.navTitle=n.Name,s.storeName=n.Name,s.isOpenSoon=n.isOpenSoon,s.storeUrl=n.StoreUrl,s.streetAddress=n.Address,s.storeLocation=n.Latitude+","+n.Longitude,s.storeTypeName=n.StoreTypeName||"","undefined"!=typeof com&&(s.themeName=com.bunnings.THEME_NAME),""!==e.trim(n.AddressLineTwo)&&(s.streetAddress=s.streetAddress+"<br>"+n.AddressLineTwo),s.suburb=n.Suburb,s.state=n.State,s.postcode=n.Postcode,s.phone=n.Phone,s.phoneTel=n.PhoneTel,o=a.directionsLink,com.bunnings.mapSearchName&&(o=o+" "+com.bunnings.mapSearchName+", "),o=o+n.Address+",",""!==e.trim(n.AddressLineTwo)&&(o=o+n.AddressLineTwo+","),o=o+n.Suburb+",",o+=n.Postcode,s.directionsLink=o,n.TradingHours.length>0)for(var c=0;c<2;c++)s.tradingHours.push(_(n.TradingHours[c],s.isOpenSoon));s.storeListURL=a.storeListURL,"bunnings"!==s.themeName&&"trade"!==s.themeName||"geo"!==i||(r=s.suburb+s.state,r!==v(d)&&window.location.reload(),t.setCookie(d,s.suburb+s.state,28)),y(s)},w=function(t){var n=t.coords.latitude,i=t.coords.longitude;e.ajax({dataType:"json",method:"GET",url:a.endpointGetStoreInfoUsingLatLong+"latitude="+n+"&longitude="+i}).done(function(e){(m=e)&&T(m,"geo")}).fail(function(){}).always(function(){})},C=function(e){"bunnings"!==com.bunnings.THEME_NAME&&"trade"!==com.bunnings.THEME_NAME||b(a.storeNumber,"global")},E=function(){C()},P=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(w,C):C()},k=function(){var e;e=v(u),e?b(a.storeNumber,"cookie"):(E(),P())},L=function(){a.storeNumber=v(p),b(a.storeNumber,"cookie")};return{init:function(t,n){c=e(t),c.data("props")&&(f.endpointGetStoreInfoUsingLatLong=c.data("props").endpointGetStoreInfoUsingLatLong?c.data("props").endpointGetStoreInfoUsingLatLong:f.endpointGetStoreInfoUsingLatLong,f.endpointGetStoreInfoUsingNum=c.data("props").endpointGetStoreInfoUsingNum?c.data("props").endpointGetStoreInfoUsingNum:f.endpointGetStoreInfoUsingNum,f.directionsLink=c.data("props").directionsLink?c.data("props").directionsLink:f.directionsLink,f.storeListURL=c.data("props").storeListURL?c.data("props").storeListURL:f.storeListURL),com.bunnings.mapCanonicalisation="bunnings"===com.bunnings.THEME_NAME||"trade"===com.bunnings.THEME_NAME?".com.au":".co.uk",com.bunnings.mapSearchName="bunnings"===com.bunnings.THEME_NAME||"trade"===com.bunnings.THEME_NAME?"Bunnings Warehouse":"Homebase",a=e.extend({},f,n),a.storeNumber=v(p),s="."+c.attr("class"),l=e(s+"-loading"),k(),window.addEventListener("Bunnings.HeaderStoreInformation.storeupdated",L)},getTradingHoursWeekdayName:S}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=HeaderStoreInformation);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HeaderStoreInformationWithoutGeolocation=function(e,t,n,i,o,r){var a,s,c,l,d=o.Suburb,u=o.NearestStoreNumber,p=(o.UserType,{storeNumber:"2320",endpointGetStoreInfoUsingLatLong:"/data/api/header-store-information-geo.api.json?",endpointGetStoreInfoUsingNum:"/data/api/header-store-information-store.api.json/",endpointAuthorization:"Token 3C5B7621-A7D6-4EB6-9C68-E34941AC5969",directionsLink:"//maps.google"+com.bunnings.mapCanonicalisation+"/maps?daddr="+com.bunnings.mapSearchName+",",storeListURL:"stores/region",templateSource:"/templates/HeaderStoreInformation/header-store-information-details.runtime.hbs"}),f={},m=window.Utilities.GetEnvironment.assetLocation(),g=new LocalStorage,h=t.getCookie,v=(t.setCookie,function(e,t){var n=g.getLocalStorageData("storeDetails"),i=g.getLocalStorageExp("storeDetails");n&&n.data.StoreNumber&&n.data.StoreNumber+""!==e||!i||i<Date.now()?r({method:"get",responseType:"json",headers:{Authorization:a.endpointAuthorization,"Cache-Control":"max-age=600"},url:a.endpointGetStoreInfoUsingNum+e}).then(function(e){(f=e.data)&&(g.setLocalStorage("storeDetails",f),S(f,t))}).catch(function(e){return console.log(e)}):n.data&&S(n.data.data||n.data,t)}),b=function(t){var i,o,a=m+p.templateSource,d=t.tradingHours.length>0,u=c.find(s+"_opening-hours_day"),f=c.find(s+"_content"),g=window.Utilities.SiteFeatures.getIsTradeUser();t.buttonText="trade"===com.bunnings.THEME_NAME?"Change Trade Centre":"Change store",t.storeDetailsText="trade"===com.bunnings.THEME_NAME?"Trade Centre details":"Store details",t.isTradeUser=g;(function(e){return r.get(e)})(a).then(function(i){o=n.getTemplate(a);var r=o(t);c.find(s+"_title_text").text(t.navTitle),c.find(s+"_title_link").attr("href",t.storeUrl),c.find(s+"_opening-hours_link").attr("href",t.storeUrl),HeaderTopDrawer(e).populateTopDrawer(r),d&&e(u).each(function(n){var i=t.tradingHours[n].label,o=t.tradingHours[n].dateTime,r=t.tradingHours[n].timeTextString;"Today"!==i&&(i='<abbr title="'+i+'">'+i.substr(0,3)+"</abbr>"),e(this).find(s+"_opening-hours_list-time").prop("datetime",o),e(this).find(s+"_opening-hours_label").html(i),e(this).find(s+"_opening-hours_value").text(r)});var p=e(s+"_opening-hours").text().trim();p=p.replace(/^\s+|\s+$/g,""),e(s+"_opening-hours_link").attr("datav3-track-text",p),f.removeClass("is-unpopulated"),f.addClass("is-populated"),l.removeClass("is-loading")}),n.getTemplateAsync(a,function(o){i=n.compileTemplate(a,o,t),HeaderTopDrawer(e).populateTopDrawer(i),c.find(s+"_title_text").text(t.navTitle),c.find(s+"_title_link").attr("href",t.storeUrl),c.find(s+"_opening-hours_link").attr("href",t.storeUrl),d&&e(u).each(function(n){var i=t.tradingHours[n].label,o=t.tradingHours[n].dateTime,r=t.tradingHours[n].timeTextString;"Today"!==i&&(i='<abbr title="'+i+'">'+i.substr(0,3)+"</abbr>"),e(this).find(s+"_opening-hours_list-time").prop("datetime",o),e(this).find(s+"_opening-hours_label").html(i+":"),e(this).find(s+"_opening-hours_value").text(r)});var r=e(s+"_opening-hours").text().trim();r=r.replace(/^\s+|\s+$/g,""),e(s+"_opening-hours_link").attr("datav3-track-text",r),f.removeClass("is-unpopulated"),f.addClass("is-populated"),l.removeClass("is-loading")})},y=function(e,t){var n=[],t=t||!1,i=!0;return n.label=_(e.Name,e.WeekdayName),n.isOpen=e.IsOpen,n.openingTime=e.OpeningTime,n.closingTime=e.ClosingTime,n.dateTime=e.Date,n.timeTextString="",n.labelWithHolidayName=e.Name,i=t||!n.isOpen||!n.openingTime||!n.closingTime,n.timeTextString=i?"Closed":formatHours(n.openingTime)+" - "+formatHours(n.closingTime),n},_=function(e,t){return void 0===t?e:"Today"===e?e:t},S=function(n,i){var o,r,s={};if(s.tradingHours=[],s.navTitle=n.Name,s.storeName=n.Name,s.isOpenSoon=n.isOpenSoon,s.storeUrl=n.StoreUrl,s.streetAddress=n.Address,s.storeLocation=n.Latitude+","+n.Longitude,s.storeTypeName=n.StoreTypeName||"","undefined"!=typeof com&&(s.themeName=com.bunnings.THEME_NAME),""!==e.trim(n.AddressLineTwo)&&(s.streetAddress=s.streetAddress+"<br>"+n.AddressLineTwo),s.suburb=n.Suburb,s.state=n.State,s.postcode=n.Postcode,s.phone=n.Phone,s.phoneTel=n.PhoneTel,o=a.directionsLink,com.bunnings.mapSearchName&&(o=o+" "+com.bunnings.mapSearchName+", "),o=o+n.Address+",",""!==e.trim(n.AddressLineTwo)&&(o=o+n.AddressLineTwo+","),o=o+n.Suburb+",",o+=n.Postcode,s.directionsLink=o,n.TradingHours.length>0)for(var c=0;c<2;c++)s.tradingHours.push(y(n.TradingHours[c],s.isOpenSoon));s.storeListURL=a.storeListURL,"bunnings"!==s.themeName&&"trade"!==s.themeName||"geo"!==i||(r=s.suburb+s.state,r!==h(d)&&window.location.reload(),t.setCookie(d,s.suburb+s.state,28)),b(s)},T=function(){v(a.storeNumber,"cookie")},w=function(){T()},C=function(){a.storeNumber=h(u),v(a.storeNumber,"cookie")};return{init:function(t,n){c=e(t),c.data("props")&&(p.endpointGetStoreInfoUsingLatLong=c.data("props").endpointGetStoreInfoUsingLatLong?c.data("props").endpointGetStoreInfoUsingLatLong:p.endpointGetStoreInfoUsingLatLong,p.endpointGetStoreInfoUsingNum=c.data("props").endpointGetStoreInfoUsingNum?c.data("props").endpointGetStoreInfoUsingNum:p.endpointGetStoreInfoUsingNum,p.directionsLink=c.data("props").directionsLink?c.data("props").directionsLink:p.directionsLink,p.storeListURL=c.data("props").storeListURL?c.data("props").storeListURL:p.storeListURL),com.bunnings.mapCanonicalisation="bunnings"===com.bunnings.THEME_NAME||"trade"===com.bunnings.THEME_NAME?".com.au":".co.uk",com.bunnings.mapSearchName="bunnings"===com.bunnings.THEME_NAME||"trade"===com.bunnings.THEME_NAME?"Bunnings Warehouse":"Homebase",a=e.extend({},p,n),a.storeNumber=h(u),s="."+c.attr("class"),l=e(s+"-loading"),w(),window.addEventListener("Bunnings.HeaderStoreInformation.storeupdated",C)},getTradingHoursWeekdayName:_}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=HeaderStoreInformationWithoutGeolocation);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HeaderStoreLocator=function(e,t,n,i,o){var r,a,s,c,l,d,u,p,f,m,g,h,t,v,b,y,_,S,T=!1,w=n.PreviousSelectedStoreInfo,C=(n.NearestStoreID,n.NearestStoreIsRemote,n.NearestStoreName,n.NearestStoreNumber,n.Region,n.SelectedPostcode,n.SelectedSuburbID,n.Location,n.CurrentStoreInfo),E=(n.UserType,{triggerSelector:".header-store-locator_trigger",contentSelector:".header-store-locator_content",inputSelector:".header-store-locator_input",searchBtnSelector:".header-store-locator_search-btn",cancelBtnSelector:".header-store-locator_cancel-btn",autoCompleteKeypressMinLength:3,autoCompleteDelay:500,autoCompleteContainerToAppend:".header-store-locator_suburb-result",storeResultContainerToAppend:".header-store-locator_store-result",listItemLinkClassname:"header-store-locator_link",ajaxLocationAutoSuggestPostParameter:"prefixText",ajaxPostBackTypeOverride:"GET",endpointLocationAutoSuggest:"/bunnings/data/api/store-search-service-location-auto-suggest.api.json",endpointStoreSearch:"/bunnings/data/api/store-search-service-location-store-result.api.json",endpointStoreDetails:"/bunnings/data/api/store-search-service-location-store-details.api.json",endpointSetNearestStoreAndSuburb:"/bunnings/data/api/store-set.api.json?",errorLessCharInputted:"Please enter at least 3 characters",errorNoResult:"No store can be found",overlayEventData:{context:".header_top_content"}}),P=!1,k=function(){b=t.getCookie(w),g=r.find(".header-store-locator_previous-stores");var e=g.find("a");if(e.length>0&&e.remove(),""!==b){b=JSON.parse(b),h={storeID:b.PreviousSelectedStoreID,storeName:b.PreviousSelectedStoreName,suburbID:b.PreviousSelectedSuburbID,storeNumber:b.PreviousSelectedStoreNumber,storeType:b.PreviousSelectedStoreType};var n=T&&h.storeType?O(h.storeType):"";g.show().append('<a class="'+S.listItemLinkClassname+'" datav3-track-event="select"><div class="header-store-locator_result_list-name">'+h.storeName+"</div>"+n+"</a>")}},L=function(){g=r.find(".header-store-locator_previous-stores"),g.on("click","."+S.listItemLinkClassname,function(){U(h)})},I=function(){var e=r.find(S.triggerSelector),t=a.find(".change-store a");e.length>0&&t.click(function(){e.click(),a.animate({scrollTop:0},600)})},A=function(){var t=r.find(S.triggerSelector);s=r.find(S.contentSelector),t.length>0&&t.on("click",function(t){s.toggle(.1,function(){s.not(":hidden").length?(F(),k(),r.addClass("is-active"),e("body").trigger("OPACITY_OVERLAY_IS_ACTIVE",S.overlayEventData),i.toggleHeaderFocus(!0),e(window).on("click.headerStore",function(t){var n=e(t.target).parents(".js-header-store-locator").length>0,o=e(t.target).is(".js-header-store-locator");n||o||(s.hide(),r.removeClass("is-active"),e(window).off("click.headerStore"),e("body").trigger("OPACITY_OVERLAY_IS_DORMANT",S.overlayEventData),e("body").trigger("scrollable-body"),setTimeout(function(){i.toggleHeaderFocus(!1)},375))})):(e(window).off("click.headerStore"),r.removeClass("is-active"),e("body").trigger("OPACITY_OVERLAY_IS_DORMANT",S.overlayEventData),e("body").trigger("scrollable-body"),setTimeout(function(){i.toggleHeaderFocus(!1)},375))})})},R=function(t){var n=[];return 0===t.d.length?n:e.map(t.d,function(e){var t="";return t="NZ"==com.bunnings.COUNTRY_CODE?q(e.Name)+", "+e.PostCode:q(e.Name)+", "+e.State+", "+e.PostCode,{value:t,label:t,postcode:e.PostCode,suburbID:e.SuburbID}})},x=function(t,n){e.ajax({type:S.ajaxPostBackTypeOverride,dataType:"json",contentType:"application/json; charset=utf-8",url:S.endpointLocationAutoSuggest,data:"{"+S.ajaxLocationAutoSuggestPostParameter+':"'+t.term+'"}',success:function(e){var t=R(e);0===t.length&&G(S.errorNoResult),n(t)},error:function(e,t,n){}})},N=function(){if(c=r.find(S.inputSelector),l=r.find(S.searchBtnSelector),d=r.find(S.cancelBtnSelector),!c.length)return!1;c.on("keyup change",function(e){""!=c.val()?r.addClass("is-focus"):r.removeClass("is-focus"),13==e.which&&c.val().length>=S.autoCompleteKeypressMinLength?e.preventDefault():13==e.which&&c.val().length<S.autoCompleteKeypressMinLength?(e.preventDefault(),G(S.errorLessCharInputted)):c.val().length>=S.autoCompleteKeypressMinLength&&W()}),l.on("click",function(){Bunnings.TrackingV3.pushTrackingData(l,"search",{"datav3-action-text":"search"})}),d.on("click",function(e){e.preventDefault(),F(),Bunnings.TrackingV3.pushTrackingData(d,"close",{"datav3-action-text":"close"})}),c.autocomplete({
minLength:S.autoCompleteKeypressMinLength,delay:S.autoCompleteDelay,appendTo:S.autoCompleteContainerToAppend,source:x,open:function(e,t){r.find(".ui-autocomplete").css("width","100%"),r.find(".ui-autocomplete").css("position","static"),r.find(".ui-autocomplete").addClass("header-store-locator_result_list"),r.addClass("is-displaying-result"),m.hide(),p.show()},close:function(e,t){p.hide(),r.removeClass("is-displaying-result")},select:function(e,t){u=t.item.suburbID,M(t.item.value,u)}}).data("ui-autocomplete")._renderItem=function(t,n){return e('<li class="ui-menu-item">').append('<a class="'+S.listItemLinkClassname+'" datav3-track-event="select">'+n.label+"</a>").appendTo(t)}},M=function(t,n){e.ajax({type:S.ajaxPostBackTypeOverride,dataType:"json",contentType:"application/json; charset=utf-8",url:S.endpointStoreSearch,data:'{ "searchString": "'+t+'" }',success:function(t){var i=e.parseJSON(t.d);0==i.length?G(S.errorNoResult):(v=e.map(i,function(e){return{storeID:e.StoreID,isRemoteTargeting:e.IsRemoteTargeting,storeName:e.StoreName,storeNumber:e.StoreNumber,storeRegion:e.RegionName,storeTypeName:e.StoreTypeName,postcode:e.Address.Postcode,location:e.Location.Latitude+", "+e.Location.Longitude,suburbID:n}}),D(v))},error:function(e,t,n){}})},O=function(e){return' <div class="header-store-locator_result_list-type">'+e+"</div>"},D=function(t){V();for(var n=e('<ul class="header-store-locator_result_list">'),i=0;i<t.length;i++){var o=T&&t[i].storeTypeName?O(t[i].storeTypeName):"";n.append('<li class="header-store-locator_result_list-item"><a class="'+S.listItemLinkClassname+'" data-store-id="'+t[i].storeID+'"  datav3-track-event="select"><div class="header-store-locator_result_list-name">'+t[i].storeName+"</div>"+o+"</a></li>"),r.addClass("is-displaying-result")}n.on("click",e(this).find("a"),function(n){var i=e(n.target).parent().data("store-id"),o=e.grep(t,function(e){return e.storeID==i});o&&U(o[0])}),n.appendTo(S.storeResultContainerToAppend),m.show()},U=function(e){T&&y&&_?i.SiteFeatures.getStoreTradeStatus(e.storeID,function(t){var n=t.IsInsideTradeRegion||!1,i=t.IsTransactable||!1;y.setButtonCallback(0,function(t){P=!0,H(e.storeID,e.suburbID,e)}),_.setButtonCallback(0,function(t){H(e.storeID,e.suburbID,e)}),n?i?H(e.storeID,e.suburbID,e):_.open():y.open()}):H(e.storeID,e.suburbID,e)},B=function(e){localStorage.removeItem(e)},H=function(n,i,o){"function"==typeof t.removeCookie&&(t.removeCookie("NearestStore"),t.removeCookie("ShoppingCartCounter"),t.removeCookie("Promotion")),i||(i=0),e.ajax({url:S.endpointSetNearestStoreAndSuburb,data:'{ "storeID" : "'+n+'", "suburbID" : "'+i+'"}',dataType:"json",type:"POST",contentType:"application/json; charset=utf-8",success:function(e,n,i){B("ShoppingCartCounterMobile"),B("ShoppingCartCounter"),B("NearestStore"),B("Promotion"),B(["NearestStoreMobile"]),t.removeCookie(["NearestStoreMobile"]),t.setCookie(C,JSON.stringify(o),28),t.setCookie(w,e.d,28),P?document.location.href="/":window.location.reload(!0)},error:function(e,t,n){console.log("There was an error changing your current store")}})},V=function(){m.hide(),r.removeClass("is-displaying-result");var e=m.find("ul");e.length>0&&e.remove()},G=function(e){f.find(".header-store-locator_error_content").html(e),f.show(),r.addClass("is-error")},W=function(){f.hide(),r.removeClass("is-error")},F=function(){c.val(""),V(),r.removeClass("is-error is-focus"),p.hide(),m.hide(),W()},j=function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()},q=function(e){return e.split(" ").map(function(e){return j(e)}).join(" ")},$=function(t){return S=e.extend({},E,t)};return{init:function(t,n){r=e(t),a=e("html, body"),S=$(n),T=i.SiteFeatures.getIsTradeUser(),T&&(y=new o(e),y.init(ModalTemplates.TradeRegion),_=new o(e),_.init(ModalTemplates.TradeTransactable)),new OpacityOverlay(e).init(".header_top_content"),"trade"===com.bunnings.THEME_NAME&&(S.errorNoResult="No trade centre can be found"),p=r.find(S.autoCompleteContainerToAppend),m=r.find(S.storeResultContainerToAppend),f=r.find(".header-store-locator_error"),A(),I(),L(),N()},setOptions:$,searchAutoCompleteSource:x,transformSearchAutoCompleteData:R}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=HeaderStoreLocator);var HeaderTopDrawer=function e(t){var n,i=t("body"),o=t(".header_top"),r=t(".header_top_content"),a=t(".header_top_drawer-content"),s=t(".header_top_content_drawer-trigger"),c=!1,l={context:"#main"},d=window.Utilities.SiteFeatures.getIsTradeUser(),u=window.Utilities.GetEnvironment.isMobile(),p=function(t){a.empty(),a.append(t),e.drawerIsPopulated=!0,s.addClass("is-drawer-populated")},f=function(){a.addClass("is-active"),s.addClass("is-drawer-active"),r.addClass("is-drawer-active-background-change"),i.trigger("non-scrollable-body"),i.trigger("OPACITY_OVERLAY_IS_ACTIVE",l),c=!0,u&&a.hasClass("is-inactive")&&a.removeClass("is-inactive")},m=function(){a.removeClass("is-active"),s.removeClass("is-drawer-active"),r.removeClass("is-drawer-active-background-change"),i.trigger("OPACITY_OVERLAY_IS_DORMANT",l),i.trigger("scrollable-body"),c=!1},g=function(){var i=(e.drawerIsPopulated,t("<div>").addClass("header_top-trigger"));a.before(i),n.on("click",".header_top-trigger",function(){!c&&e.drawerIsPopulated?f():m()})},h=function(){a.removeClass("is-inactive")},v=function(){a.addClass("is-inactive"),m()},b=function(){t(".header_top_content_drawer-trigger-button:visible").is(":visible")?h():v()},y=function(){n.find(".header_top-trigger").attr(Bunnings.TrackingV3.ATTRIBUTES.TRACK_CLICK,!0).attr(Bunnings.TrackingV3.ATTRIBUTES.TRACK_COLLAPSIBLE,!0),a.attr(Bunnings.TrackingV3.ATTRIBUTES.TRACK_COLLAPSIBLE_CONTENT,!0)},_=function(){if(d){var e=window.location.pathname.indexOf("/enquiry")>-1||window.location.pathname.indexOf("/enquiries")>-1,t=window.location.pathname.indexOf("/confirmation")>-1;o.css("display",e&&!t?"none":"block")}};return{init:function(e){n=t(e),new OpacityOverlay(t).init("#main"),i.on("OPACITY_OVERLAY_CLICKED",function(){m()}),a.addClass("is-inactive"),g(),_(),b(),t(window).resize(function(){b()}),y(),Bunnings.Bus.subscribe("enquiry-header",_)},populateTopDrawer:p}},HeroCarousel=function(e){var t,n,i=".hero-carousel",o=!1,r=function(){var e=t.find(".slick-dots button");e.length>0&&e.attr(window.Bunnings.TrackingV3.ATTRIBUTES.TRACK_EVENT,"scroll")},a=function(t,n,i){!1===o&&(o=!0,n.slickUnfilter(),i||(i=e(window).width()),i<=960?(n.slickFilter(".is-mobile"),void 0!==n.$slides&&1===n.$slides.length&&(n.options.centerMode=!1)):n.slickFilter(".is-desktop"),o=!1)},s=function(){var t={adaptiveHeight:!1,arrows:!1,autoplay:!0,autoplaySpeed:5e3,centerMode:!1,dots:!0,mobileFirst:!1,pauseOnFocus:!1,pauseOnHover:!0,pauseOnDotsHover:!0,slidesToShow:1},n={adaptiveHeight:!1,arrows:!1,centerPadding:"0px",autoplay:!0,autoplaySpeed:5e3,centerMode:!1,dots:!0,mobileFirst:!1,pauseOnFocus:!1,pauseOnHover:!0,pauseOnDotsHover:!0,responsive:[{breakpoint:560,settings:{adaptiveHeight:!0,mobileFirst:!0,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!1}},{breakpoint:960,settings:{adaptiveHeight:!0,centerMode:!0,mobileFirst:!0,pauseOnFocus:!0,pauseOnHover:!0,pauseOnDotsHover:!1}}],slidesToShow:1},o=e(i).find(".hero-carousel_carousel");p()&&o.on("init breakpoint",a),e(i+":not(.hero-carousel--lg)").find(".hero-carousel_carousel").slick(n),e(i+"--lg").find(".hero-carousel_carousel").slick(t),o.on("breakpoint",function(e,t,n){r()})},c=function(){n.addClass("is-loaded")},l=function(){window.Bunnings.TrackingV3.setTrackingPosition(t)},d=function(t){e(".hero-carousel.hero-carousel--lg")&&(t.keydown(function(){t.addClass("hero-carousel_outline")}),t.click(function(){t.removeClass("hero-carousel_outline")}))},u=function(t){e(i+"--lg").find(".hero-carousel_image-overlay_link").on("mouseenter mouseleave",function(n){e(t).find(".slick-list").trigger(n.type)})},p=function(){return e(i).find("article.is-mobile, article.is-desktop").length>0};return{init:function(i){t=e(i),n=e(".hero-carousel_image-overlay_link"),l(),s(),r(),d(t),c(),u(t)}}},IFrameForm=function(e){return{init:function(t){var n=!0;e(t).load(function(){if(n)return void(n=!1);var i=e(t).offset().top;e("html, body").animate({scrollTop:i},"slow")})}}},LeadingBrands=function(e){var t,n=function(){e(".leading-brands_content").slick({arrows:!1,autoplay:!0,autoplaySpeed:3e3,dots:!0,pauseOnFocus:!1,rows:3,slidesPerRow:2}),e(".leading-brands_content").on("swipe",function(e,t,n){window.Utilities.ImgLazyload.render()})},i=function(){window.Bunnings.TrackingV3.setTrackingPosition(t)},o=function(){var e=t.find(".slick-dots button");e.length>0&&(e.attr(window.Bunnings.TrackingV3.ATTRIBUTES.TRACK_EVENT,"scroll"),window.Bunnings.TrackingV3.init())};return{init:function(r,a){t=e(r),i(),n(),o()}}},LegacyCart=function(e,t,n,i){var o,r,a=n.NearestStoreIsRemote,s=t.getCookie,c=function(e,t){var n=s(a),o=i.SiteFeatures.getIsCommerceFeatureEnabled(),r=com.bunnings.FEATURES.RemoteOrderFeatureToggle;o?"True"===n?r?(e.hide(),void 0!==t&&t.hide()):e.show():(e.hide(),void 0!==t&&t.hide()):e.show()};return{init:function(){com.bunnings.FEATURES&&(o=e(".remote-cart"),r=e(".cart-counts"),c(o,r))}}},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LegacyProductGridTileWithTradeModeVariant=function(e,t){var n,i={};i.priceWrapperSelector=".product-grid-image",i.priceSelector=".product-grid-price",i.onUpdateProductPrice=function(t,n){var i,o=e(n),r=o.attr(this.options.productSelectorAttribute),a=this.GetProductTradePrice(r),s=this.GetProductPowerPassLabelVisibility(r),c=o.find(this.options.priceWrapperSelector)[0];o.data("for-hire")||!1||(""===a?(i=com.bunnings.pricingEngine.config.ERROR_STATE,o.find(this.options.priceSelector).hide(),e(c).after(i)):(i=this.getPriceString(a),o.find(this.options.priceSelector)[0]&&(o.find(this.options.priceSelector)[0].innerHTML=i,o.find(this.options.priceSelector).css("visibility","visible"))),e(c).after(com.bunnings.pricingEngine.config.POWER_PASS_LABEL)),o.find(".product_list__price-label").css("visibility",s)};return{init:function(o,r){n=e.extend({},i,r),t.init(o,n,"LegacyProductGridTileWithTradeModeVariant",{onLoad:"onLoadingWithLoopingProducts",onLoadParametersObject:{functionForLoop:!1}})}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=LegacyProductGridTileWithTradeModeVariant);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LegacyProductTileWithTradeModeVariant=function(e,t){var n,i={};i.priceWrapperSelector=".product-list__title",i.priceSelector=".product-list__price",i.onLoading=function(){var e="["+this.options.productSelectorAttribute+']:not([data-for-hire="true"])',t=this.$el.find(e),n=t.find(this.options.priceSelector);this.$el.hasClass("carousel-product-list")?(e="[product-data-id]",t=this.$el.find(e),n=t.find(this.options.priceSelector),n.html(com.bunnings.pricingEngine.config.SVG_LOADER).css({visibility:"visible","text-align":"left"})):n.html(com.bunnings.pricingEngine.config.SVG_LOADER).css("visibility","visible")},i.onUpdateProductPrice=function(t,n){var i,o=e(n),r=o.attr(this.options.productSelectorAttribute),a=this.GetProductTradePrice(r),s=this.GetProductPowerPassLabelVisibility(r),c=o.find(this.options.priceWrapperSelector)[0];o.data("for-hire")||!1||(""!==a?(i=this.getPriceString(a),o.find(this.options.priceSelector)[0]&&(o.find(this.options.priceSelector)[0].innerHTML=i)):(i=com.bunnings.pricingEngine.config.ERROR_STATE,o.find(this.options.priceSelector).hide(),e(c).after(i)),e(c).after(com.bunnings.pricingEngine.config.POWER_PASS_LABEL),o.find(".product_list__price-label").css("visibility",s))};return{init:function(o,r){n=e.extend({},i,r),t.init(o,n,"LegacyProductTileWithTradeModeVariant")}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=LegacyProductTileWithTradeModeVariant);var LightboxProductImage=function(e,t){var n,i,o,r,a,s=BUI.Config.breakpoints.lg,c={mainGallery:".lightbox-product-image__main-image",navGallery:".lightbox-product-image__nav",navWrapper:".lightbox-product-image__nav-wrapper",nextButton:".lightbox-product-image__next-wrapper",prevButton:".lightbox-product-image__prev-wrapper",content:"",headerHTML:""},l={open:function(){}},d=function(e,t){"function"==typeof t&&(l[e]=t)},u=function(e){void 0!==e&&r.goToSlide(e),i.open(),r.rePosition(),l.open()},p=function(e,t,n){a.updateItem(e,n),r.updateItem(e,t),r.goToSlide(0),a.updateActiveNav(0)},f=function(){(window.innerWidth||document.documentElement.clientWidth)<s&&o.hasClass("bui-lightbox--visible")&&i.close()},m=function(e){return i[e]},g=function(){r.pauseAllVideos()};!function(){n=e.extend({},c,t),i=new BUI.Lightbox({content:n.content,header:{title:n.headerHTML}}),i.on("close",g),i.init(),o=e(i.lightboxElement)}();return{init:function(){var t=o.find(n.mainGallery),i=o.find(n.navGallery);r=new window.ProductImageGalleryMainImage(e),r.init(t,{slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!1,mobileFirst:!0,draggable:!0,speed:400,waitForAnimate:!1,responsive:null}),a=new window.ProductImageGalleryNav(e),a.init(i,{mainGallery:t,navItemClass:"lightbox-product-image__nav-item",navItemClassActive:"lightbox-product-image__nav-item--active",animateOnScroll:{parent:!0},mouseWheel:{parent:!0},drag:{parent:!0},overlay:null}),o.find(n.nextButton).click(function(){t.slick("slickNext")}),o.find(n.prevButton).click(function(){t.slick("slickPrev")}),f(),window.addEventListener("resize",_.debounce(f,150),!1)},open:u,updateItem:p,getElement:m,on:d}},ListWithReveal=function(e){var t,n,i,o,r,a,s={selector:"list-with-reveal"},c=function(){var s=0,c=!1;a=parseInt(n.visibleItemLimit);for(var l=0;r.length>l;l++)if(i=e(r[l]).find(".list-with-reveal_list-item"),(s+=i.length)>a&&0===l){e(r).hide(),e(r[l]).show();for(var d=0;d<i.length;d++)d>a-1&&e(i[d]).hide()}else c=!0;if(c){i=t.find(".list-with-reveal_list-item");for(var d=0;d<i.length;d++)d>a-1&&e(i[d]).hide()}s<=a&&e(o).hide()},l=function(){o.find("button").on("click",function(){i=t.find(".list-with-reveal_list-item"),a=parseInt(n.visibleItemLimit);for(var o=0;r.length>o;o++){e(r[o]).show("slow");for(var s=0;s<i.length;s++)s>a-1&&e(i[s]).show("slow")}e(this).parent().toggleClass("is-revealed")})};return{init:function(i,a){t=e(i),n=e.extend({},s,a),r=t.find(".list-with-reveal_content"),o=t.find(".list-with-reveal_button"),c(),l()}}},Modal=function(e){var t,n,i,o={header:{title:"",alignment:"left",customHTML:null,closeButton:!0},bodyHTML:null,isNarrow:!0,templateSource:"/templates/ModalPopup/modal-popup.runtime.hbs",actionButtons:[]},r=function(e){var n=[],i=0;e.forEach(function(e){var t=e.theme?" modal-popup_button--"+e.theme:" modal-popup_button--primary",o=e.extraClass?" "+e.extraClass:"",r="modal-popup_button"+t+o,a="cancel"==e.action?" data-modal-popup-cancel":"",s="data-modal-popup-click-"+i,c=e.attr||"";c=c+a+" "+s;var l=e.onClick||function(e){};n.push({title:e.title,className:r,attr:c,onClick:l,clickId:s}),i+=1}),t.actionButtonsData=n},a=function(e){e.narrowClass=e.isNarrow?"modal-popup_wrapper--narrow":"",r(e.actionButtons)};return{init:function(r){t=e.extend({},o,r);var s=Utilities.GetEnvironment.assetLocation(),c=s+t.templateSource;a(t),n=Handlebars.getTemplate(c),i=e(n(t)),e("body").append(i),i.on("click.modal-popup-close",".modal-popup_background,.modal-popup_close,[data-modal-popup-cancel]",function(e){i.hide()}),t.actionButtonsData.forEach(function(e){var t="["+e.clickId+"]";i.on("click.modal-popup-action",t,e.onClick)})},getElement:function(){return i},open:function(){i.show()},close:function(){i.hide()},setButtonCallback:function(e,n){if("function"==typeof n&&t.actionButtonsData[e]){t.actionButtonsData[e].onClick=n;var o="[data-modal-popup-click-"+e+"]";i.off("click.modal-popup-action",o),i.on("click.modal-popup-action",o,t.actionButtonsData[e].onClick)}}}},ModalTemplates=function(e){return{TradeRegion:{header:{title:"This action will sign you out from PowerPass"},bodyHTML:"<p>The store you have selected doesn&#39;t currently offer PowerPass pricing online.</p>        <p>If you change to this store, you will be:</p>        <ul>          <li>Signed out from your PowerPass Account</li>          <li>Products will be shown with retail pricing</li>          </li>        </ul>",actionButtons:[{title:"Change store"},{title:"Cancel",theme:"secondary",action:"cancel"}]},TradeTransactable:{header:{title:"Store outside of your account area"},bodyHTML:"<p>If you change to the selected store, you will not be able to see your        PowerPass prices or add products to enquiries.</p>",actionButtons:[{title:"Change store"},{title:"Cancel",theme:"secondary",action:"cancel"}]}}}($),OpacityOverlay=function(e){var t,n,i=function(){t=n.children(".opacity-overlay"),0==t.length&&(t=e("<div>",{class:"opacity-overlay is-dormant"}),n.prepend(t))},o=function(){e("body").on("OPACITY_OVERLAY_IS_ACTIVE",function(n,i){var o=t;if(i&&i.context){var r=i.context+" .opacity-overlay";o=e(r)}o.addClass("is-active"),o.removeClass("is-dormant")}),e("body").on("OPACITY_OVERLAY_IS_DORMANT",function(){t.addClass("is-dormant"),t.removeClass("is-active")}),t&&t.on("click",function(){e("body").trigger("OPACITY_OVERLAY_CLICKED")})};return{init:function(t){n=e(t),i(),o()}}},PersonalisedCarousel=function(e,t,n,i,o,r){var a,s,c,l={endpoint:"#",templateSource:"/templates/PersonalisedCarouselOnLoad/personalised-carousel-onload.runtime.hbs"},d=o.GetEnvironment.assetLocation(),u=function(e){return n.get(e)},p=function(e){var t=e.sliderType,n=e;switch(t){case"single-item":n.singleItem=!0,n.mvp=!1,n.featured=!0;break;case"single-item-mvp":n.mvp=!0,n.featured=!1,n.sliderType="single-item single-item-mvp";break;case"three-items":n.threeItem=!0,n.mvp=!1,n.featured=!0;break;case"four-items":n.fourItem=!0,n.mvp=!1,n.featured=!0;break;default:n.cta=!0,n.mvp=!1,n.featured=!0}return n},f=function(e){var t={};return t.currencySymbol=com.bunnings.CURRENCY_SYMBOL||"$",t.assets=d,t.overlay=e.overlay,t.items=[],e.items.forEach(function(e){t.items.push(p(e))}),t};return{init:function(n,o){a=n,s=e.extend({},l,o);var p=s.baseEndpoint,m=s.queryEndpoint,g=t.getCookie("Bunnings.NearestStoreNumber"),h=p+"/"+g+m,v=u(h),b=d+s.templateSource,y=i.getTemplate(b);v.then(function(t){if(t||t.hasOwnProperty("data")){var n=f(t.data);c=y(n),a.append(c),Bunnings.TrackingV3.init(),new r(e).init(e(".hero-carousel"))}}).catch(function(){})}}},PowerPassMenu=function(e){var t,n,i,o,r,a,s=e("body"),c={trigger:'[data-trigger="header-powerpass-menu-trigger"]',menu:'[class="header-powerpass-menu"]',headerNavigationTrigger:'[data-trigger="header-navigation-trigger"]',headerNavigationMenuContainer:'[class="header-navigation"]'},l=function(){r.removeClass("is-active"),a.removeClass("fixed-height"),s.removeClass("menu_is-active")},d=function(e){e?s.trigger("scrollable-body"):s.trigger("non-scrollable-body")},u=function(){e(i).on("click",function(){var t=e(this).hasClass("is-active"),a=r.hasClass("is-active");d(t),a&&l(),e(this).toggleClass("is-active",!t);var s=n?"is-open--during-checkout":"is-open";o.toggleClass(s,!t),t?window.Bunnings.TrackingV3.pushTrackingData(i,"collapse"):window.Bunnings.TrackingV3.pushTrackingData(i,"expand")})};return{init:function(s,l){i=e(s),i.attr("datav3-track-click","disabled"),t=e.extend({},c,l),o=e(t.menu),r=e(t.headerNavigationTrigger),a=e(t.headerNavigationMenuContainer),n=(window.location.pathname.indexOf("/enquiry")>-1||window.location.pathname.indexOf("/enquiries")>-1)&&!window.location.pathname.indexOf("/confirmation")>-1,n&&o.addClass("header-powerpass-menu--during-checkout"),u()}}},PricingEngine=function(e,t,n,i,o){var r={endpoint:"/bunnings/data/api/price-wrapper-valid.api.json"},a=o+"/tradepricing"||r.endpoint,s=e.getCookie("Bunnings.NearestStoreNumber"),c={},l={},d=com.bunnings.mockStatus,u=com.bunnings.pricingEngine.config,p=function(){return P(window.productList)},f=function(){return d?com.bunnings.mockData.user:window.Bunnings.UserContext},m=function(e){var t;if(e&&200===e.status){t=e.data;var n=[];t.items.forEach(function(e){n.push(new ProductModel(e.itemNumber,null,e.price,e.hasDiscount))}),ProductStorage.UpdateProducts(n),i.onSuccess()}else{var o=[];window.PricingEngine.CurrentProductSet.forEach(function(e){o.push(e.itemNumber)}),ProductStorage.ResetProducts(o),i.onError()}},g=function(){var e=[".product-price",".product-list__price",".product-grid-price",".product-list__unit",".price-value",".tile-product_price-value"];$('[data-component*="WithTradeModeVariant"]').each(function(){var t=$(this);e.forEach(function(e){t.find(e).css("visibility","visible")})}),$('[data-component*="WithTradeVariant"]').find(".product-price").css("visibility","visible"),h()},h=function(){document.querySelectorAll(".trade-mode-variant").length>0&&$(".trade-mode-variant").removeClass("trade-mode-variant"),document.querySelectorAll(".js-trade-mode").length>0&&$(".js-trade-mode").removeClass("js-trade-mode")},v=function(){var e="";com.bunnings.FEATURES&&com.bunnings.FEATURES.TradeModeGlobalFeatureToggle&&(e=com.bunnings.FEATURES.TradeModeGlobalFeatureToggle);var t=com.bunnings.mockStatus?com.bunnings.mockData.user:window.Bunnings.UserContext;return e&&t.isTradeUser&&t.showTradePricing},b=function(){if(l=f(),v())window.PricingEngine=window.PricingEngine||{},y(),c=p(),window.productList=c,c&&(I(),_(c,window.PricingEngine.startingPids),window.PricingEngine.startingPids=[],window.PricingEngine.store=e.getCookie("Bunnings.NearestStoreNumber"),C());else{localStorage.getItem("tradeModeSignedIn")&&(localStorage.removeItem("tradeModeSignedIn"),$("body").trigger(u.SESSION_EXPIRATION_EVENT));try{ProductStorage.ClearAll()}catch(e){console.log(e)}g()}},y=function(){window.PricingEngine.Queue=[],window.PricingEngine.IsPricingEngineProcessing=!1},_=function(e,t){var n=e||[];t&&Array.isArray(t)&&t.length>0&&(n=L(e,t)),S(n)},S=function(e){if(e&&e.length>0){for(var t=u.QUEUE_BATCH_SIZE&&u.QUEUE_BATCH_SIZE>0?u.QUEUE_BATCH_SIZE:e.length,n=0;n<e.length;n+=t){var i=e.slice(n,n+t);window.PricingEngine.Queue.push(i)}T(e)}},T=function(e){if(e&&e.length>0){var t=[];e.forEach(function(e){t.push(new ProductModel(e.itemNumber,e.price,null,null))}),ProductStorage.AddProducts(t)}},w=function(){return!!(window.PricingEngine.Queue&&window.PricingEngine.Queue.length>0)},C=function(){if(w()&&!window.PricingEngine.IsPricingEngineProcessing)return $("body").trigger(u.PRODUCT_PRICE_LOADING),window.PricingEngine.CurrentProductSet=window.PricingEngine.Queue.shift(),window.PricingEngine.CurrentProductIds=k(window.PricingEngine.CurrentProductSet),window.PricingEngine.IsPricingEngineProcessing=!0,n.init(window.PricingEngine.CurrentProductSet,a,m)},E=function(){var t=e.getCookie("Bunnings.NearestStoreNumber")||"";return window.PricingEngine.store&&""!==t&&window.PricingEngine.store!=t},P=function(e){if(void 0!==e){var t=[];return e.filter(function(e){return-1===t.indexOf(e.itemNumber)&&(t.push(e.itemNumber),!0)})}},k=function(e){var t=[];return e.forEach(function(e){-1===t.indexOf(e.itemNumber)&&t.push(e.itemNumber).toString()}),t},L=function(e,t){var n=t||[];return e.filter(function(e){return n.indexOf(e.itemNumber)>-1})},I=function(){var e=[],t=$('[data-component="ProductWithTradeModeVariant"][datav3-module-name="_ProductSubCategoryList"]');t&&t.length>0&&$('[data-component="ProductWithTradeModeVariant"]').each(function(){for(var t=$(this).find('.product-list__item[data-product-id][data-for-hire="false"]'),n=0;n<4&&n<t.length;n++)if($(t[n])){var i=$(t[n]).attr("data-product-id");i&&e.push(i)}}),window.PricingEngine.startingPids=e},A=function(){window.PricingEngine.DataComponent.Counter===window.PricingEngine.DataComponent.Total&&(window.PricingEngine.IsPricingEngineProcessing=!1,window.PricingEngine.DataComponent.Counter=0,window.PricingEngine.CurrentProductSet=[],C())},R=function(){b()};return $("body").on("Update-Search-Results-Desktop",function(){R()}),{init:function(){l=f(),l&&(localStorage.setItem("accountNumber",l.PPAN),localStorage.setItem("storeNumber",s)),b()},updatePrices:R,isTradeModeEnabled:v,addProductsToQueueFiltered:_,processPricingEngine:C,getProductIdsfromList:k,hasCurrentStoreChanged:E,onPricingEngineProcessComplete:A,removeTradeClasses:h}},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ProductBundleWithTradeModeVariant=function(e,t){var n,i=com.bunnings.pricingEngine.config.PRODUCT_BUNDLE_MARKUP,o={};o.priceSelector=".product-item-price span",o.powerPassLabel=".product-item-price__title",o.addCommaToNumberString=function(e){return Number(e).toLocaleString("en-AU")},o.getPriceString=function(e){var t="",n=_.escape(e);if(n){var i=n.toString().split(".");if(i.length>1){t+=o.addCommaToNumberString(i[0]);var r=i[1];r.length<2&&(r+="0"),t+="."+r}else{t+=o.addCommaToNumberString(n)}}return t},o.getTotalPriceString=function(e){var t="",n=_.escape(e);if(n){var i=n.toString().split(".");if(i.length>1){t+=o.addCommaToNumberString(i[0]);var r=i[1];r.length<2&&(r+="0"),t+="<sup>."+r+"</sup>"}else{t+=o.addCommaToNumberString(n)}}return t},o.onUpdateProductPrice=function(t,n){var i=e(n),r=i.attr(this.options.productSelectorAttribute),a=this.GetProductPowerPassLabelVisibility(r),s=this.GetProductTradePrice(r);if(i.removeClass("is-loading"),s){var c=o.getPriceString(s.toString()),l="<span>$"+c+"</span>";i.find(this.options.priceSelector).html(l);var d=parseInt(i.attr("data-product-quantity"))||1,u=Number(s)*d;-1!==u.toString().indexOf(".")&&(u=u.toFixed(2));var p=o.getTotalPriceString(u.toString());i.find(".challenge-bold").html("<sup>$</sup>"+p).css("visibility","visible"),i.find(".product-item-price").css("opacity","1"),i.find(this.options.powerPassLabel).css("visibility",a)}else i.addClass("has-error")};return{init:function(r,a){n=e.extend({},o,a),t.init(r,n,"ProductBundleWithTradeModeVariant",{onLoad:"onLoadingWithReplace",onLoadParametersObject:{loadingClass:"product-item-with-trade-mode is-loading",priceElementClass:".challenge-bold",replacementMarkup:i}})}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=ProductBundleWithTradeModeVariant);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ProductBundleWithTradeModeVariantMobile=function(e,t){var n,i=com.bunnings.pricingEngine.config.PRODUCT_BUNDLE_MARKUP_MOBILE,o={};o.priceSelector=".product-list__price span",o.powerPassLabel=".product-list__price-title",o.returnPriceValueAsString=function(e){var n="";if(e){var i=e.toString().split(".");if(i.length>1){n+=t.prototype.addCommaToNumberString(i[0]);var o=i[1];o.length<2&&(o+="0"),n+="."+o}else{n+=t.prototype.addCommaToNumberString(e)}}return n},o.onUpdateProductPrice=function(t,n){var i=e(n),r=i.attr(this.options.productSelectorAttribute),a=this.GetProductPowerPassLabelVisibility(r),s=this.GetProductTradePrice(r);if(i.removeClass("is-loading"),s){var c=_.escape(s),l=o.returnPriceValueAsString(c);i.find(this.options.priceSelector).html(l),i.find(".product-list__price").css("visibility","visible"),i.find(this.options.powerPassLabel).css("visibility",a)}else i.addClass("has-error")};return{init:function(r,a){n=e.extend({},o,a),t.init(r,n,"ProductBundleWithTradeModeVariantMobile",{onLoad:"onLoadingWithReplace",onLoadParametersObject:{loadingClass:"product-item-with-trade-mode is-loading",priceElementClass:".product-list__price",replacementMarkup:i}})}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=ProductBundleWithTradeModeVariantMobile);var ProductCatalogueCarousel=function(e){var t,n,i=function(){var t;e(n).slick((t={arrows:!1,infinite:!0,slidesToShow:2,mobileFirst:!0,touchThreshold:20},_defineProperty(t,"infinite",!1),_defineProperty(t,"responsive",[{breakpoint:730,settings:{slidesToShow:5,slidesToScroll:3}},{breakpoint:560,settings:{slidesToShow:3,slidesToScroll:2}}]),t)),e(n).on("swipe",function(e,t,n){window.Utilities.ImgLazyload.render()})},o=function(){Bunnings.TrackingV3.setTrackingPosition(t)};return{init:function(r,a){t=e(r),n=t.find(".product-catalogue_products"),o(),i()}}},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ProductCatalogueWithTradeModeVariant=function(e,t,n){var i,o=n||"ProductCatalogueWithTradeModeVariant",r={};return r.priceSelector=".tile-product_price-value",r.priceWrapperSelector=".tile-product_price",r.powerPassLabelClass=".product_list__price-label",r.onLoadingLoopFunction=function(){var t=e(this);if(t.hasClass("price-updated"))return!0;t.find(r.powerPassLabelClass).remove();t.find(".tile-product_price-value").html('<div class="loaders_rotate-circle"></div>').css("visibility","visible")},r.onUpdateProductPrice=function(t,n){var i,o=e(n),a=o.attr(this.options.productSelectorAttribute),s=this.GetProductTradePrice(a),c=this.GetProductPowerPassLabelVisibility(a),l=e(r.powerPassLabelClass),d=o.data("for-hire")||!1;o.find(l).remove(),d||(s?(o.addClass("price-updated"),o.find(r.priceWrapperSelector).removeClass("tile-product_price-line-height"),i=this.getPriceString(s),o.find(this.options.priceSelector)[0]&&(o.find(this.options.priceSelector)[0].innerHTML=i,o.find(r.priceWrapperSelector).before(com.bunnings.pricingEngine.config.POWER_PASS_LABEL))):(i=com.bunnings.pricingEngine.config.ERROR_STATE,o.find(this.options.priceSelector).hide(),o.find(this.options.priceWrapperSelector)[0]&&(o.find(r.priceWrapperSelector).before(com.bunnings.pricingEngine.config.POWER_PASS_LABEL),o.find(this.options.priceWrapperSelector)[0].innerHTML=i),o.find(r.priceWrapperSelector).addClass("tile-product_price-line-height")),o.find(this.options.priceSelector).css("visibility","visible"),o.find(r.powerPassLabelClass).css("visibility",c))},r.resetProduct=function(t,n){var i=e(n),o=i.find(this.options.priceValueSelector),a=i.find(this.options.priceUnitSelector),s=i.attr(this.options.productSelectorAttribute),c=this.GetProductRetailPrice(s);i.find(r.powerPassLabelClass).remove(),o.removeClass("is-loading"),a.css("visibility","visible"),i.find(this.options.priceSelector).html(this.getPriceString(c))},{init:function(n,a){i=e.extend({},r,a),t.init(n,i,o,{onLoad:"onLoadingWithLoopingProducts",onLoadParametersObject:{functionForLoop:r.onLoadingLoopFunction}})}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=ProductCatalogueWithTradeModeVariant);var ProductContainer=function(e){var t,n,i=BUI.Config.breakpoints.lg,o={sidebarSelector:".sticky-sidebar, .product-detail__sidebar-no-sticky"},r=function(){if((window.innerWidth||document.documentElement.clientWidth)<i)n.removeAttr("style");else{var o=0;e(t.sidebarSelector).children().each(function(){o+=Number(e(this).height())}),n.height()<o&&n.css({minHeight:o+"px"})}};return{init:function(i,a){n=e(i),t=e.extend({},o,a),_.delay(r,150),window.addEventListener("resize",_.debounce(r,150),!1)}}},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ProductDIYArticleWithTradeModeVariant=function(e,t){var n,i=com.bunnings.pricingEngine.config.CAROUSEL_MARKUP_MOBILE,o={};o.priceSelector=".tile-product_price-value",o.powerPassLabel=".tile-product_price-title",o.onUpdateProductPrice=function(t,n){
var i=e(n),o=i.attr(this.options.productSelectorAttribute),r=this.GetProductTradePrice(o),a=this.GetProductPowerPassLabelVisibility(o);if(!i.data("for-hire")&&1)if(i.removeClass("is-loading"),r){var s=this.getPriceString(r);i.find(this.options.priceSelector).html(s),i.find(this.options.priceSelector).css("visibility","visible"),i.find(this.options.powerPassLabel).css("visibility",a)}else i.addClass("has-error")};return{init:function(r,a){n=e.extend({},o,a),t.init(r,n,"ProductDIYArticleWithTradeModeVariant",{onLoad:"onLoadingWithReplace",onLoadParametersObject:{loadingClass:"tile-product-with-trade-mode is-loading",priceElementClass:".tile-tools-materials_price",replacementMarkup:i}})}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=ProductDIYArticleWithTradeModeVariant);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ProductDetailsActionsWithTradeModeVariant=function(e,t){var n,i={};return i.priceWrapperSelector=".product-list__del",i.priceUnitSelector=".product-list__unit",i.priceSelector=".price-value",i.priceAdditionalSelector=".price-additional",i.onLoading=function(){var e=this.$el.data("for-hire")||!1,t=this.$el.find(this.options.priceSelector),n=this.$el.find(this.options.priceUnitSelector),i=this.$el.find(this.options.priceAdditionalSelector);e||(n.css("visibility","hidden"),i.css("display","none"),t.addClass("loading-state"),t.html(com.bunnings.pricingEngine.config.SVG_LOADER).css("visibility","visible"))},i.onUpdateProductPrice=function(t,n){var i,o=e(n),r=o.attr(this.options.productSelectorAttribute),a=this.GetProductTradePrice(r),s=this.GetProductPowerPassLabelVisibility(r),c=o.find(this.options.priceUnitSelector),l=this.$el.find(this.options.priceSelector),d=o.find(".product-price")[0],u=this.$el.find(this.options.priceAdditionalSelector),p='<div class="product_list__price-label">PowerPass price</div>';o.data("for-hire")||!1||(a?(i=this.getPriceString(a),o.find(this.options.priceSelector)[0]&&(o.find(this.options.priceSelector)[0].innerHTML=i),l.removeClass("loading-state"),o.find(".product-price").css("visibility","visible"),c.css("visibility","visible"),u.css("display","block")):(i=com.bunnings.pricingEngine.config.ERROR_STATE,o.find(this.options.priceSelector).hide(),e(".price-additional").before(i),u.css("display","none"),p='<div class="product_list__price-label">PowerPass price not available</div>'),e(d).before(p)),o.find(".product_list__price-label").css("visibility",s)},{init:function(o,r){n=e.extend({},i,r),t.init(o,n,"ProductDetailsActionsWithTradeModeVariant")}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=ProductDetailsActionsWithTradeModeVariant);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ProductDetailsComponentWithTradeModeVariant=function(e,t,n){var i,o=n,r={};return r.priceWrapperSelector=".product-list__del",r.priceUnitSelector=".product-list__unit",r.priceSelector=".price-value",r.priceLabel=".product_list__price-label",r.onLoading=function(){var t="["+this.options.productSelectorAttribute+']:not([data-for-hire="true"])',n=this.$el.find(t),i=n.find(this.options.priceSelector),o=n.find(this.options.priceUnitSelector);e(n).each(function(e,t){t.classList.add("js-trade-mode")}),o.css("visibility","hidden"),i.html(com.bunnings.pricingEngine.config.SVG_LOADER).css("visibility","visible")},r.onUpdateProductPrice=function(t,n){var i,o=e(n),r=o.attr(this.options.productSelectorAttribute),a=this.GetProductTradePrice(r),s=this.GetProductPowerPassLabelVisibility(r),c=o.find(this.options.priceUnitSelector),l=o.find(this.options.priceWrapperSelector)[0];o.data("for-hire")||!1||(""===a?(i=com.bunnings.pricingEngine.config.ERROR_STATE,o.find(this.options.priceSelector).hide(),e(l).after(i),o.find(this.options.priceSelector)[0]&&(o.find(this.options.priceSelector)[0].innerHTML=i)):(o.find(this.options.priceSelector)[0].classList.add("trade-mode-price"),i=this.getPriceString(a),o.find(this.options.priceSelector)[0]&&(o.find(this.options.priceSelector)[0].innerHTML=i),c.css("visibility","visible")),e(l).after(com.bunnings.pricingEngine.config.POWER_PASS_LABEL)),o.find(".product_list__price-label").css("visibility",s)},{init:function(n,a){i=e.extend({},r,a),t.init(n,i,o)}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=ProductDetailsComponentWithTradeModeVariant);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ProductDetailsComponentWithTradeModeVariant=function(e,t,n){var i,o=n,r={};return r.priceWrapperSelector=".product-list__title",r.priceUnitSelector=".product-list__unit",r.priceSelector=".price-value",r.priceLabel=".product_list__price-label",r.onLoading=function(){var t="["+this.options.productSelectorAttribute+']:not([data-for-hire="true"])',n=this.$el.find(t),i=n.find(this.options.priceSelector),o=n.find(this.options.priceUnitSelector);e(n).each(function(e,t){t.classList.add("js-trade-mode")}),o.css("visibility","hidden"),i.html(com.bunnings.pricingEngine.config.SVG_LOADER).css("visibility","visible")},r.onUpdateProductPrice=function(t,n){var i,o=e(n),r=o.attr(this.options.productSelectorAttribute),a=this.GetProductTradePrice(r),s=this.GetProductPowerPassLabelVisibility(r),c=o.find(this.options.priceUnitSelector),l=o.find(this.options.priceWrapperSelector)[0];o.data("for-hire")||!1||(""===a?(i=com.bunnings.pricingEngine.config.ERROR_STATE,o.find(this.options.priceSelector).hide(),e(l).after(i),o.find(this.options.priceSelector)[0]&&(o.find(this.options.priceSelector)[0].innerHTML=i)):(o.find(this.options.priceSelector)[0].classList.add("trade-mode-price"),i=this.getPriceString(a),o.find(this.options.priceSelector)[0]&&(o.find(this.options.priceSelector)[0].innerHTML=i),c.css("visibility","visible")),e(l).after(com.bunnings.pricingEngine.config.POWER_PASS_LABEL)),o.find(".product_list__price-label").css("visibility",s)},r.onError=function(){var t,n="["+this.options.productSelectorAttribute+"]",i=this.$el.find(n),o=i.find(this.options.priceWrapperSelector);t=com.bunnings.pricingEngine.config.ERROR_STATE,i.find(this.options.priceSelector).hide(),e(o).after(t),e(o).after(com.bunnings.pricingEngine.config.POWER_PASS_LABEL)},{init:function(n,a){i=e.extend({},r,a),t.init(n,i,o)}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=ProductDetailsComponentWithTradeModeVariant);var ProductImageGallery=function(e,t){var n,i,o,r=BUI.Config.breakpoints.lg,a=BUI.Config.breakpoints.xl,s={mainGallery:".product-image__main-image-slider",navGallery:".product-image__nav-container",maxImageOnLG:4,maxImageOnXL:6},c=function(){var e=window.innerWidth||document.documentElement.clientWidth,t=i.getActiveIndex();e>=r&&e<a&&t>n.maxImageOnLG-2&&i.goToSlide(n.maxImageOnLG-2),e>a&&t>n.maxImageOnXL-2&&i.goToSlide(n.maxImageOnXL-2)},l=function(e,t,n){o.updateItem(e,n),i.updateItem(e,t),i.goToSlide(0),o.updateActiveNav(0)};return{init:function(r,a){var l=e(r);n=e.extend({},s,a);var d=l.find(n.mainGallery),u=l.find(n.navGallery);i=new ProductImageGalleryMainImage(e,t),i.init(d),o=new ProductImageGalleryNav(e,t),o.init(u,{mainGallery:d,mouseWheel:{parent:!1},drag:{parent:!1},maxImageOnLG:n.maxImageOnLG,maxImageOnXL:n.maxImageOnXL}),t.on("open",function(){i.pauseAllVideos()}),c(),window.addEventListener("resize",_.debounce(c,150),!1)},updateItem:l}},ProductImageGalleryMainImage=function(e,t){var n,i,o,r,a,s=BUI.Config.breakpoints.lg,c={slidesToShow:1,slidesToScroll:1,arrows:!1,mobileFirst:!0,draggable:!0,speed:400,waitForAnimate:!1,responsive:[{breakpoint:s,settings:{fade:!0,draggable:!1,speed:800}}],autoplayVideo:!1},l=function(){return a},d=function(){if((window.innerWidth||document.documentElement.clientWidth)<s)return!1;t.open(a)},u=function(t,i,o,r){var s=i.$slides.get(o),c=s.hasAttribute("data-video"),l=i.$slides.get(r),d=l.hasAttribute("data-video");if(c){var u=e(i.$slides[o]).data("video-player");u.pause()}if(d&&n.autoplayVideo){var u=e(i.$slides[r]).data("video-player");u.play()}a=r},p=function(t,n){a=n.loadIndex,o=n.$slides.filter("[data-video]"),o.each(function(){var t=e(this),i=t.find("video"),o=new window.ProductVideo(e);o.init(i);var r=t.data("slick-index");e(n.$slides[r]).data("video-player",o)})},f=function(){o.each(function(){var t=e(this),n=t.data("slick-index");e(r.$slides[n]).data("video-player").pause()})},m=function(t,o){i=e(t),n=e.extend({},c,o),i.on("init",p),i.slick(n),r=i.slick("getSlick"),i.on("click","[data-lightbox-enable]",d),i.on("beforeChange",u)},g=function(e){i.slick("slickGoTo",e)},h=function(e,t){i.slick("slickRemove",e),e<r.$slides.length||!1?i.slick("slickAdd",t,e,!0):i.slick("slickAdd",t)};return{init:m,rePosition:function(){i.slick("setPosition")},goToSlide:g,pauseAllVideos:f,getActiveIndex:l,updateItem:h}},ProductImageGalleryNav=function(e,t){var n,i,o,r,a=BUI.Config.breakpoints.lg,s=BUI.Config.breakpoints.xl,c={overlay:{element:'<span class="product-image__nav-item-overlay"></span>',maxImageOnLG:4,maxImageOnXL:6,visibleClass:"product-image__nav-item-overlay--is-visible"},mainGallery:null,navItemClass:"product-image__nav-item",navItemClassActive:"product-image__nav-item--active",animateOnScroll:!0,mouseWheel:!0,drag:!1},l=function(){var t=window.innerWidth||document.documentElement.clientWidth,i=e("body").hasClass("media-xl--enable");if(n.overlay)var c=function(){o.attr("tabindex",2),o.removeClass(n.overlay.visibleClass)};var l=function(e){c();var t=o.length;if(t>e){var i=o.eq(e-1);i.addClass(n.overlay.visibleClass);var a=i.find("."+r),s=t-e;a.text("+"+s);for(var l=e;l<t;l+=1)o.eq(l).attr("tabindex",-1)}};c(),n.overlay&&(t>=a&&l(n.overlay.maxImageOnLG),t>=s&&i&&l(n.overlay.maxImageOnXL))},d=function(){o.removeClass(n.navItemClassActive).attr("aria-pressed","false")},u=function(i){if(i.preventDefault(),"click"===i.type||"keypress"===i.type&&13===i.which){var o=e(this).index();if(n.overlay&&e(this).hasClass(n.overlay.visibleClass))return void(t&&t.open(o));e(n.mainGallery).slick("slickGoTo",o)}},p=function(){o.each(function(){var t=e(this),n=t.innerWidth()/3,o=t.position().left-i.scrollLeft(),r=1;if(o<0){r=1-Math.min(Math.abs(o)/n*.2,.2)}t.css("transform","scale("+r+")")})},f=function(e){var t,n,i=!1;e[0].addEventListener("mousedown",function(o){i=!0,t=o.pageX-e[0].offsetLeft,n=e[0].scrollLeft}),e[0].addEventListener("mouseleave",function(){i=!1}),e[0].addEventListener("mouseup",function(){i=!1}),e[0].addEventListener("mousemove",function(o){if(i){o.preventDefault();var r=o.pageX-e[0].offsetLeft,a=r-t;e[0].scrollLeft=n-a}})},m=function(t,r){t>=0&&t<o.length&&(e(o[t]).replaceWith(r),o=i.find("."+n.navItemClass),n.animateOnScroll&&p())},g=function(t){d(),e(o[t]).addClass(n.navItemClassActive)};return{init:function(t,a){if(i=e(t),n=e.extend({},c,a),o=i.find("."+n.navItemClass),n.overlay&&(o.children().append(n.overlay.element),r=e(n.overlay.element).attr("class"),l(),window.addEventListener("resize",_.debounce(l,150),!1)),n.mainGallery){i.on("keypress click","."+n.navItemClass,u);var s=e(n.mainGallery).slick("slickCurrentSlide");e(o[s]).addClass(n.navItemClassActive),e(n.mainGallery).on("beforeChange",function(e,t,n,i){g(i)})}var d;n.animateOnScroll&&(p(),d=n.animateOnScroll.parent?i.parent():i,d.on("scroll",p)),n.mouseWheel&&(d=n.mouseWheel.parent?i.parent():i,d.on("mousewheel DOMMouseScroll",function(t){var n=Math.max(-1,Math.min(1,t.originalEvent.wheelDelta||-t.originalEvent.detail));e(this).scrollLeft(e(this).scrollLeft()-40*n),t.preventDefault()})),n.drag&&(d=n.drag.parent?i.parent():i,f(d))},updateItem:m,updateActiveNav:g}},ProductVideo=function(e,t){var n,i,o,r,a={pauseLayerClassName:"brightcove-player_pause-layer"},s=!1,c={playerReady:function(){}},l=function(e,t){"function"==typeof t&&(this.event[e]=t)},d=function(e){s&&o.play()},u=function(){s&&o.pause()},p=function(){s&&o.dispose()},f=function(e){o=window.videojs(e)},m=function(e){i.after('<div class="'+e+'"><span class="brightcove-player_play-button"></span></div>')},g=function(){m(n.pauseLayerClassName),i.parent(".video-js").on("click","."+n.pauseLayerClassName,v),c.playerReady()},h=function(){i.parent(".video-js").hasClass("vjs-plugins-ready")&&(clearInterval(r),f(i[0]),s=!0,g())},v=function(e){s&&(i.parent(".video-js").hasClass("vjs-playing")?o.pause():o.play())};return{init:function(t,o){i=e(t),n=e.extend({},a,o),r=setInterval(h,100)},play:d,pause:u,dispose:p,on:l}},ProductModel=function e(t,n,i,o){_classCallCheck(this,e),this.Fineline=t||null,this.RetailPrice=n||null,this.TradePrice=i||null,this.HasDiscount=o||!1};window.ProductModelHelper=function(e){return{isValidProduct:function(e){return!(!e||!e.Fineline||!e.RetailPrice&&!e.TradePrice)}}}(window.jQuery);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ProductSetWithTradeModeVariantMobile=function(e,t){var n,i=com.bunnings.pricingEngine.config.PRODUCT_SET_MARKUP_MOBILE,o={};o.priceSelector=".product-list__price span",o.powerPassLabel=".product-list__price-title",o.getPriceString=function(e){var n="";if(e){var i=e.toString().split(".");if(i.length>1){n+=t.prototype.addCommaToNumberString(i[0]);var o=i[1];o.length<2&&(o+="0"),n+="."+o}else{n+=t.prototype.addCommaToNumberString(e)}}return n},o.onUpdateProductPrice=function(t,n){var i=e(n),r=i.attr(this.options.productSelectorAttribute),a=this.GetProductTradePrice(r),s=this.GetProductPowerPassLabelVisibility(r);if(i.removeClass("is-loading"),!(i.data("for-hire")||!1))if(""===a)i.addClass("has-error");else{var c=o.getPriceString(a);i.find(this.options.priceSelector).html(c),i.find(".product-list__price").css("visibility","visible"),i.find(this.options.powerPassLabel).css("visibility",s)}};return{init:function(r,a){n=e.extend({},o,a),t.init(r,n,"ProductSetWithTradeModeVariantMobile",{onLoad:"onLoadingWithReplace",onLoadParametersObject:{loadingClass:"product-list__item-with-trade-mode is-loading",priceElementClass:".product-list__price",replacementMarkup:i}})}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=ProductSetWithTradeModeVariantMobile);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ProductWithTradeModeVariant=function(e,t){var n,i={};i.priceWrapperSelector=".product-list__title",i.priceValueSelector=".product-list__price",i.priceUnitSelector=".product-list__unit",i.priceSelector=".price-value",i.powerPassLabel=".product_list__price-label",i.onLoadingLoopFunction=function(){var t=e(this);t.hasClass("price-updated")||(t.find(i.powerPassLabel).remove(),t.find(i.priceValueSelector).addClass("is-loading"),t.find(i.priceUnitSelector).css("visibility","hidden"),t.find(i.priceSelector).html(com.bunnings.pricingEngine.config.SVG_LOADER).css("visibility","visible"))},i.onUpdateProductPrice=function(t,n){var o,r,a=e(n),s=a.attr(this.options.productSelectorAttribute),c=this.GetProductTradePrice(s),l=this.GetProductPowerPassLabelVisibility(s),d=a.find(this.options.priceValueSelector),u=a.find(this.options.priceUnitSelector),p=i.powerPassLabel,f=a.data("for-hire")||!1;a.find(p).remove(),a.find(".product-list__price-error").remove(),f||(c?(r=a.find(this.options.priceWrapperSelector)[0],o=this.getPriceString(c),a.find(this.options.priceSelector)[0]&&(a.find(this.options.priceSelector)[0].innerHTML=o),d.removeClass("is-loading"),u.css("visibility","visible"),a.find(this.options.priceSelector).css("visibility","visible"),a.find(this.options.priceValueSelector).css("visibility","visible")):(o=com.bunnings.pricingEngine.config.ERROR_STATE,a.find(this.options.priceSelector).hide(),r=a.find(this.options.priceWrapperSelector)[0],a.hasClass("product-list__item__large")&&(a.addClass("has-error"),a.find(".product-list__price.has-price-value.is-loading").hide(),r=a.find(".product-list__photo")[0]),e(r).after(o)),e(a).hasClass("product-list__item__large")&&(r=a.find(".product-list__photo")[0]),a.addClass("price-updated"),e(r).after(com.bunnings.pricingEngine.config.POWER_PASS_LABEL),a.find(".product_list__price-label").css("visibility",l))},i.resetProduct=function(t,n){if(JSON.parse(localStorage.getItem("tradeModeSignedIn"))&&Utilities.SiteFeatures.getIsTradeUser()&&Utilities.SiteFeatures.getShowTradePricing()){var i=e(n),o=i.find(this.options.priceValueSelector),r=i.find(this.options.priceUnitSelector),a=i.attr(this.options.productSelectorAttribute),s=this.GetProductRetailPrice(a);i.find(".product_list__price-label").remove(),o.removeClass("is-loading"),r.css("visibility","visible"),i.find(this.options.priceSelector).html(this.getPriceString(s)),localStorage.setItem("tradeModeSignedIn","false")}};var o=function(t){t.find(".product-carousel__pager").click(function(){var n=[];e(t).find('.product-list__item[data-product-id][data-for-hire="false"]:not(.price-updated)').each(function(){var t=e(this);n.push(t.attr("data-product-id").toString()),t.find(".product_list__price-label").remove(),t.find(".product-list__price-error").remove(),t.find(".product-list__del").addClass("is-loading"),t.find(".product-list__unit").css("visibility","hidden"),t.find(".price-value").html(com.bunnings.pricingEngine.config.SVG_LOADER).css({visibility:"visible",display:"block"}),t.addClass("price-updated")}),n.length>0&&(pricingEngineInstance.addProductsToQueueFiltered(window.productList,n),pricingEngineInstance.processPricingEngine())})};return{init:function(r,a){n=e.extend({},i,a),t.init(r,n,"ProductWithTradeModeVariant",{onLoad:"onLoadingWithLoopingProducts",onLoadParametersObject:{functionForLoop:i.onLoadingLoopFunction}}),e("body").on(com.bunnings.pricingEngine.config.PRICINGENGINE_READY,function(){o(r)})}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=ProductWithTradeModeVariant);var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},getOpeningHtml=function(e,t,n,i,o){return'<div class="rich-relevance-placement '+i+" "+o+'" datav3-rr-placement-name="'+t+'" datav3-rr-strategy-name="'+n+'"><h2 class="sub-heading sub-heading-green similar-products-title">'+e+'</h2><section class="product-list similar-products-list related-product-list product-list-group">'},getClosingHtml=function(){return"</section></div>"},replaceLinkUrl=function(e,t,n){var i=$("<div>"+e+"</div>"),o=t.filter(function(e){return e.id===n})[0];return void 0!==o&&i.find("article > a").attr("href",o.link_url),i.html()},isPickUpLiveItemsTestFeatureAvailable=!1;com.bunnings.FEATURES&&(isPickUpLiveItemsTestFeatureAvailable=!!com.bunnings.FEATURES.PickUpLiveItemsTestFeatureToggle);var isPickUpOfLiveItemsTrialStore=window.Utilities.getIsPickUpOfLiveItemsTrialStore(),displayFulfillmentIcons=function(e){var t=$("<div>"+e+"</div>");if("bunnings"===themename){var n=t.find(".product-list__del").attr("data-props");if(void 0!==n&&n){var n=JSON.parse(n);(isPickUpLiveItemsTestFeatureAvailable?(n.isSpecialOrder||isPickUpOfLiveItemsTrialStore)&&!isRemoteStore&&void 0!==n.isRemoteOrderOnly&&!n.isRemoteOrderOnly:!isRemoteStore&&void 0!==n.isRemoteOrderOnly&&!n.isRemoteOrderOnly||isRemoteStore)&&(void 0!==n.isAvailableOnline&&n.isAvailableOnline&&t.find(".product-list__del__online").removeClass("hidden"),void 0!==n.isAvailableForDelivery&&n.isAvailableForDelivery&&t.find(".product-list__del__delivery").removeClass("hidden"),void 0!==n.isAvailableForPickup&&n.isAvailableForPickup&&t.find(".product-list__del__pickup").removeClass("hidden"))}}return t.html()},countrycode=void 0!==window.com.bunnings.COUNTRY_CODE?window.com.bunnings.COUNTRY_CODE:"AU",currency="UK"===countrycode?"":"$",themename=void 0!==window.com.bunnings.THEME_NAME?window.com.bunnings.THEME_NAME:"bunnings",NearestStoreIsRemote=Cookie().getCookie("Bunnings.NearestStoreIsRemote"),isRemoteStore=!(void 0===NearestStoreIsRemote||"true"!==NearestStoreIsRemote.toLowerCase()),device=Cookie().getCookie("Bunnings.Device"),regionFromCookie=Cookie().getCookie("Bunnings.Region"),isProductTileRefreshFeatureToggle=!1,LegacyRichRelevanceRendering=function(){var e=rr_recs.placements.filter(function(e){return!1===e.used});e.forEach(function(t,n){var i=e[n].placementType.split("."),o=document.querySelector("[data-rr-placement='"+i[1]+"']"),r=JSON.parse(o.getAttribute("data-props")),a="",s=void 0!==r.compare&&"true"===r.compare.toLowerCase()||!1,c=[],l=[],d="&themename="+themename+"&countrycode="+countrycode;"bunnings"!=themename&&"BUNNINGS"!=themename||(d+="&region="+regionFromCookie);var u="desktop";"mobile"===device||"responsivetesting"===device||"responsive"===device?(d+="&device=mobile",u="mobile"):s&&(d+="&compare=true");var p=window.com.bunnings.RR.productsApiUrl;-1===p.indexOf("itemnumber=")&&t.json.items.length>0&&(t.json.items.forEach(function(e,t){c[t]=l[t]=e.id}),l.sort(function(e,t){return e-t}),p=p.split("?")[0]+"?itemnumber="+l.join(",")),$.ajax(p+d).then(function(i){var r;if(c.length>0?(r=[],c.forEach(function(e,t){var n=i.filter(function(t){return t.ProductId==e});r.push(n[0])})):r=i,r.length>0){for(var s="",l=0;l<r.length;l++){var d=r[l],p=replaceLinkUrl(d.ProductTileLayout,t.json.items,d.ProductId);s+=displayFulfillmentIcons(p)}""!=s&&(a+=getOpeningHtml(t.json.message,t.placementType,t.json.strategy,window.com.bunnings.RR.pageType,u),a+=s,a+=getClosingHtml()),o.innerHTML=a,n===e.length-1&&("mobile"!==device&&"bunnings"!==themename&&"responsivetesting"!==device||$(".RefreshRrPlacement").removeClass("RefreshRrPlacement RefreshComponent"),new Body($,Cookie(),$,Utilities).init())}else console.log("No data returned from Server for Rich Relevance Placements")})})};com.bunnings.FEATURES&&(isProductTileRefreshFeatureToggle=!!com.bunnings.FEATURES.ProductTileRefreshFeatureToggle),"undefined"!=typeof RR&&(RR.jsonCallback=function(){window.dispatchEvent(new CustomEvent("RichRelevanceData_Ready")),isProductTileRefreshFeatureToggle||LegacyRichRelevanceRendering()});var RichRelevance=function(e){var t=Cookie().getCookie("RequestVerificationToken")?Cookie().getCookie("RequestVerificationToken"):null,n=new r3_common,i=window.com.bunnings.RR.APIKey,o=window.com.bunnings.RR.baseUrl,r=window.com.bunnings.RR.pageType,a=window.com.bunnings.RR.productsToInclude,s=Cookie().getCookie("RR_UID")?Cookie().getCookie("RR_UID"):null,c=Cookie().getCookie("Bunnings.Region")?Cookie().getCookie("Bunnings.Region"):null,l=window.com.bunnings.RR.text,d=window.com.bunnings.RR.id,u=window.com.bunnings.RR.categoryID?window.com.bunnings.RR.categoryID:null,p=window.com.bunnings.RR.searchTerm?window.com.bunnings.RR.searchTerm:null,f=!0===window.com.bunnings.RR.debugging,m=window.com.bunnings.RR.cartApiUrl?window.com.bunnings.RR.cartApiUrl:null,g=window.com.bunnings.ANTI_FORGERY_TOKEN?window.com.bunnings.ANTI_FORGERY_TOKEN:null,h=window.com.bunnings.RR.protocol?window.com.bunnings.RR.protocol:window.location.protocol,v=window.com.bunnings.RR.host?window.com.bunnings.RR.host:window.location.host,b=window.com.bunnings.RR.sendRegionForStrategies?window.com.bunnings.RR.sendRegionForStrategies:null,y=null,_=document.querySelectorAll("[data-rr-placement]"),S=document.querySelectorAll("[data-product-id]"),T=null,w={},C=function(e){_=e},E=function(e){S=e},P=function(){T=!1},k=function(){return w},L=function(e,t){N(),I(_),A()},I=function(e){if(e.length>0)for(var t=0;t<e.length;t++)n.addPlacementType(r+"."+e[t].attributes["data-rr-placement"].nodeValue),w["addPlacementType_"+t]="R3_COMMON.addPlacementType("+r+"."+e[t].attributes["data-rr-placement"].nodeValue+")";else n.addPlacementType(r),w.addPlacementType="R3_COMMON.addPlacementType("+r+")"},A=function(){if(r)switch(r){case"home_page":R(n,a);new r3_home;M();break;case"category_page":O(d,l),R(n,a),M();break;case"item_page":D(d,l),U(u),M(),e("body").on("click",".product-details-delivery-btn",function(){B(d,"")}),e("body").on("click",".product-details-reserve-btn, .product-details-stock-check-btn",function(){B(d,"");var t=XMLHttpRequest.prototype.open,n=null;XMLHttpRequest.prototype.open=function(){this.addEventListener("load",function(t){try{var i=JSON.parse(t.target.response)}catch(t){return!1}i.ReservationSucceeded&&1==i.ReservationSucceeded?W(n,i.ReservationNumber):e(".quantity-selector_input").length>0&&(n=[{LinePriceAmount:e(".cart-product-detail_price").html().replace(/$|/g,""),Quantity:e(".quantity-selector_input")[0].attributes.value.nodeValue,ProductId:e(".cart-product-detail_code").html().replace(/ /g,"")}])}),t.apply(this,arguments)}});break;case"add_to_cart_page":break;case"cart_page":q(m,g,H),e("body").on("click",'[href="/checkout/delivery"], .sign-in-overlay_cta',function(){var t=setInterval(function(){"/checkout/delivery"==window.location.pathname?(null==s&&(s=Cookie().getCookie("RR_UID")?Cookie().getCookie("RR_UID"):null),clearInterval(t),q(m,g,G),j()):0==e(".basket-modal").length&&clearInterval(t)},2e3)});break;case"brand_page":V(l),M();break;case"error_page":new r3_error;M();break;case"generic_page":R(n,a);new r3_generic;M();break;case"wish_list_page":var t=new r3_wishlist;e(".hproduct, .product-list__content").each(function(){if(e(this).data("bunningsProps")&&e(this).data("bunningsProps").sku){var n=e(this).data("bunningsProps").sku;t.addItemId(n),w["addItemId_"+n]="R3_WISHLIST.addItemId("+n+")"}}),M();break;case"purchase_complete_page":break;case"search_page":F(p),M();break;case"personal_page":new r3_personal;M()}},R=function(e,t){if(w.productsToInclude=t,t&&0!=t&&0!==S.length)for(var n=0;n<t&&void 0!==S[n];n++){var i=S[n].attributes["data-product-id"].nodeValue;e.addItemId(i),void 0!==e.constructor.name?w["addItemId_"+n]=e.constructor.name.toUpperCase()+".addItemId("+i+");":w["addItemId_"+n]="addItemId("+i+");"}},x=function(t){!0===f&&("Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/Trident/)||navigator.userAgent.match(/rv:11/)||void 0!==e.browser&&1==e.browser.msie||void 0!==T&&0==T?console.log(t):console.table(t))},N=function(){n.setApiKey(i),w.setApiKey="R3_COMMON.setApiKey("+i+")",n.setBaseUrl(o),w.setBaseUrl="R3_COMMON.setBaseUrl("+o+")",n.setClickthruServer(h+"//"+v),t&&(w.setSessionId="R3_COMMON.setSessionId("+t+")",n.setSessionId(t)),s&&(w.setUserId="R3_COMMON.setUserId("+s+")",n.setUserId(s)),null!==b&&c&&(w.setRegionId="R3_COMMON.setRegionId("+c+")",n.setRegionId(c))},M=function(){rr_flush_onload(),r3(),w.setClickthruServer="R3_COMMON.setClickthruServer("+h+"//"+v+")",x(w),"default"===device&&"bunnings"===themename&&void 0!==e.fn.bunnings_productCompareList&&e('.product-list__item .compare input[type="checkbox"]').bunnings_productCompareList()},O=function(e,t){if(e||t){var n=new r3_category;e&&(n.setId(e),w.setId="R3_CATEGORY.setId("+e+")"),t&&(n.setName(t),w.setName="R3_CATEGORY.setName("+t+")")}},D=function(e,t){if(e||t){var n=new r3_item;e&&(w.setId="R3_ITEM.setId("+e+")",n.setId(e)),t&&(w.setName="R3_ITEM.setName("+t+")",n.setName(t))}},U=function(e){e&&null!=e&&(w.addCategoryHintId="R3_COMMON.addCategoryHintId("+e+")",n.addCategoryHintId(e))},B=function(e,t){w={},n=new r3_common,N(),n.addPlacementType("add_to_cart_page"),w.addPlacementType="R3_COMMON.addPlacementType(add_to_cart_page)",(new r3_addtocart).addItemIdToCart(e,""),w.addItemIdToCart="R3_ADDTOCART.addItemIdToCart("+e+",'"+t+"')",M()},H=function(e){var t=new r3_cart;if(void 0!=e.Data)for(var n=y=e.Data.Lines,i=0;i<n.length;i++)t.addItemId(n[i].ProductId),w["addItemId_"+i]="R3_CART.addItemId("+n[i].ProductId+")";M()},V=function(e){w.setPageBrand="R3_COMMON.setPageBrand("+e+")",n.setPageBrand(e);new r3_brand},G=function(e){y=e.Data&&e.Data.Lines?e.Data.Lines:{}},W=function(e,t){if(e){w={},n=new r3_common,N(),n.addPlacementType("purchase_complete_page"),w.addPlacementType="R3_COMMON.addPlacementType(purchase_complete_page)";var i=new r3_purchased;i.setOrderNumber(t),w.setOrderNumber="R3_PURCHASED.setOrderNumber("+t+")";for(var o=e,r=0;r<o.length;r++)i.addItemIdPriceQuantity(o[r].ProductId,o[r].LinePriceAmount,o[r].Quantity),w["addItemIdPriceQuantity_"+r]="R3_PURCHASED.addItemIdPriceQuantity("+o[r].ProductId+", "+o[r].LinePriceAmount+", "+o[r].Quantity+")";M()}},F=function(e){var t=new r3_search;null!=e&&(w.setTerms="R3_SEARCH.setTerms("+e+")",t.setTerms(e)),R(t,a)},j=function(){if("|generic_page"!=n.placementTypes){w={},n=new r3_common,N(),n.addPlacementType("generic_page"),w.addPlacementType="R3_COMMON.addPlacementType(generic_page)",R(n,a);new r3_generic;M()}},q=function(t,n,i){null!=t&&null!=n&&e.ajax({headers:{Accept:"application/json, text/plain, */*",RequestVerificationToken:n},type:"POST",contentType:"application/json; charset=utf-8",url:t}).done(function(e){i(e)})};return{init:L,setAllPlacementsItems:C,setListOfItems:E,noBrowser:P,getProgress:k,purchaseComplete:function(e){w={},n=new r3_common,N(),n.addPlacementType("purchase_complete_page"),w.addPlacementType="R3_COMMON.addPlacementType(purchase_complete_page)";var t=new r3_purchased;t.setOrderNumber(e.orderId),w.setOrderNumber="R3_PURCHASED.setOrderNumber("+e.orderId+")";var i=e.items;for(var o in i)t.addItemIdPriceQuantity(i[o].sku,i[o].price,i[o].quantity),w["addItemIdPriceQuantity_"+o]="R3_PURCHASED.addItemIdPriceQuantity("+i[o].sku+", "+i[o].price+", "+i[o].quantity+")";M()}}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=RichRelevance);var ScrollPage=function(e){var t,n,i={element:".back-to-top_link",target:"body",offset:0,speed:"slow"},o=function(t,n,i){if(e(t).length){var o=e(t).offset().top;e("html, body").animate({scrollTop:o+n},i,function(){e(window).trigger("ScrollSmartHeader")})}},r=function(){t.on("click",n.element,function(e){e.preventDefault(),o(n.target,n.offset,n.speed)})};return{init:function(o,a){t=e(o),n=e.extend({},i,a),r()}}},SearchContainer=function(e){var t,n,i,o,r,a,s,c,l,d,u,p,f={endpoint:"/Components/Search/SuggestionsHandler.ashx"},m=e("body"),g={TERM:"Term",SUBMISSION:"Submission"},h=function(){o.autocomplete({source:function(t,i){e.ajax({type:"GET",url:n.endpoint,dataType:"json",data:{keywords:o.val(),facets:null},success:function(t){var n=t,r=[];e.each(n,function(){r.push({id:this.Keywords,label:this.Keywords,value:this.SearchPagePathAndQuery,name:this.RestrictionName})}),i(r),l=o.val()},failure:function(e){}})},minLength:2,delay:500,appendTo:i,position:{my:"left top",at:"left bottom",of:o},select:function(e,t){e.preventDefault(),o.val(t.item.id);var n=t.item.id+(t.item.name?" in "+t.item.name:"");return d(n),9!==e.which&&p(t.item.value),!1},focus:function(e,t){return o.val(t.item.id),!1},open:function(e,n){var i=t.find(".ui-autocomplete");i.addClass("search-container_results"),i.css({top:"100%",left:0,width:"100%"}),window.Utilities.toggleHeaderFocus(!0)}}).data("ui-autocomplete")._renderItem=function(t,n){var i=new RegExp(this.term,"i"),o=n.label.replace(i,'<span class="ui-menu-item_highlight">'+this.term+"</span>");return n.name.length>0&&(o+=' in <span class="ui-menu-item_category">'+n.name+"</span>"),e("<li></li>").data("item.autocomplete",n).append("<a href="+n.value+' datav3-track-event="select" datav3-track-text="select">'+o+"</a>").appendTo(t)},e(".ui-autocomplete").on("mouseleave",function(){o.val(l)})},v=function(e,t,n){return e.replace(new RegExp(t,"g"),n)
},b=function(e){document.body.className=v(document.body.className,e,"")},y=function(){o.on("focus",function(t){e(t.target).closest(".search-container_wrapper").addClass("is-active"),e(t.target).parents(".search-container").hasClass("search-container--secondary")||(document.body.className+=" search-container_is-active")}),o.on("blur",function(t){e(t.target).closest(".search-container_wrapper").removeClass("is-active"),e("body").removeClass("search-container_is-active")}),a.on("click",function(t){t.preventDefault(),document.activeElement.blur(),e(t.target).parent().find(".search-container_wrapper").removeClass("is-active"),window.Utilities.toggleHeaderFocus(!1)}),o.on("autocompleteclose",function(e,n){b("search-container_is-active"),t.find(".search-container_history").length||window.Utilities.toggleHeaderFocus(!1)})},_=function(){o.unbind("keypress").on("keypress",function(e){13===e.which&&(e.preventDefault(),u(e))}),r.on("click",function(e){e.preventDefault(),u(e)})},S=function(e,t,n){var i="";return e&&t?(i+=e+"?q="+encodeURIComponent(t),n&&(i+="&facets="+encodeURIComponent(n)),i):null},T=function(e,t,n){var i=S(e,t,n);i&&(window.location.href=i)};d=function(e){s&&c.push(e)},u=function(t){var n,i,r,a=e(t.currentTarget);if(n=o.val().trim(),i=o.data("page"),r=o.data("facets"),!i||!n)return alert("Please enter search keywords"),!1;var s=a.is("a")?g.TERM:g.SUBMISSION;Bunnings.TrackingV3.pushTrackingData(a,"search",{"datav3-action-text":"search","datav3-search-capture":n,"datav3-search-capture-input":s}),d(n),T(i,n,r)},p=function(e){e&&(window.location.href=e)};var w=function(){m.on("SEARCH_CONTAINER_HISTORY_READY",function(){s=!0}),c=new SearchContainerHistory(e),c.init(t,{searchTextBox:o,searchOnClickFn:u})},C=function(e){for(var t=window.location.search.substring(1),n=t.split("&"),i=0;i<n.length;i+=1){var o=n[i].split("=");if(o[0]===e)return o[1]}},E=function(){t.data("props")&&h(),_(),y(),t.on("click",".search-container_results a",function(t){var n=e(t.currentTarget);Bunnings.TrackingV3.pushTrackingData(n,"search",{"datav3-action-text":"search","datav3-search-capture":n.text(),"datav3-search-capture-input":g.TERM})})};return{init:function(s,c){t=e(s),n=e.extend({},f,c),i=t.find(".search-container_panel"),o=t.find(".search-container_term"),r=t.find(".search-container_btn-submit"),a=t.find(".search-container_btn-cancel"),E();var l=C("q");l&&t.parent().hasClass("header-search")&&t.find(".search-container_container .search-container_term").val(decodeURIComponent(l)),t.data("props")&&w()}}},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SearchContainerHistory=function(e){window.com=window.com||{},window.com.bunnings=window.com.bunnings||{};var t,n,i,o,r,a,s={localStorageKey:"/search/history",maxSize:7,daysToKeep:86400},c=e("body"),l=0,d=!0,u=function(e){for(var t=0;t<i.length;t++)if(i[t].toLowerCase()===e.toLowerCase()){i.splice(t,1);break}i.push(e),i.length>n.maxSize&&(i=i.slice(1,n.maxSize+1)),r(n.localStorageKey,i,n.daysToKeep)},p=function(){localStorage.removeItem(n.localStorageKey)},f=function(){return a(n.localStorageKey)||[]},m=function(){},g=function(e,t){var n=new Date;return n.setMinutes(n.getMinutes()+(t||15)),JSON.stringify({val:e,exp:n})},h=function(e){var t=JSON.parse(e);return null===t||null===t.val||null===t.exp?null:new Date(t.exp)<new Date?null:t.val};r=function(e,t,n){localStorage.setItem(e,g(t,n))},a=function(e){return h(localStorage.getItem(e))};var v=function(e){return e.replace(/<\/?[^>]+(>|$)/g,"")},b=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},y=function(e){document.body.className=b(document.body.className,e,"")},_=function(){var n;if(i.length>0){n='<div class="search-container_history" tabindex="-1">',n+='<ul class="search-container_history_list">',n+='<li class="search-container_history_title">Your recent searches</li>';for(var r=i.length-1;r>=0;r--)n=n+'<li class="search-container_history_item"><a class="search-container_history_link" datav3-track-event="select" datav3-track-text="select" href="#'+v(i[r])+'">'+v(i[r])+"</a></li>";"homebase"!==com.bunnings.THEME_NAME&&(n+='<li class="search-container_history_clear">Clear recent searches</li>'),n+="</ul>",n+="</div>"}t.append(e(n)),o=t.find(".search-container_history")},S=function(){var r,a=!1,s=t.find(".search-container_history_link"),c=s.length;n.searchTextBox.on("focus keyup",function(t){0===e(this).val().length&&(a=!1),!1===a&&i.length>0&&(o.addClass("is-active"),e("body").addClass("search-container_is-active"),o.length&&window.Utilities.toggleHeaderFocus(!0)),!1!==a||38!==t.which&&40!==t.which?n.searchTextBox.autocomplete({disabled:!1}):n.searchTextBox.autocomplete({disabled:!0}),!o.hasClass("is-active")||38!==t.which&&40!==t.which||(d?d=!1:40===t.which?l=l>=c-1?0:l+1:38===t.which&&(l=l<=0?c-1:l-1),s.removeClass("is-selected"),s.eq(l).addClass("is-selected"),r=s.eq(l).html(),n.searchTextBox.val(r))}),n.searchTextBox.on("blur",function(){o.hasClass("is-mouseover")||(o.removeClass("is-active"),y("search-container_is-active"),window.Utilities.toggleHeaderFocus(!1))}),n.searchTextBox.on("keydown",function(){a=!0,o.removeClass("is-active")})},T=function(){o.on("mouseover",function(t){e(this).addClass("is-mouseover")}),o.on("mouseleave",function(t){e(this).removeClass("is-mouseover")}),o.on("click","a",function(t){t.preventDefault(),n.searchTextBox.val(e(this).text()),"function"==typeof n.searchOnClickFn&&n.searchOnClickFn(t)})},w=function(){e(".search-container_history_clear").on("click",function(){p(),o.removeClass("is-active"),i=[]})},C=function(){S(),T(),w()};return{init:function(o,r){t=e(o),n=e.extend({},s,r),r&&r.searchOnClickFn&&"function"==typeof r.searchOnClickFn&&(m=r.searchOnClickFn),c.trigger("SEARCH_CONTAINER_HISTORY_READY"),i=f(),_(),C()},push:u,clear:p,getSearchTerms:f,wrapValue:g,unwrapValue:h}};"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports&&(module.exports=SearchContainerHistory);var SearchFilter=function(e,t){var n,i,o={},r="",a=void 0!==com.bunnings.FEATURES&&com.bunnings.FEATURES.UiLeftSideFiltersMobileFeatureToggle,s=!1,c=function(){for(var t,n,o,r,s,c=i.find(".search-filter_sub-panel"),l=i.find(".search-filter_panel"),d=a?".search-filter_btn-container":".search-filter_action-group",u=a?".search-filter_sub-list":".search-filter_list",p=0;c.length>p;p++)t=e(c[p]).find(u),n=window.innerHeight,o=e(c[p]).find(".search-filter_header-title").outerHeight(),r=e(c[p]).find(d).outerHeight(),s=n-o-r-10,t.height(s);if(l){var f=e(l.find(".search-filter_list_refresh"));s=window.innerHeight-e(f).find(".search-filter_header-title").outerHeight()-e(f).find(d).outerHeight(),f.height(s)}},l=function(){i.on("click",'[data-action="filter"]',function(t){e("body").trigger("non-scrollable-body"),i.find('[data-panel="filter"]').addClass("transition-left")}),i.on("click",'[data-action="sort"]',function(t){e("body").trigger("non-scrollable-body"),i.find('[data-panel="sort"]').addClass("transition-left")}),i.on("click",".search-filter_btn-cancel",function(t){e("body").trigger("scrollable-body"),i.find(".search-filter_panel").removeClass("transition-left"),i.find(".search-filter_sub-panel").removeClass("transition-left"),w(e(this))}),i.on("click",".search-filter_btn-panel-cancel",function(){e("body").trigger("scrollable-body"),s&&document.location.reload(!1),i.find(".search-filter_panel").removeClass("transition-left")}),i.on("click",".search-filter_btn-subpanel-cancel",function(){e("body").trigger("scrollable-body"),i.find(".search-filter_sub-panel").removeClass("transition-left");var t=e(this).parent().parent().find(".search-filter_sub-list li:first-child input").prop("name"),n=[],o=r.split(",");e(o).each(function(){var e=this.split("=");e[0]===t&&(n=e[1].split("|"))}),n.length>0?e(this).parent().parent().find(".search-filter_sub-list li").each(function(){var t=e(this).find("input").val();e.grep(n,function(e){return e===t}).length>0?e(this).find("input").prop("checked",!0):e(this).find("input").prop("checked",!1)}):e(this).parent().parent().find(".search-filter_sub-list li input").prop("checked",!1)}),i.on("click",".search-filter_sub-panel-reveal",function(t){e(this).hasClass("disabled")||(e("body").trigger("non-scrollable-body"),e(this).next().addClass("transition-left"))}),i.on("click",".search-filter_panel > .search-filter_header-title .search-filter_btn-close",function(t){e("body").trigger("scrollable-body"),e(this).closest(".search-filter_panel").removeClass("transition-left")}),i.on("click",".search-filter_sub-panel .search-filter_btn-close",function(t){e(this).closest(".search-filter_sub-panel").removeClass("transition-left")});var n=i.find(".search-filter_list-item").filter(function(t){return e(this).find("> .form-element").length>0});n.find("> .form-element label").click(function(e){e.stopPropagation()}),n.on("click",function(t){e(this).find("> .form-element label").click()});var o=t.SiteFeatures.getIsCommerceFeatureEnabled(),a=com.bunnings.FEATURES.AvailableOnlineFilterFeatureToggle;o&&a?e(".search-filter_list-item:contains('Availability')").show():e(".search-filter_list-item:contains('Availability')").hide()},d=function(){i.on("click",".search-filter_action-group .search-filter_btn",function(t){var n,i,o=[];e(this).parents(".search-filter_sub-panel").find(".search-filter_input").each(function(t){n=e(this).attr("Name"),e(this).is(":checked")&&o.push(e(this).val())}),i=o.join("|");var r=L();if(r.facets){var a=decodeURIComponent(r.facets),s=a.split(","),c=[],l=!1;e(s).each(function(){this.split("=")[0]==n?(i.length>0&&c.push(n+"="+i),l=!0):c.push(this)}),!l&&i.length>0&&c.push(n+"="+i);var d=c.join(",");""!==d?I("facets",d):A("facets")}else I("facets",n+"="+i)})},u=function(t,n){var i,o=L();if(o.facets||r){var a=r?decodeURIComponent(r).split(","):decodeURIComponent(o.facets).split(","),s=[],c=!1;e(a).each(function(){this.split("=")[0]===t?(n.length>0&&s.push(t+"="+n),c=!0):s.push(this)}),!c&&n.length>0&&s.push(t+"="+n),i=s.join(",")}else i=t+"="+n;return i},p=function(){e(".selected-filters-item").length>1?e(".selected-filters .clear-all").show():e(".selected-filters .clear-all").hide()},f=function(t){var n=L(),i=[],o=e("#filter-category-id-path").attr("data-category-id-path"),r=e("#filter-page-type").attr("data-page-type");t=o&&!r?"CategoryIdPath="+o+","+t:t,Object.keys(n).map(function(e){"facets"!==e&&i.push(e+"="+n[e])}),i=i.length>0?i.join("&")+"&":"";var a=t?"facets="+encodeURIComponent(t):"";return i+a},m=function(t){var n=".search-filter .search_loader",i='.search-filter_panel[data-panel="filter"]',o=f(t),a=o?"?"+o:"",l=e("#filter-page-type").attr("data-page-type")?e("#filter-page-type").attr("data-page-type"):"productfilter";e.ajax({type:"GET",url:"/search/"+l+a,beforeSend:function(){e(n).css("display","flex")},complete:function(){e(n).css("display","none")},success:function(n){e(i).replaceWith(n),e(i).addClass("transition-left"),c(),r=t,s=!0,e(".search-filter_btn-container .search-filter_sticky-btn").parent().show(),p()},failure:function(){e(n).css("display","none")}})},g=function(e,t){var n=u(e,t);m(n)},h=function(){i.on("click",".search-filter_btn-container .search-filter_sub-sticky-btn",function(){var t,n,i=[];e(this).parents(".search-filter_sub-panel").find(".facet-filter-by-checkbox-btn").each(function(){t=e(this).attr("Name"),e(this).is(":checked")&&i.push(e(this).val())});var o=e(this).parents(".search-filter_sub-panel").find(".facet-filter-by-radio-btn[name=SubCategoryIdPath]:checked");o.length>0&&(i.push(o.val()),t="CategoryIdPath"),n=i.join("|"),g(t,n)})},v=function(){i.on("click",".fulfillment-filter-by .facet-filter-by-checkbox-btn",function(){var t=e(this).attr("Name"),n=[];e(this).is(":checked")&&n.push(e(this).val());var i=n.join("|");g(t,i);var o=e(this).is(":checked")?"select":"deselect";Bunnings.TrackingV3.pushTrackingData(e(this),o,{"datav3-module-identifier":"Filter by","datav3-action-text":"Order Online","datav3-action-position":"1","datav3-action-type":o})})},b=function(){i.on("change",".category-filter-by .facet-filter-by-radio-btn",function(){var t=e(this).attr("Name"),n=[];e(this).is(":checked")&&n.push(e(this).val());var i=n.join("|");g(t,i)})},y=function(){i.on("click",".search-filter_btn-container .search-filter_sticky-btn",function(){r?I("facets",r):(A("facets"),i.find(".search-filter_panel").removeClass("transition-left"),e("body").trigger("scrollable-body"))})},_=function(){i.on("click",".search-filter_sub-list .facet-filter-by-checkbox-btn",function(){var t=e(this).is(":checked")?"select":"deselect",n=e(this).val();Bunnings.TrackingV3.pushTrackingData(e(this),t,{"datav3-action-text":n,"datav3-action-type":t})})},S=function(){i.on("click",".left-sidebar.selected-filters .clear-all",function(){e(".left-sidebar.selected-filters").fadeOut(400,function(){e(".selected-filters-item").remove(),m("")})})},T=function(){i.on("click",".selected-filters-item .remove",function(){var t=e(this).parent(),n=t.attr("data-type"),i=L(),o=decodeURIComponent(i.facets),a=r?r.split(","):o.split(","),s=[];a.forEach(function(e){e.split("=")[0]!==n&&s.push(e)}),a=s.slice(0);var c=s.join(",");m(c),1===e(".selected-filters-item").length?e(".left-sidebar.selected-filters").fadeOut(400,function(){t.remove()}):t.fadeOut(400,function(){e(this).remove(),p()})})},w=function(t){var n,i="";if(n=t.parents(".search-filter_sub-panel"),void 0!==(i=n.find(".search-filter_selections-values").val())&&i.length>0){var o=i.split("|");o.length>0&&n.find(".search-filter_input").each(function(){var t=e(this).val();e.grep(o,function(e){return e==t}).length>0?e(this).prop("checked",!0):e(this).prop("checked",!1)})}else n.find(".search-filter_input").prop("checked",!1)},C=function(t){i.on("click",'[data-panel="sort"] li',function(t){var n;n=e(this).find(".search-filter_input").val(),I("sort",n)})},E=function(){l(),d(),C()},P=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))},k=function(){i.find(".search-filter_sub-panel").each(function(){var t=[],n="",i=P("facets");if(i){var o=i.split(",");for(var r in o)if(t=o[r].split("="),t[1].length>0&&(n=t[1]),e(this).find(".search-filter_selections-values."+t[0]).val(n),n.length>0){var a=n.split("|");for(var s in a)e('.search-filter_input[value="'+a[s]+'"]').prop("checked",!0)}}})},L=function(){var e=location.search.length>0?location.search.substring(1):"";if(!e)return e;for(var t={},n=e.split("&"),i=null,o=null,r=null,a=0;a<n.length;a++)i=n[a].split("="),o=decodeURIComponent(i[0]),r=decodeURIComponent(i[1]),t[o]=r;return t},I=function(e,t){if(e&&t){var n=L()||{};n[e]=t;var i=[],o=null,r=null,t=null;for(o in n)o&&n.hasOwnProperty(o)&&(r=encodeURIComponent(o),t=encodeURIComponent(n[o]).replace(/\+/g," "),i.push(r+"="+t));location.search=i.join("&")}},A=function(e){if(e){var t=L()||{};if(t[e]){delete t[e];var n=[],i=null,o=null,r=null;for(i in t)i&&t.hasOwnProperty(i)&&(o=encodeURIComponent(i),r=encodeURIComponent(t[i]),n.push(o+"="+r));if(0===n.length){var a=document.URL.split("?")[0];window.location=a}else location.search=n.join("&")}}},R=function(){a&&(h(),v(),b(),y(),_(),T(),S(),p())};return{init:function(t,r){i=e(t),n=e.extend({},o,r),k(),E(),c(),R(),e(window).resize(function(){c()})}}},SeriesNavigation=function(e){var t,n,i,o={initialSlide:0,carouselSelector:".series-navigation_carousel-list"};return{init:function(r,a){t=r,n=e.extend({},o,a),i={arrows:!1,centerMode:!0,centerPadding:0,infinite:!1,initialSlide:n.initialSlide,slidesToShow:3,variableWidth:!0},t.find(n.carouselSelector).slick(i).css("white-space","normal")}}},SignInTabs=function(){var e,t,n,i,o=function(e,t){var o=n.indexOf(e),r=n.indexOf(t);t.focus(),t.setAttribute("aria-selected","true"),t.parentNode.classList.add("is-active"),e.removeAttribute("aria-selected"),e.parentNode.classList.remove("is-active"),i[o].classList.add("is-hidden"),i[r].classList.remove("is-hidden")},r=function(){n.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var n=t.querySelector("[aria-selected]");e.currentTarget!==n&&o(n,e.currentTarget)},!1)})};return{init:function(o){window.matchMedia("(min-width: 960px)").matches||(e=o[0],t=e.querySelector(".js-tabslist"),n=Array.prototype.slice.call(t.querySelectorAll("a")),i=e.querySelectorAll(".js-panels"),r(),i.forEach(function(e){e.classList.add("is-hidden")}),n[0].setAttribute("aria-selected","true"),n[0].parentNode.classList.add("is-active"),i[0].classList.remove("is-hidden"))}}},SocialShare=function(e){var t,n,i={},o=function(){n.find(".social-share_header").on("click",function(){e(".social-share_content").slideToggle("slow"),n.toggleClass("is-active")})};return{init:function(r,a){n=e(r),t=e.extend({},i,a),o()}}},StateStoresList=function(e){var t,n,i={},o=function(t){var n,i,o,r=e(t.target);t.preventDefault(),i=r.next().attr("class"),o=r.prev().attr("class"),void 0!==i&&void 0!==o&&(-1!==i.indexOf("slick-active")&&-1===o.indexOf("slick-active")?e(".state-stores-list_nav ul").slick("slickGoTo",r.next().attr("data-slick-index")):-1===i.indexOf("slick-active")&&-1!==o.indexOf("slick-active")&&e(".state-stores-list_nav ul").slick("slickGoTo",r.next().attr("data-slick-index"))),e(".state-stores-list_nav-item").removeClass("slick-current"),r.addClass("slick-current"),n=r.attr("data-slick-index"),e(".state-stores-list_content").slick("slickGoTo",n)},r=function(t){var n=e(".state-stores-list_nav-item"),i=e(t.target).find(".slick-current").attr("data-slick-index"),o=n[i];n.removeClass("slick-current"),e(o).addClass("slick-current");var r=Math.round(window.outerWidth/n.outerWidth())-1,a=parseInt(i/r)*window.outerWidth;0!==a&&(a-=50),e(".state-stores-list_nav ul").scrollLeft(a)},a=function(){e(".state-stores-list_nav-item").on("click",function(e){o(e)}),e(".state-stores-list_content").on("swipe",function(e){r(e)})},s=function(t){var n;e(t+"_content").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,mobileFirst:!0,adaptiveHeight:!0}),e(t+"_nav ul li:first-of-type").addClass("slick-current"),n=e(".state-stores-list_nav-item");for(var i=0;n.length>i;i++)e(n[i]).attr("data-slick-index",i);a()},c=function(){Bunnings.TrackingV3.setTrackingPosition(t.find(".state-stores-list_content"))};return{init:function(o,r){t=e(o),n=e.extend({},i,r);var a="."+t.attr("class");e(a).data("props")&&(c(),s(a))}}},StepByStepGuide=function(e){var t,n,i=".step-by-step-guide_control--prev",o=".step-by-step-guide_step-footer-item--prev",r=".step-by-step-guide_control--next",a=".step-by-step-guide_step-footer-item--next",s=".step-by-step-guide_step-container",c={},l=function(c){c.preventDefault();var l,d=e(c.target).attr("class"),u=n.find(".is-active"),p=u.data("props").stepNumber,f=!1;-1===d.indexOf("--prev")?parseInt(t.totalSteps)>parseInt(p)&&(n.find(s+".is-active").removeClass("is-active"),p+=1,n.find('[data-id="'+p+'"]'+s).addClass("is-active"),f=!0):1!==p&&(n.find(s+".is-active").removeClass("is-active"),p-=1,n.find('[data-id="'+p+'"]'+s).addClass("is-active"),f=!0),l=n.find(s+".is-active"),f&&(n.find(".step-by-step-guide_header_current-step").text(l.data("props").stepNumber),n.find(".step-by-step-guide_step-header_title").text(l.data("props").stepHeader),n.find(".step-by-step-guide_image").attr({src:l.data("props").stepImage.src,alt:l.data("props").stepImage.alternateText}),1===parseInt(p)?(n.find(r).removeClass("disabled"),n.find(a).removeClass("disabled"),n.find(i).addClass("disabled"),n.find(o).addClass("disabled")):parseInt(t.totalSteps)===parseInt(p)?(n.find(r).addClass("disabled"),n.find(a).addClass("disabled"),n.find(i).removeClass("disabled"),n.find(o).removeClass("disabled")):(n.find(i).removeClass("disabled"),n.find(o).removeClass("disabled"),n.find(r).removeClass("disabled"),n.find(a).removeClass("disabled")))},d=function(){n.find(".step-by-step-guide_control").on("click",l),n.find(".step-by-step-guide_step-footer-item").on("click",l)};return{init:function(r,a){var l;n=e(r),t=e.extend({},c,a),t.step=[],l=n.find(s),n.find(i).addClass("disabled"),n.find(o).addClass("disabled");for(var u=0;u<l.length;u++)t.step.push(e(l[u]).data("props"));e(l[0]).addClass("is-active"),n.find(".step-by-step-guide_image").attr({src:t.step[0].stepImage.src,alt:t.step[0].stepImage.alternateText}),d()}}},StickySidebar=function(e){var t,n="sticky-sidebar--is-sticky",i="sticky-sidebar--stop-sticky",o={parentContainer:null},r=function(e,t,o){var r=c(t);if(o.scrollTop>r.top){e.classList.add(n);var a=c(e),s=a.top+e.offsetHeight,r=c(t);s>=r.top+t.offsetHeight&&!e.classList.contains(i)?e.classList.add(i):o.scrollTop<=a.top&&e.classList.remove(i)}else e.classList.remove(n)},a=function(t,n){var i=e(n).width();t.style.width=i+"px"},s=function(e,t,i){(window.innerWidth||document.documentElement.clientWidth)<960?(e.classList.remove(n),e.removeAttribute("style")):(r(e,t,i),a(e,t))},c=function(e){var t=e.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:t.top+i,left:t.left+n}};return{init:function(n,i){var a=e(n);t=e.extend({},o,i);var c=a[0],l=e(t.parentContainer)[0]||a.parent()[0],d=document.documentElement?document.documentElement:document.scrollingElement||document.body;d=window.navigator.userAgent.indexOf("Edge")>-1?document.body:d,l.classList.add("sticky-sidebar_wrapper"),s(c,l,d),window.addEventListener("resize",function(){s(c,l,d)},!1),window.addEventListener("scroll",function(){(window.innerWidth||document.documentElement.clientWidth)<960||r(c,l,d)})}}},StoreActivitiyList=function(e,t){var n,i={},o={requestData:e(".store-activity-list").data("props").storeDetails,recordCount:0,storeActivityContainer:".store-activity-list_content",viewMore:".store-activity-list .store-activity-list_actions",ajaxType:e(".store-activity-list").data("props").ajaxType,endpoint:e(".store-activity-list").data("props").endpoint,templateSource:Utilities.GetEnvironment.assetLocation()+"/templates/StoreActivitiyList/store-activity-list-item.runtime.hbs"},r="",a=function(t){e.ajax({type:o.ajaxType,dataType:"json",contentType:"application/json; charset=utf-8",url:o.endpoint,data:JSON.stringify(t),success:function(t){if(t){var i=e.parseJSON(null==t.d?t:t.d);s(i)}else n.hide()},error:function(e,t,i){n.hide()}})},s=function(e){var t,n=e.Items,i=o.recordCount,r=o.requestData.lastActivityId,a=0;t=e.TotalCount,n&&(a=n.length);for(var s=0;s<a;s++)i===t?l():(c(n[s]),r=n[s].ID),i++;1!==t&&i!==t&&0!==a||l(),o.recordCount=i,o.requestData.lastActivityId=r},c=function(i){var a,s=o.storeActivityContainer;t.templates[o.templateSource]?(a=t.compileTemplate(o.templateSource,r,i),e(s).append(a),n.show()):t.getTemplateAsync(o.templateSource,function(c){a=t.compileTemplate(o.templateSource,c,i),r=c,e(s).append(a),n.show()})},l=function(){var t=o.viewMore;e(t).remove()};return{init:function(t,r){var s=o.requestData,c=(o.state,document.querySelector(o.viewMore));n=e(t),i=e.extend({},o,r),a(s),c.addEventListener("click",function(e){e.preventDefault(),a(s)})}}},StoreDetails=function(e){var t,n,i={storeTypeName:"Warehouse",storeLocation:"",targetSelector:""},o=function(e,i){var o,r=t.find("."+n.targetSelector);o=i?e+" ("+i+")":e,r.length>0&&r.text(o)},r=function(){o(n.storeTypeName,null)},a=function(e){var t=e.coords.latitude+","+e.coords.longitude,i=window.Utilities.calculateDistance(t,n.storeLocation);o(n.storeTypeName,i)},s=function(){var e=n.storeTypeName;navigator.geolocation?navigator.geolocation.getCurrentPosition(a,r):o(e)};return{init:function(o,r){t=e(o),n=e.extend({},i,r),window.Utilities.SiteFeatures.getIsTradeUser()&&s()}}},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},StoreGoogleMap=function(e){var t,n,i,o={},r=[],a=[],s=null,c=null,l=null,d=function(e,t,n){return new google.maps.Marker({map:l,position:t,title:e,icon:n})},u=function(){google.maps.event.trigger(l,"resize"),l.setZoom(l.getZoom()),l.setCenter(a[0].getPosition()),i.onCenterMap&&"function"==typeof i.onCenterMap&&i.onCenterMap()},p=function(){var t,n,i;t=com.bunnings.options,i=com.bunnings.mapLocations;var o=[{featureType:"poi.business",elementType:"labels",stylers:[{visibility:"off"}]}];if(c=new google.maps.StyledMapType(o),s={mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"map_style"]},disableDefaultUI:"true"===t.disableDefaultUI,streetViewControl:!1,gestureHandling:t.gestureHandling,zoomControl:"true"===t.zoomControl,scrollwheel:"true"===t.scrollwheel},l=new google.maps.Map(document.getElementById(t.mapElementID),s),l.mapTypes.set("map_style",c),l.setMapTypeId("map_style"),n=new google.maps.LatLngBounds,"object"==(void 0===i?"undefined":_typeof(i))&&e.each(i,function(e,i){r[e]=i;var o=i.Store.Address,s=i.Store.Location,c="true"===i.Store.UseAccurateLocation.toLowerCase(),l=new google.maps.LatLng(s.Latitude,s.Longitude),u=d(o.Address,l,t.iconImage);a[e]=u,n.extend(l);var p=com.bunnings.mapSearchName+", "+o.Address+", "+o.Suburb+", "+o.State+" "+o.Postcode,f=s.Latitude+","+s.Longitude;t.directionsLink.attr("href","//maps.google"+com.bunnings.mapCanonicalisation+"/maps?daddr="+(c?f:p))}),null!=t.zoomToLocation&&t.zoomToLocation.length>0){(new google.maps.Geocoder).geocode({address:t.zoomToLocation},function(e,n){if(n==google.maps.GeocoderStatus.OK&&null!=i&&i.length>1&&null!=com_bunnings_locations_current_nearest_store){l.setZoom(t.mapZoomLocalised);var o=com_bunnings_locations_current_nearest_store.Location,r=new google.maps.LatLng(o.Latitude,o.Longitude);l.setCenter(r)}})}else null!=i&&i.length>1?l.fitBounds(n):(l.setCenter(a[0].getPosition()),l.setZoom(parseInt(t.mapZoom)));t.onInitComplete&&"function"==typeof t.onInitComplete&&t.onInitComplete(),f()},f=function(){google.maps.event.addListenerOnce(l,"tilesloaded",function(){e(i.mapElement).find(Bunnings.TrackingV3.ORDER_ELEMENT).attr(Bunnings.TrackingV3.ATTRIBUTES.TRACK_DISABLE,"true")})},m=function(){var t="."+n+"_control a";e(t).on("click",function(){e(t).removeClass("is-active"),e(this).addClass("is-active"),-1!==e(this).attr("class").indexOf("-pin")?(e("."+n+"_photo").hide(),e("."+n+"_plan").show()):-1!==e(this).attr("class").indexOf("-photo")&&(e("."+n+"_photo").show(),e("."+n+"_plan").hide())})};return{init:function(r,a){var s,c,l,d="",f="";if(t=e(r),n=t.attr("class"),l=[{Store:{StoreID:a.StoreID,StoreName:a.StoreName,StoreUrl:a.StoreUrl,StoreType:a.StoreType,Phone:a.Phone,Fax:a.Fax,Address:{Address:a.Address,Suburb:a.Suburb,Postcode:a.Postcode,State:a.State,Country:a.Country},Location:{Latitude:a.Latitude,Longitude:a.Longitude},RegionName:a.RegionName,UseAccurateLocation:a.UseAccurateLocation}}],o={iconImage:Utilities.GetEnvironment.assetLocation()+"/img/map-marker-icon-"+com.bunnings.THEME_NAME+".png",scrollwheel:void 0!==a.scrollwheel&&a.scrollwheel,gestureHandling:void 0===a.gestureHandling?"none":a.gestureHandling,mapElementID:void 0===a.mapElementID?"store-google-map_photo":a.mapElementID,mapZoom:void 0===a.mapZoom?12:a.mapZoom,mapZoomLocalised:void 0===a.mapZoomLocalised?10:a.mapZoomLocalised,mapZoomMarker:void 0===a.mapZoomMarker?16:a.mapZoomMarker,disableDefaultUI:void 0===a.disableDefaultUI||a.disableDefaultUI,zoomControl:void 0!==a.zoomControl&&a.zoomControl,zoomToLocation:void 0===a.zoomToLocation?"":a.zoomToLocation,fullScreenSelector:"",directionsSelector:void 0===a.directionsSelector?"#storedetail-directionsbutton":a.directionsSelector},i=e.extend({},o,a),window.Utilities.SiteFeatures.getIsTradeUser()){var g=i.StoreType;g.indexOf("Trade")>-1?i.iconImage=window.Utilities.GetEnvironment.assetLocation()+"/img/map-marker-icon-bunnings-trade.png":g.indexOf("Frame")>-1&&(i.iconImage=window.Utilities.GetEnvironment.assetLocation()+"/img/map-marker-icon-bunnings-frame-and-truss.png")}com.bunnings.gmap={},com.bunnings.gmap.initMaps=p,com.bunnings.mapLocations=l,com.bunnings.options=i,com.bunnings.mapCanonicalisation="bunnings"===com.bunnings.THEME_NAME||"trade"===com.bunnings.THEME_NAME?".com.au":".co.uk",com.bunnings.mapSearchName="bunnings"===com.bunnings.THEME_NAME||"trade"===com.bunnings.THEME_NAME?"Bunnings Warehouse":"Homebase",i.mapElement=e("#"+i.mapElementID),i.directionsLink=t.find(i.directionsSelector),0!=i.mapElement.length&&(s="//maps.google.com/maps/api/js?","mapClientId"in t.data("props")&&(f=t.data("props").mapClientId),"mapApiKey"in t.data("props")&&(d=t.data("props").mapApiKey),f.length>0?s+="client="+f+"&":s+="key="+d+"&",s+="callback=com.bunnings.gmap.initMaps",c=document.createElement("script"),c.type="text/javascript",c.src=s,document.body.appendChild(c),m(),e(window).resize(function(){u()}))}}},SetStore=function(e,t,n,i,o){var r,a,s,c,l=n.PreviousSelectedStoreInfo,d=n.CurrentStoreInfo,u=n.NearestStoreID,p={selector:"store-set",requestData:{storeID:"357",suburbID:"6561"},ajaxType:"GET",endpoint:"/bunnings/data/api/store-set.api.json?"},f=t.setCookie,m=t.getCookie,g=function(e){localStorage.removeItem(e)},h=function(t){e.ajax({url:p.endpoint,data:'{ "storeID" : "'+t.storeID+'", "suburbID" : "'+t.suburbID+'"}',dataType:"json",type:p.ajaxType,contentType:"application/json; charset=utf-8",success:function(e,n,i){f(l,e.d,28),f(d,JSON.stringify(t),28),g("ShoppingCartCounterMobile"),g("ShoppingCartCounter"),g("NearestStore"),g("Promotion"),g(["NearestStoreMobile"]),c?document.location.href="/":window.location.reload(!0)},error:function(e,t,n){}})},v=function(e){var t,n=e.find("[type=button]");e.data("props")&&(p.requestData.storeID=e.data("props").storeID,p.requestData.suburbID=e.data("props").suburbID,p.ajaxType=e.data("props").ajaxType,p.endpoint=e.data("props").endpoint,p.currentStoreText=e.data("props").currentStoreText),t=m(u),t&&parseInt(t)===parseInt(p.requestData.storeID)&&(e.addClass("disabled"),n.prop("disabled","true"),n.find("span").text(p.currentStoreText)),n.on("click",function(e){e.preventDefault();var t=p.requestData.storeID;i.SiteFeatures.getIsTradeUser()&&a&&s?i.SiteFeatures.getStoreTradeStatus(t,function(e){var t=e.IsInsideTradeRegion||!1,n=e.IsTransactable||!1;a.setButtonCallback(0,function(e){c=!0,h(p.requestData)}),s.setButtonCallback(0,function(e){h(p.requestData)}),t?n?h(p.requestData):s.open():a.open()}):h(p.requestData)})};return{init:function(t,n){r=e(t),v(r),i.SiteFeatures.getIsTradeUser()&&(a=new o(e),a.init(window.ModalTemplates.TradeRegion),s=new o(e),s.init(window.ModalTemplates.TradeTransactable))}}},TabNavigation=function(e){var t,n,i,o,r={navSelector:"tab-navigation_menu",contentSelector:"tab-navigation_content"},a=function(){n.find("a").on("click",function(t){t.preventDefault();var n=e(t.target),o=n.attr("href");n.addClass("is-active").parent().siblings().find("a").removeClass("is-active"),i.find(o).addClass("is-active").siblings().removeClass("is-active")})};return{init:function(s,c){t=s,o=e.extend({},r,c),n=t.find("."+o.navSelector),i=t.find("."+o.contentSelector),a()}}},renderProductTiles=new CustomEvent("render-product-tiles"),appearsInTab=document.querySelector("a[href='#tab-bundles']");appearsInTab&&appearsInTab.addEventListener("click",function(){window.dispatchEvent(renderProductTiles)});var Tooltip=function(e){var t,n,i,o,r={},a=function(){i=".time-required_header_tooltip_content",o=".time-required_header_tooltip_icon_container",e("body").on("click",function(t){var n=e(t.target).attr("class")?e(t.target).attr("class"):"",o=e(this).find('[data-component="Tooltip"]'),r=o.find(i+".is-active");-1===n.indexOf("tooltip")&&r.length>0&&(r.removeClass("is-active"),s(o,"COLLAPSE"))}),t.find(o).on("click",function(t){var n=e(t.target);n.parent().find(i).addClass("is-active"),s(n,"EXPAND")})},s=function(e,n){Bunnings.TrackingV3.pushTrackingData(e,n,{"datav3-action-text":t.find(i).text().trim()})};return{init:function(i,o){t=e(i),
n=e.extend({},r,o),a()}}},TradeInfoMessageTradeModeBanner=function(e){var t,n=function(e){var n=t.find("[data-msgplaceholder]");n&&void 0!==e&&""!==e&&(t.addClass("is-active"),n.html(e))},i=function(){var e=t.data("nottransactablestatemsg");n(e)},o=function(){var e=t.data("nopowerpasspricingmsg");n(e)},r=function(){t.removeClass("is-active")},a=function(){e("body").on("TradeInfoMessageTradeModeBanner",function(){var e=window.Utilities.SiteFeatures.getIsTradeUser(),t=window.Utilities.SiteFeatures.getIsCurrentStoreTransactable(),n=window.Utilities.SiteFeatures.getShowTradePricing();e?t?n||o():i():r()})},s=function(){window.Utilities.SiteFeatures.getIsTradeUser()&&e("body").trigger("TradeInfoMessageTradeModeBanner")};return{init:function(n){(t=e(n))&&(a(),s())}}},UseMyGeoLocation=function(e,t,n){var i,o,r,a,s={endpointGetStoreInfoUsingLatLong:"/data/api/use-my-geolocation.api.json?",endpointAuthorization:"Token 3C5B7621-A7D6-4EB6-9C68-E34941AC5969",elementToTriggerUseMyLocation:'[data-use-current-location="true"]',storeCount:6},c={},l=!1,d=function(e){var t=/[\/a-z]*\/v[0-9.]*/g,n=e;return n=t.test(com.bunnings.ASSETS_BASE_URI)?n:n+".html"},u=function(t){var i,r="",a="",s="bunnings"===com.bunnings.THEME_NAME||"trade"===com.bunnings.THEME_NAME?"&nbsp;":"";i='<svg class="tile-store_header-chevron"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-chevron-guillemet"></use></svg>';var l=e(o).attr("datav3-module-name")?' datav3-module-name = "'+e(o).attr("datav3-module-name")+'Result" ':"",u=e(o).attr("datav3-module-datasource")?' datav3-module-datasource = "'+e(o).attr("datav3-module-datasource")+'" ':"";if(c.length>0){var p=n.GetEnvironment.assetLocation()&&n.GetEnvironment.assetLocation().indexOf("trade")>-1?"Trade Centres":"stores";r='<div class="store-detail"'+l+u+">",r+='<div class="store-nearby-stores">',r+='<div class="store-nearby-stores_header">',r+='<h4 class="store-nearby-stores_header-title">',r=r+c.length+" "+p+" near you",r+="</h4>",r+="</div>",r+='<div class="store-nearby-stores_content">',r+='<ul class="store-nearby-stores_list">';for(var f=0;f<c.length;f++){r+='<li class="store-nearby-stores_list-item" datav3-track-group="true">',r+='<section class="tile-store" itemscope itemtype="http://schema.org/LocalBusiness">';var m=' datav3-track-identifier="'+c[f].Name+'" ';if(r=r+'<a class="tile-store_link" href="'+d(c[f].StoreUrl)+'" '+m+">",r+='<div class="tile-store_header">',r+='<div class="tile-store_title-section">',r+='<h3 class="tile-store_header-title">',r+=c[f].Name,r+="</h3>",n.SiteFeatures.getIsTradeUser()){var g=c[f].Latitude+","+c[f].Longitude,h=n.calculateDistance(t,g);r=r+'<div class="tile-store_type-name tile-store_type-name--secondary">'+(c[f].StoreTypeName+" ("+h+")")+"</div>"}r+="</div>",r+='<div class="tile-store_link-section">',r+='<div class="tile-store_header-link">',r=r+i+"</div></div></div>",r+='<div class="tile-store_details">',r+='<p class="tile-store_address" translate="no" itemprop="address" itemscope itemtype="http://schema.org/PostalAddress">',r=r+'<span class="tile-store_address-street-address" itemprop="streetAddress">'+c[f].Address,""!==e.trim(c[f].AddressLineTwo)&&(r=r+"</br>"+c[f].AddressLineTwo),r+="</span></br>",r=r+'<span class="tile-store_address-locality" itemprop="addressLocality">'+c[f].Suburb+"</span>"+s,r=r+'<span class="tile-store_address-region" itemprop="addressRegion">'+c[f].State+"</span>"+s,r=r+'<span class="tile-store_address-postal-code" itemprop="postalCode">'+c[f].Postcode+"</span>",r+="</p>",void 0!==c[f].TradingHours[0]&&(r+='<dl class="tile-store_trading-hours">',c[f].isOpenSoon?r+='<time class="tile-store_opening-hours" itemprop="openingHours" datetime="">':r=r+'<time class="tile-store_opening-hours" itemprop="openingHours" datetime="'+c[f].TradingHours[0].Name+" "+c[f].TradingHours[0].OpeningTime+" - "+c[f].TradingHours[0].ClosingTime+'">',r=r+'<dt class="tile-store_day">'+c[f].TradingHours[0].Name+"</dt> ",c[f].isOpenSoon?r+='<dd class="tile-store_hours">Closed</dd>':r=r+'<dd class="tile-store_hours">'+c[f].TradingHours[0].OpeningTime+" - "+c[f].TradingHours[0].ClosingTime+"</dd>",r+="</time>",r+="</dl>"),r+="</div>",r+="</a>",r+='<div class="tile-store_actions">',a="//maps.google"+com.bunnings.mapCanonicalisation+"/maps?daddr="+com.bunnings.mapSearchName+", "+c[f].Address+",",e.trim(""!==c[f].AddressLineTwo)&&(a=a+c[f].AddressLineTwo+","),a=a+c[f].Suburb+",",a+=c[f].Postcode;if(r=r+'<a class="tile-store_actions-link tile-store_actions-link--get-directions" target="_blank" href="'+a+'" '+(m+' datav3-track-event="navigate" ')+'><svg class="tile-store_actions-link-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-directions"></use></svg>Get directions</a>',!c[f].isOpenSoon){var v=m+' datav3-track-event="call" ';r=r+'<a class="tile-store_actions-link tile-store_actions-link--phone-number" href="tel:'+c[f].PhoneTel+'" '+v+'><svg class="tile-store_actions-link-icon"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-telephone"></use></svg>Call store</a>'}r+="</div>",r+="</section>",r+="</li>"}r+="</ul>",r+="</div>",r+="</div>",r+="</div>",e(r).insertAfter(o),Bunnings.TrackingV3.init()}},p=function(t){var n=t.coords.latitude,r=t.coords.longitude,a=i.endpointGetStoreInfoUsingLatLong+"latitude="+n+"&longitude="+r,s=n+","+r;void 0!==i.storeCount&&""!==i.storeCount&&(a=a+"&storecount="+i.storeCount),e.ajax({dataType:"json",method:"GET",headers:{Authorization:i.endpointAuthorization},url:a}).done(function(t){c=t,e("body").trigger("USER_NEAREST_STORE_DATA_READY"),o.addClass("hidden"),Bunnings.TrackingV3.pushTrackingData(o.find('[data-use-current-location="true"]'),"search",{"datav3-action-text":"search"}),u(s),o.parent().find(".find-a-store_option-text").addClass("is-hidden")}).fail(function(){}).always(function(){})},f=function(e){if(h(),l||!a)switch(t.setCookie("geolocationAlertDisplayedSessionCookie",!0,0),l=!1,e.code){case e.PERMISSION_DENIED:return void alert("Your preference to disallow 'Use my current location' is remembered by your mobile device for 24 hours. Please enable and try again later.");case e.POSITION_UNAVAILABLE:return void alert("Your position is unavailable. Please try again later.");case e.TIMEOUT:}},m=function(){if(navigator.geolocation)navigator.geolocation.getCurrentPosition(p,f);else{if(h(),!l&&a)return;t.setCookie("geolocationAlertDisplayedSessionCookie",!0,0),l=!1,alert("This functionality is not available.")}},g=function(){e('[data-use-current-location="true"]').on("click",function(e){l=!0,m()})},h=function(){r.removeClass("hidden")},v=function(){g()};return{init:function(n,c){o=e(n),i=e.extend({},s,c),com.bunnings.mapCanonicalisation="bunnings"===com.bunnings.THEME_NAME||"trade"===com.bunnings.THEME_NAME?".com.au":".co.uk",com.bunnings.mapSearchName="bunnings"===com.bunnings.THEME_NAME||"trade"===com.bunnings.THEME_NAME?"Bunnings Warehouse":"Homebase",r=o.find(i.elementToTriggerUseMyLocation),a=t.getCookie("geolocationAlertDisplayedSessionCookie"),v(),m()},getUserGeoLocation:m}},VideoPlayer=function(e){var t,n,i,o,r,a,s,c,l,d,u,p,f,m,g={},h=!1,v=!1,b=!1,y=!1,_=!1,S=function(t){if(v=!0,1==h)if(e(t.target).parents(".supplier-link-wrapper").length)t.stopPropagation();else{var n=i.assignCurrentPlayer(a);k(n,u,"play"),N()}else u.find(".video-player_loader").length<1&&u.find(".video-player_button-container").html('<div class="video-player_loader"></div>')},T=function(t){t.stopPropagation();var n=d.find(".video-player-ready_container-youTube");c=n.parent().data("props").videoId,s=!0,e(t.target).parents(".video-player-inital").addClass("is-hidden"),N()},w=function(t){e("body").trigger(i.events.BrightcoveAPI_STOP_VIDEO,a),p.addClass("is-hidden"),N()},C=function(t){_&&!y?(r?e("body").trigger(i.events.BrightcoveAPI_PAUSE_VIDEO,a):s&&e("body").trigger(m.events.YOUTUBE_PAUSE_VIDEO,c),_=!1):N()},E=function(){var n=e(t).find(".video-player_container").height();b=!0,l.find(".video-player-inital .video-player_overlay").fadeOut(500),l.find(".video-player_backgrounds-container").fadeOut(500),d.css({opacity:0}),l.delay(500).animate({height:n},200,function(){b=!0,d.removeClass("is-hidden"),d.animate({opacity:1},650),d.addClass("is-playing"),u.fadeOut(N)})},P=function(e,t){if(a===t){h=!0;var n=i.assignCurrentPlayer(a);u.attr("datav3-track-text",n.mediainfo.name),!0===v&&(k(n,u,"play"),N())}},k=function(e,t,n){var i=setInterval(function(){void 0!==e.mediainfo&&(clearInterval(i),Bunnings.TrackingV3.pushTrackingData(t,n,{"datav3-action-text":e.mediainfo.name}),n="play")},100)},L=function(e,t){"undefined"!=typeof frameCounter&&(clearInterval(frameCounter),frameCounter=!1),r?a===t&&(l.find(".vjs-scrubbing").length<1&&l.find(".video-player-paused").removeClass("is-hidden"),l.find(".video-js").removeClass("vjs-user-inactive").addClass("vjs-user-active")):s&&!isIOSDevice&&e.target.getDuration()!==e.target.getCurrentTime()&&0!==e.target.getCurrentTime()&&e.target.getCurrentTime()<e.target.getDuration()&&(o=window.setTimeout(function(){l.find(".video-player-paused").removeClass("is-hidden")},200))},I=function(e,t){r?a===t&&(window.clearTimeout(o),l.find(".video-player-paused").addClass("is-hidden"),f.show(),D()&&setTimeout(function(){l.find(".video-js").removeClass("vjs-user-active").addClass("vjs-user-inactive")},5e3)):s&&(frameCounter&&void 0!=frameCounter||(frameCounter=setInterval(A,1e3)),window.clearTimeout(o),l.find(".video-player-paused").addClass("is-hidden"),f.show())},A=function(){l.getCurrentTime()>l.getDuration()&&R(null)},R=function(e,t){a===t&&(y=!0,"undefined"!=typeof frameCounter&&(clearInterval(frameCounter),frameCounter=!1),l.find(".vjs-control-bar").addClass("is-hidden"),l.find(".video-player-finished").removeClass("is-hidden"),l.find(".video-player-paused").addClass("is-hidden"),f.hide())},x=function(e){var t=l.find(".video-js").height();l.find(".video-player_content").height(t)},N=function(){if(y=!1,_=!0,b||E(),u.find(".video-player_play-button-container").removeClass("loading").find(".loader").remove(),r)try{e("body").trigger(i.events.BrightcoveAPI_PLAY_VIDEO,a)}catch(e){}else s&&e("body").trigger(m.events.YOUTUBE_PLAY_VIDEO,c)},M=function(){u.removeClass("has-video"),l.find(".video-player_button-container").remove()},O=function(e){var t;if(r){t=e.errorType;var n=l.find(".error-message");"VE_INVALID_ID"===t?n.removeClass("is-hidden").html("Sorry, this video cannot be found. Please try again later. "):"CE.NETWORK.DOWN"===t||"PE.PD.STREAMNOTFOUND"===t?n.removeClass("is-hidden").html("Sorry, this video cannot be played or your internet connection may have been lost. Please check your connection and try again."):"BC.FLASH.VERSION"===t||"upgradeRequiredForPlayer"==t?n.removeClass("is-hidden").html('To view this video, please  <a href="https://get.adobe.com/flashplayer/" target="blank">download the latest Flash Player software.</a> '):n.removeClass("is-hidden").html("Sorry, this video cannot be found. Please try again later.")}M()},D=function(){return l.find(".video-js").hasClass("vjs-playing")};return{init:function(o,s){var c;if(t=e(o),n=e.extend({},g,s),l=e(t),l.find(".video-player_button-container").removeClass("is-hidden"),d=l.find(".video-player-ready_container"),u=l.find(".video-player-inital"),p=t.find(".video-player-finished"),f=t.find('[class*="pause-overlay"]'),u.attr("datav3-track-click",!0),c=l.find(".video-player-ready_container > div iframe").length>0?l.find(".video-player-ready_container > div iframe").height():l.find(".video-player-ready_container > div").height(),l.find(".video-player_content").height(c+"px"),"brightcove"===n.playerType){i=BrightcoveAPI,e("body").on(i.events.BrightcoveAPI_READY,P),e("body").on(i.events.BrightcoveAPI_PLAY,I),e("body").on(i.events.BrightcoveAPI_ENDED,R),e("body").on(i.events.BrightcoveAPI_PAUSE,L),e("body").on(i.events.BrightcoveAPI_ERROR,O);var h=d.find(".brightcove-player");a=h.find(".video-js").attr("id"),r=!0;var v=h.data("props");null!==v&&""!==v.id?(f.insertAfter(t.find("video.vjs-tech")),u.on("click",S),p.on("click",w),f.on("click",C)):l.find(".video-player_button-container").addClass("is-hidden")}else m=YoutubeAPI,u.on("click",T),f.on("click",C);e(window).on("resize",x),0===e(".video-player-ready").length&&M()},onVideoPause:L,onVideoStop:L,onVideoPlay:I,onVideoEnded:R,onVideoReady:P,onPlayerError:O}},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ViewMore=function(e,t,n,i){function o(e){return e.indexOf("/search/products")>=0||e.indexOf("/our-range/")>=0||e.indexOf("/gift-ideas/")>=0}var r,a,s,c,l,d,u,p,f,m,g=void 0!==com.bunnings.FEATURES&&com.bunnings.FEATURES.ViewMoreRefreshFeatureToggle,h=g?".view-more_btn":".view-more_preloader",v=g?"view-more_btn--loading":"is-loading",b="Bunnings.Paging.ViewMore",y=1,S={contentContainer:'[data-role="paging-content"]'},T=Utilities.GetEnvironment.assetLocation(),w=!1,C=(window.location.pathname,window.location.search,{contentContainer:'[data-role="paging-content"]',pageNumberParameter:"page",viewNextTemplateRaw:g?"/templates/ViewMoreRefresh/view-more-refresh.runtime.hbs":"/templates/ViewMoreBtn/view-more-btn.runtime.hbs"}),E=function(t){var n=e(t);r.append(n.find(a.contentContainer).html())},P=function(){return(-1!=a.url.indexOf("?")?a.url+"&":a.url+"?")+a.pageNumberParameter+"="+(y+1)},k=function(){return i.SiteFeatures.getIsTradeUser()&&i.SiteFeatures.getShowTradePricing()},L=function(e,t){var n=[],i=e,o=JSON.parse(sessionStorage.getItem("productsListRetail"))?JSON.parse(sessionStorage.getItem("productsListRetail")):[];if(o.length>0)return _.each(o,function(e){e.Region===i&&t.toLowerCase().indexOf(e.Url.toLowerCase())>=0&&(n=e.Prices)}),n},I=function(){s.find(".view-more_btn").attr(Bunnings.TrackingV3.ATTRIBUTES.TRACK_CLICK,"true").attr(Bunnings.TrackingV3.ATTRIBUTES.TRACK_EVENT,"load")},A=function(){y*a.pageSize>=a.itemCount?(g&&(s.html(c(x())),e(".view-more_title").addClass("last-page")),s.find(".view-more_btn").remove()):s.html(c(x()))},R=function(){var t,n,i,o={url:u,region:p,pageCount:y,content:e(S.contentContainer).html(),lastAccessed:new Date},r=[o];if("object"===_typeof(window.sessionStorage)){var a=JSON.parse(sessionStorage.getItem(b))||[];if(a)for(var s=0;s<a.length;s++){t=new Date(JSON.parse(JSON.stringify(a[s].lastAccessed))),n=new Date-t,i=Math.round(n%864e5%36e5/6e4),a[s].url!==u&&i<=10&&r.push(a[s]);var c=JSON.parse(sessionStorage.getItem("productsListRetail"));c.length>0&&(_.remove(c,function(e){return e.Url===u&&e.Region!==p}),sessionStorage.setItem("productsListRetail",JSON.stringify(c)))}try{sessionStorage.setItem(b,JSON.stringify(r))}catch(e){}}},x=function(){var e=y*a.pageSize>=a.itemCount,t=y*a.pageSize,n=a.itemCount-t,i=Math.min(a.pageSize,n),o=a.itemName+(n>1||e?"s":""),r=a.itemCount,s="homebase"===com.bunnings.THEME_NAME,c=T,l="products"===o?"Products":"Results";return{nextCount:i,itemName:o,showingCount:e?r:t,itemCount:r,isImage:s,assets:c,btnName:l}};c=function(e){return t.compileTemplate(f,m,e)};var N=function(){s.on("click",".view-more_btn",function(t){t.preventDefault(),pricingEngineInstance.hasCurrentStoreChanged()&&location.reload(),s.find(h).hasClass(v)||void 0===a.url||""===a.url||e.ajax({dataType:"text",contentType:"text/html; charset=utf-8",url:P(),method:"GET",beforeSend:function(){s.find(h).addClass(v)}}).done(function(t){if(E(t),window.dispatchEvent(new CustomEvent("render-product-tiles")),o(a.url)){var n=JSON.parse(sessionStorage.getItem("productsListRetail")),i=e(t).find(".productLocalStorage"),r="";i.each(function(e,t){r+=t.textContent});var s=r.split("var listStorage = '"),c={};c.Prices=[];var l=JSON.parse(s[1].split("';")[0]);Bunnings.AddToProductList(l),k()&&l.length>0&&(pricingEngineInstance.addProductsToQueueFiltered(l,[]),pricingEngineInstance.processPricingEngine());var d=P();c.Prices.push(l);var f=!1;if(_.each(n,function(e){var t=e;t.Region===p&&d.indexOf(t.Url)>=0&&(t.Prices=t.Prices.concat(c.Prices[0]),f=!0)}),!f){var m={};m.Prices=window.productList,m.Url=u,m.Region=p,n.push(m)}sessionStorage.setItem("productsListRetail",JSON.stringify(n))}y++,e("body").trigger("order-online-flow"),A(),I(),R(),window.Utilities.ImgLazyload.render()}).fail(function(){}).always(function(){s.find(h).removeClass(v)})})};return{init:function(i,c){if(s=e(i),a=e.extend({},C,c),l=a.pageSize||0,d=a.itemCount||0,u=a.url,p=n.getCookie("Bunnings.Region"),com.bunnings.FEATURES&&com.bunnings.FEATURES.TradeModeGlobalFeatureToggle){var g=com.bunnings.FEATURES.TradeModeGlobalFeatureToggle;w=g&&Utilities.SiteFeatures.getIsTradeUser()&&Utilities.SiteFeatures.getShowTradePricing()}if(!Utilities.SiteFeatures.getIsCurrentStoreTransactable()){['[data-component="ProductWithTradeModeVariant"]','[data-component="SearchResultsWithTradeModeVariant"]'].forEach(function(t){e(t).each(function(){e(this).attr("data-component","")})})}r=e(a.contentContainer),f=window.location.origin+T+C.viewNextTemplateRaw,t.getTemplateAsync(f,function(t){m=t,N();var n={};if("object"===_typeof(window.sessionStorage)){var t=sessionStorage.getItem(b);if(t=JSON.parse(t))for(var i=0;i<t.length;i++)t[i].url===u&&t[i].region===p&&(r.html(t[i].content),y=t[i].pageCount,n=t[i])}if(n&&n.pageCount>=2){if(y=n.pageCount,k()&&o(u)){var a=L(p,u);a.length>0&&(Bunnings.AddToProductList(a),localStorage.setItem("tradeModeSignedIn","true"))}}else if(o(u)){var s=!1,c=JSON.parse(sessionStorage.getItem("productsListRetail"))?JSON.parse(sessionStorage.getItem("productsListRetail")):[];if(c.length>0&&_.each(c,function(e){e.Url.indexOf(u)>=0&&e.Region===p&&(s=!0)}),!s){var l={};l.Prices=window.productList,l.Url=u,l.Region=p,c.push(l),sessionStorage.setItem("productsListRetail",JSON.stringify(c))}}k()&&e("body").on(com.bunnings.pricingEngine.config.PRICINGENGINE_READY,function(){e("body").trigger("Update-Search-Results-Desktop")}),A(),I()})}}},ViewMorePreload=function(e,t){var n,i,o=0,r={target:".tile-tools-materials",initialLoad:8,itemName:"Product"},a=function(){return(o=e(n.target).length)>0&&o>n.initialLoad},s=function(){for(var t=n.initialLoad;t<o;t++){var i=e(n.target);e(i[t]).hide()}},c=function(){i.on("click",".view-more-preload_btn",function(t){e(n.target).show(),e(this).hide()})},l=function(){i.find(".view-more-preload_size").html(o);var e=o>1?n.itemName+"s":n.itemName;i.find(".view-more-preload_item-name").html(e),i.show(),window.Utilities.ImgLazyload.render()};return{init:function(t,o){i=e(t),n=e.extend({},r,o),a()&&(s(),c(),l())}}},WigigBanner=function(e){var t,n,i,o,r,a,s=function(){t.addClass("is-active")},c=function(){t.removeClass("is-active"),Cookie().setCookie(i,o,r)},l=function(e){return/^\d+$/.test(e)?e:1};return{init:function(d){t=e(d),n=t.find('[data-action="close"]'),i=t.data("cookie-name"),o="closeWigig-"+i,r=t.data("cookie-refresh-rate"),r=l(r),a=Cookie().getCookie(i)==o,a?c():(s(),n.on("click",c))}}},WishList=function(e,t){function n(e,t){a&&console.log("WishLists",e,void 0===t?"":t)}function i(t){var n=e.Deferred();return setTimeout(function(){n.resolve()},t),n}function o(t,o,r,a){n("execute",{method:t,data:o});var l=e.ajax({type:"POST",url:s+t,data:JSON.stringify(o),contentType:"application/json; charset=utf-8",dataType:"json",error:function(e){var i={status:e.status,statusText:e.statusText,responseText:e.responseText};try{i.data=JSON.parse(i.responseText)}catch(e){}n("execute-error",{method:t,data:o,errorInfo:i}),"function"==typeof a&&a(i)}});e.when(l,i(c)).done(function(i){var a=i&&e.isArray(i)&&i.length>1&&i[0].d||void 0;n("execute-success",{method:t,data:o,result:a}),"function"==typeof r&&r(a)})}var r=!function(){}.toString().match(/notMinified/),a=!r&&window.console&&console.log,s="/Components/WishLists/Services/WishListService.asmx/",c=1e3,l={ADD_ITEMS:"AddItems",GET_ALL_FOR_ADD:"GetAllForAdd",CREATE:"Create",MOVE_ITEM_TO_EXISTING_LIST:"MoveItemToExistingList",MOVE_ITEM_TO_NEW_LIST:"MoveItemToNewList"};return{template:function(e){return t.getTemplate(window.location.origin+Utilities.GetEnvironment.assetLocation()+"/templates/WishList/"+e+".runtime.hbs")},addToDefaultWishList:function(e,t,n){o(l.ADD_ITEMS,{request:{itemsToAdd:e}},t,n)},getAllWishListsForAdd:function(e,t,n){o(l.GET_ALL_FOR_ADD,{items:e},t,n)},addToWishList:function(e,t,n,i){o(l.ADD_ITEMS,{request:{wishListId:e,itemsToAdd:t}},n,i)},createWishList:function(e,t,n,i){o(l.CREATE,{request:{name:e,items:t}},n,i)},moveToExistingWishList:function(e,t,n,i,r){o(l.MOVE_ITEM_TO_EXISTING_LIST,{request:{fromWishListId:e,toWishListId:t,sku:n}},i,r)},moveToNewWishList:function(e,t,n,i,r){o(l.MOVE_ITEM_TO_NEW_LIST,{request:{fromWishListId:e,name:t,sku:n}},i,r)},log:n}}($,Handlebars),WishListAdd=function(e,t,n){var i,o,r,a,n=void 0!==n?n:{email:"",isAuthenticated:!1},s={selectors:{addButton:'[data-action="add-to-wish-list"]',closeMessageButton:'[data-action="close-message"]',messageContainer:'[data-role="wishlist-message"]',closeDropdownButton:'[data-action="close-dropdown"]',existingLists:".message-popup_wishlist-tools .existing-lists",showMoreButton:'.message-popup_wishlist-tools [data-action="show-more"]',otherWishList:'.message-popup_wishlist-tools [data-role="other-wish-lists"]',addToExistingButton:'.message-popup_wishlist-tools [data-action="add-to-existing-list"]',newWishListName:'.message-popup_wishlist-tools [data-role="wish-list-name"]',createFieldset:".message-popup_wishlist-tools fieldset",createNewButton:'.message-popup_wishlist-tools [data-action="create-new-wish-list"]',createSpinner:'.message-popup_wishlist-tools [data-role="spinner"]',createError:'.message-popup_wishlist-tools [data-role="error-message"]'},defaultWishListName:"My Wish List"},c={},l={defaultError:"We encountered an error and could not load your Wish List"+(n.isAuthenticated?"s":"")+". Please reload the page try again.",wishListCreationFailed:"There was an error creating a new Wish List.",wishListNameEmpty:"Please enter a name for your Wish List.",wishListNameExists:"That name already exists, please choose another name."},d=[],u=[],p=null,f=function(e,t,n,i,o){if(e){var r=n?'<div class="loaders"><div class="loaders_rotate-circle loaders-icon"></div></div>':"",a=o?'<div class="loaders"><svg class="loaders-icon"><use xlink:href="#icon-tick"></use></svg></div>':"";this.html="<span>"+e+"</span>"+r+a}this.isInactive=t,this.isSelected=i,this.isProcessing=n,this.isAdded=o};f.prototype.set=function(e){e.data("html")||e.data("html",e.html()),e.html(this.html||e.data("html")).toggleClass("inactive",this.isInactive).toggleClass("processing",this.isProcessing).toggleClass("selected-state",this.isSelected).toggleClass("added",this.isAdded),e.state=this},f.prototype.isActive=function(e){return e.state===this};var m=function(){return!_.some([r.inactive,r.added],function(e){return e.isActive(a)})},g=function(e){_.each(u,function(t){"function"==typeof t&&t(e)})},h=function(e){e&&e.preventDefault(),m()||(n.isAuthenticated&&g(),n.isAuthenticated?(r.loading.set(a),t.getAllWishListsForAdd(o.items,w,k)):(r.adding.set(a),t.addToDefaultWishList(o.items,_.partial(b,o.defaultWishListName),k)))},v=function(){i.on("click",o.selectors.addButton,h),i.on("click",o.selectors.closeDropdownButton,P),i.on("click",o.selectors.addToExistingButton,L),i.on("keypress",o.selectors.newWishListName,A),i.on("click",o.selectors.createNewButton,R),i.on("click",o.selectors.showMoreButton,I),i.on("click",o.selectors.closeMessageButton,T)},b=function(t,i){var s={wishList:i?{name:t,url:i.Url}:null,actionDescription:"added to",multipleItems:o.items.length>1,itemType:"Bundle"===o.items[0].Type?"package":"product",showSignInMessage:!n.isAuthenticated,loginUrl:o.loginUrl},l=c.confirmation(s);e(l).insertAfter(a).hide().fadeIn(600),r.added.set(a),d.push(setTimeout(E,5e3))},y=function(){c={confirmation:t.template("add-confirmation"),error:t.template("add-error"),dropdown:t.template("add-dropdown")}},S=function(e){u.push(e)},T=function(){var t=e(o.selectors.messageContainer,i);t.fadeOut(600,function(){t.remove()})},w=function(t){g(i);var n=_.chain(t).map(function(e){return{id:e.Id,name:e.Name,added:e.ContainsAllItems,isDefault:e.Name===o.defaultWishListName}}).sortBy(function(e){return e.name.toLowerCase()}).sortBy(function(e){return e.added?0:1}).sortBy(function(e){return e.isDefault?0:1}).value(),s={topWishLists:_.take(n,4),otherWishLists:_.drop(n,4)},l=c.dropdown(s);p=e(l),p.insertAfter(a).delay("200").slideDown(300,function(){r.dropdownOpen.set(a)})},C=function(e){e&&e.preventDefault(),p&&p.delay("200").slideUp(300,function(){p.remove(),p=null})},E=function(){var t=e(o.selectors.messageContainer,i);t.fadeOut(2500,function(){t.remove()})},P=function(e){if(a&&e!==i){for(var t;t=d.pop();)clearTimeout(t);T(),C(),r.added.isActive(a)||r.inactive.set(a)}},k=function(t){P();var n={message:t.message||l.defaultError},i=c.error(n);e(i).insertAfter(a),r.inactive.set(a),d.push(setTimeout(E,5e3))},L=function(n){n&&n.preventDefault();var i=e(this),s=i.prop("id");C(),r.adding.set(a),t.addToWishList(s,o.items,_.partial(b,i.text()),k)},I=function(t){t&&t.preventDefault();var n=e(this),r=e(o.selectors.otherWishList,i);n.toggleClass("message_wishlist-tools_button_active"),n.hasClass("message_wishlist-tools_button_active")?r.delay("200").slideDown(300):r.delay("200").slideUp(300)},A=function(e){e&&(M(""),13===e.which&&(e.preventDefault(),R()))},R=function(n){n&&n.preventDefault();var r,a=e(o.selectors.newWishListName,i),s=a.val()&&a.val().trim();return s?(r=e(o.selectors.existingLists,i),_.some(r.find("li"),function(t){return e(t).text().trim()==s})?void N(l.wishListNameExists):(r.add(a).add(this).prop("disabled",!0),e(o.selectors.closeDropdownButton,i).fadeOut(300),a.closest("fieldset").addClass("busy"),void t.createWishList(s,o.items,x(s),N))):void N(l.wishListNameEmpty)},x=function(e){return function(t){C(),b(e,t)}},N=function(t){var n="string"==typeof t?t:t&&t.data&&t.data.Message===l.wishListNameExists&&t.data.Message,r=e(o.selectors.newWishListName,i);r.focus(),e(o.selectors.existingLists,i).add(r).add(o.selectors.createNewButton,i).prop("disabled",!1),e(o.selectors.closeDropdownButton,i).fadeIn(300),e(r).closest("fieldset").removeClass("busy"),M(n||l.wishListCreationFailed)},M=function(t){e(o.selectors.createError,i).text(t),e(o.selectors.createFieldset,i).toggleClass("validation-error",!!t)},O=function(){a=e(o.selectors.addButton,i),r={inactive:new f(null,!0,!1,!1,!1),loading:new f("Loading...",!1,!0,!1,!1),dropdownOpen:new f(null,!1,!1,!0,!1),adding:new f("Adding...",!1,!0,!1,!1),added:new f("Added",!1,!1,!1,!0)},a.removeClass("hidden"),r.inactive.set(a)};return{init:function(t,n){i=e(t),o=e.extend({},s,n),O(),S(P),y(),v()}}},StoreSearch=function(e){var t,n,i,o,r={autoCompleteKeypressMinLength:3,autoCompleteDelay:500,autoCompleteContainerToAppend:".store-search_panel",ajaxPostBackTypeOverride:"POST",ajaxLocationAutoSuggestPostParameter:"prefixText"},a=function(t){return e.map(t.d,function(e){var t="";if("undefined"!=typeof com){switch(com.bunnings.COUNTRY_CODE){case"NZ":t=e.Name+", "+e.PostCode;break;default:t=e.Name+", "+e.State+", "+e.PostCode}return{value:t,label:t,suburbID:e.SuburbID,postcode:e.PostCode}}})},s=function(){i.autocomplete({minLength:t.autoCompleteKeypressMinLength,delay:t.autoCompleteDelay,appendTo:t.autoCompleteContainerToAppend,source:function(n,o){e.ajax({type:t.ajaxPostBackTypeOverride,dataType:"json",contentType:"application/json; charset=utf-8",url:t.endpointLocationAutoSuggest,data:"{ "+t.ajaxLocationAutoSuggestPostParameter+': "'+i.val()+'" }',success:function(e){var t;t=a(e),o(t)},error:function(e,t,n){}})},open:function(e,t){n.find(".ui-autocomplete").css({top:"100%",left:0,width:"100%"})},select:function(e,t){}}).data("ui-autocomplete")._renderItem=function(n,i){return e('<li class="ui-menu-item">').append("<a href="+t.storeSearchPageUrl+i.postcode+' datav3-track-event="select" datav3-track-text="select">'+i.value+"</a>").appendTo(n)}},c=function(){var e=n.find(".store-search_btn-submit");i.on("keypress",function(e){13===e.which&&(e.preventDefault(),o(e))}),e.on("click",function(e){e.preventDefault(),o(e)})};o=function(n){var o=i.val(),r=/^[0-9]{3}$/g;""!==o&&r.test(o)&&(o="0"+o),Bunnings.TrackingV3.pushTrackingData(e(n.currentTarget),"search",{"datav3-action-text":"search"}),window.location.href=t.storeSearchPageUrl+o};var l=function(){n.on("click",".ui-autocomplete a",function(t){Bunnings.TrackingV3.pushTrackingData(e(t.currentTarget),"search",{"datav3-action-text":"search"})})},d=function(){s(),c(),l()};return{init:function(o,a){n=e(o),t=e.extend({},r,a),i=n.find(".store-search_term"),d()}}};$(".sc-globalHeader").length&&$.noConflict(!0),function(e,t,n,i,o){function r(){d.define("_ExampleComponent",function(e){new ExampleComponent(t).init(e,l(e))}),d.define("AccordionMenu",function(e){new AccordionMenu(f).init(e,l(e))}),d.define("Accordion",function(e){new Accordion(f).init(e,l(e))}),d.define("AlertBar",function(e){new AlertBar(t).init(e,l(e))}),d.define("ArticleCarousel",function(e){new ArticleCarousel(t).init(e,l(e))}),d.define("BazaarVoice",function(e){new BazaarVoice(t).init(e,l(e))}),d.define("BannerCookie",function(e){new BannerCookie(t,u).init(e,l(e))}),d.define("BeforeAfter",function(e){new BeforeAfter(t).init(e,l(e))}),d.define("CollectionItemSummaryCarousel",function(e){new CollectionItemSummaryCarousel(t).init(e,l(e))}),d.define("DownloadProjectGuide",function(e){DownloadProjectGuide.init(e,l(e))}),d.define("EmailSignup",function(e){new EmailSignup(t).init(e,l(e))}),d.define("TestMockApi",function(e){new TestMockApi(t).init(e,l(e))}),d.define("Faq",function(e){new Faq(t).init(e,l(e))}),d.define("FatFooter",function(e){new FatFooter(t).init(e,l(e))}),d.define("FindAStore",function(e){new FindAStore(t).init(e,l(e))}),d.define("HeaderNavbarItemAccount",function(e){new HeaderNavbarItemAccount(t,u).init(e,l(e))}),d.define("HeaderNavbarItemCart",function(e){new HeaderNavbarItemCart(t,Utilities).init(e,l(e))}),d.define("HeaderNavigation",function(e){new HeaderNavigation(f,Utilities).init(e,l(e))}),d.define("HeaderNavigationLg",function(e){new HeaderNavigationLg(f,Utilities).init(e,l(e))}),d.define("HeaderStoreDropdown",function(e){new HeaderStoreDropdown(f,u,n,Utilities,CookiesName).init(e,l(e))}),d.define("IFrameForm",function(e){new IFrameForm(t).init(e,l(e))}),com.bunnings.FEATURES&&com.bunnings.FEATURES.StoreInformationUpdateFeatureToggle?d.define("HeaderStoreInformation",function(e){new HeaderStoreInformationWithoutGeolocation(f,u,n,Utilities,CookiesName,axios).init(e,l(e))}):d.define("HeaderStoreInformation",function(e){new HeaderStoreInformation(f,u,n,Utilities,CookiesName,axios).init(e,l(e))}),com.bunnings.FEATURES&&!com.bunnings.FEATURES.ReactifiedChangeStoreFeatureToggle&&d.define("HeaderStoreLocator",function(e){new HeaderStoreLocator(t,u,CookiesName,Utilities,Modal).init(e,l(e))}),d.define("HeaderTopDrawer",function(e){new HeaderTopDrawer(f).init(e,l(e))}),d.define("HeroCarousel",function(e){new HeroCarousel(t).init(e)}),d.define("LeadingBrands",function(e){new LeadingBrands(t).init(e,l(e))}),d.define("ListWithReveal",function(e){new ListWithReveal(t).init(e,l(e))}),d.define("PersonalisedCarousel",function(e){new PersonalisedCarousel(t,u,axios,n,Utilities,HeroCarousel).init(e,l(e))}),d.define("ProductCatalogueCarousel",function(e){new ProductCatalogueCarousel(t).init(e,l(e))}),d.define("ProductDetailsActionsWithTradeVariant",function(e){new ProductDetailsActionsWithTradeModeVariant(t,TradeModeVariant).init(e,l(e))}),d.define("ProductBundleWithTradeModeVariant",function(e){new ProductBundleWithTradeModeVariant(t,TradeModeVariant).init(e,l(e))}),d.define("ProductBundleWithTradeModeVariantMobile",function(e){new ProductBundleWithTradeModeVariantMobile(t,TradeModeVariant).init(e,l(e))}),d.define("CompareProductsWithTradeModeVariant",function(e){new CompareProductsWithTradeModeVariant(t,TradeModeVariant).init(e,l(e))}),
com.bunnings.FEATURES&&!com.bunnings.FEATURES.ProductTileRefreshFeatureToggle&&(d.define("LegacyProductTileWithTradeModeVariant",function(e){new LegacyProductTileWithTradeModeVariant(t,TradeModeVariant).init(e,l(e))}),d.define("LegacyProductGridTileWithTradeModeVariant",function(e){new LegacyProductGridTileWithTradeModeVariant(t,TradeModeVariant).init(e,l(e))}),d.define("ProductSetWithTradeModeVariantMobile",function(e){new ProductSetWithTradeModeVariantMobile(t,TradeModeVariant).init(e,l(e))}),d.define("ProductCatalogueWithTradeModeVariant",function(e){new ProductCatalogueWithTradeModeVariant(t,TradeModeVariant).init(e,l(e))}),d.define("SuggestedProductComponentWithTradeModeVariant",function(e){new ProductDetailsComponentWithTradeModeVariant(t,TradeModeVariant,"SuggestedProductComponentWithTradeModeVariant").init(e,l(e))}),d.define("RelatedProductsComponentWithTradeModeVariant",function(e){new ProductDetailsComponentWithTradeModeVariant(t,TradeModeVariant,"RelatedProductsComponentWithTradeModeVariant").init(e,l(e))}),d.define("SimilarProductComponentWithTradeModeVariant",function(e){new ProductDetailsComponentWithTradeModeVariant(t,TradeModeVariant,"SimilarProductComponentWithTradeModeVariant").init(e,l(e))}),d.define("SuggestedProductComponentWithTradeModeVariant",function(e){new ProductDetailsComponentWithTradeModeVariant(t,TradeModeVariant,"SuggestedProductComponentWithTradeModeVariant").init(e,l(e))}),d.define("ProductWithTradeModeVariant",function(e){new ProductWithTradeModeVariant(t,TradeModeVariant).init(e,l(e))}),d.define("ProductDIYArticleWithTradeModeVariant",function(e){new ProductDIYArticleWithTradeModeVariant(t,TradeModeVariant).init(e,l(e))}),d.define("SearchResultsWithTradeModeVariant",function(e){new ProductCatalogueWithTradeModeVariant(t,TradeModeVariant,"SearchResultsWithTradeModeVariant").init(e,l(e))}),d.define("CarouselWithTradeModeVariant",function(e){new CarouselWithTradeModeVariant(t,TradeModeVariant).init(e,l(e))}),d.define("CarouselWithTradeModeVariantMobile",function(e){new CarouselWithTradeModeVariantMobile(t,TradeModeVariant).init(e,l(e))})),d.define("StickySidebar",function(e){new StickySidebar(t).init(e,l(e))}),d.define("ImageGallery",function(e){new ProductImageGallery(t).init(e,l(e))}),d.define("ProductContainer",function(e){new ProductContainer(t).init(e,l(e))}),d.define("PowerPassMenu",function(e){new PowerPassMenu(t).init(e,l(e))}),d.define("ScrollPage",function(e){new ScrollPage(t).init(e,l(e))}),d.define("StateStoresList",function(e){new StateStoresList(t).init(e,l(e))}),d.define("SearchContainer",function(e){new SearchContainer(t).init(e,l(e))}),d.define("SearchFilter",function(e){new SearchFilter(t,Utilities,n).init(e,l(e))}),d.define("SeriesNavigation",function(e){new SeriesNavigation(t).init(e,l(e))}),d.define("HeaderSmart",function(t){new HeaderSmart(f,e).init(t,l(t))}),d.define("StepByStepGuide",function(e){new StepByStepGuide(t).init(e,l(e))}),d.define("StoreSearch",function(e){new StoreSearch(t).init(e,l(e))}),d.define("StoreActivitiyList",function(e){new StoreActivitiyList(t,n).init(e,l(e))}),d.define("StoreGoogleMap",function(e){new StoreGoogleMap(t).init(e,l(e))}),d.define("Tooltip",function(e){new Tooltip(t).init(e,l(e))}),d.define("ViewMore",function(e){new ViewMore(t,n,u,Utilities).init(e,l(e))}),d.define("ViewMorePreload",function(e){new ViewMorePreload(t,n).init(e,l(e))}),d.define("VideoPlayer",function(e){new VideoPlayer(t).init(e,l(e))}),d.define("WishListAdd",function(e){new WishListAdd(t,WishList,Bunnings.UserContext).init(e,l(e))}),d.define("UseMyGeoLocation",function(e){new UseMyGeoLocation(t,u,Utilities).init(e,l(e))}),d.define("TabNavigation",function(e){new TabNavigation(t).init(e,l(e))}),d.define("SocialShare",function(e){new SocialShare(t).init(e,l(e))}),d.define("StoreSet",function(e){new SetStore(t,u,CookiesName,Utilities,Modal).init(e,l(e))}),d.define("PowerPassMenu",function(e){new PowerPassMenu(t).init(e,l(e))}),d.define("HeaderNavbarItemPowerPass",function(e){new HeaderNavbarItemPowerPass(t).init(e,l(e))}),e.com.bunnings.FEATURES&&e.com.bunnings.FEATURES.TradeModeGlobalFeatureToggle&&d.define("SignInTabs",function(e){new SignInTabs(t).init(e,l(e))}),d.define("WigigBanner",function(e){new WigigBanner(t).init(e)}),d.define("StoreDetails",function(e){new StoreDetails(t).init(e,l(e))}),d.define("Breadcrumbs",function(e){new Breadcrumbs(t).init(e)}),d.define("BuiBreadcrumbs",function(e){new BuiBreadcrumbs(t).init(e)}),d.define("DigitalMagazinePreviousIssues",function(e){new DigitalMagazinePreviousIssues(t).init(e,l(e))}),e.com.bunnings.RR&&"undefined"!=typeof r3_common&&new RichRelevance(t).init(),(new ServiceWorker).init(),void 0!==com.bunnings.FEATURES&&com.bunnings.FEATURES.BackToTopFeatureToggle&&(t(".paged-results").length>0||t(".search-filter").length>0)&&"homebase"!==com.bunnings.THEME_NAME&&new BackToTop(t).init(),d.define("TradeInfoMessageTradeModeBanner",function(e){new TradeInfoMessageTradeModeBanner(t).init(e)}),t("remote-cart")!==o&&new LegacyCart(t,u,CookiesName,Utilities).init(),t('[data-bunnings-component="Bunnings.Disclaimer"]')!==o&&new Disclaimer(t).init();for(var i=t("[data-component]"),r=0;r<i.length;r++)d.run(t(i[r]).data("component"),t(i[r]))}function a(){return e.location.href.replace(e.location.origin,"")}function s(){if(a().indexOf("/our-range/brands")>=0&t('[data-component="ProductWithTradeModeVariant"]').length>0)return!0}function c(){if(a().indexOf("/our-range/")>=0&t('[data-component="ProductWithTradeModeVariant"]').length>0)return!0}var l=Utilities.General.parseElementProps,d={};d.list=[];var u=new Cookie,p=new HandlebarsExtender(n);n.getTemplate=p.getTemplate,n.getTemplateAsync=p.getTemplateAsync,n.compileTemplate=p.compileTemplate;var f="undefined"!=typeof $j3?$j3:t;new Body(f,u,t,Utilities).init();var m=new GetPricingDetailsFromAPI(axios,u,e),g=new UpdateProductPricingDetails,h=com.bunnings.PRICEENGINEWRAPPER_SERVICE_BASE_URL||"",v=com.bunnings.pricingEngine.config,b="session"===com.bunnings.productStorageType?sessionStorage:localStorage;e.ProductStorage=ProductStorage(b,v.PRODUCT_STORAGE_KEY),e.onload=function(){var n=new PricingEngine(u,Utilities,m,g,h);y()?S():n.init(),e.pricingEngineInstance=n,t("body").trigger(v.PRICINGENGINE_READY),t(".header_navbar-badge-dropdown-trigger").on("click",function(){t(".header_navbar-link").hasClass("is-active")&&t(".header_navbar-link").click()})},d.define=function(e,t){d.list.push({id:e,callback:t})},d.find=function(e){for(var t=0;t<d.list.length;t++)if(d.list[t].id===e)return d.list[t]},d.run=function(e,t){var n=d.find(e);n!==o&&"function"==typeof n.callback&&n.callback(t)};var y=function(){var e=!1;if(a().indexOf("/search/products?q=")>=0||s()||c()){var t=localStorage.getItem("currentSearchState"),n=localStorage.getItem("prevSearchState"),i=JSON.parse(sessionStorage.getItem("Bunnings.Paging.ViewMore"))||[];u.getCookie("Bunnings.Region");t!==n&&_.each(i,function(t){t.url.indexOf(a())>=0&&(e=!0)})}return e},S=function(){e.PricingEngine?e.PricingEngine.delay=!0:e.PricingEngine={delay:!0}};!function(){r()}()}(window,jQuery,Handlebars);