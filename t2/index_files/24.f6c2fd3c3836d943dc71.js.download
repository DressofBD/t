(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{537:function(t,e,n){"use strict";n.r(e);var o=n(3),r=n(19),u=(n(4),n(8),n(12),n(6),n(29),n(13),n(14),n(5),n(574),n(9),n(7),n(0)),a=n.n(u),c=n(2),i=n.n(c),l=(n(667),n(668)),f=n(669),s=n.n(f),p=n(672);function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function b(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function m(t,e){return!e||"object"!==y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var h=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=m(this,d(e).call(this,t))).state={counter:{start:null}},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(e,u["Component"]),function(t,e,n){e&&b(t.prototype,e),n&&b(t,n)}(e,[{key:"componentDidMount",value:function(){this.updateStartingCount()}},{key:"shouldComponentUpdate",value:function(t){return JSON.stringify(this.props)!==JSON.stringify(t)}},{key:"componentDidUpdate",value:function(){this.updateStartingCount()}},{key:"updateStartingCount",value:function(){var t=this.props.counter.end;this.setState({counter:{start:t}})}},{key:"render",value:function(){var t=this.state.counter,e=this.props,n=e.counter,o=e.onStart,r=e.onEnd,u=e.className,c=e.iconName,l=i()("social-urgency-element",u);return a.a.createElement("div",{className:l},a.a.createElement("svg",{className:"social-urgency-icon ".concat(c)},a.a.createElement("use",{xlinkHref:"#".concat(c)})),a.a.createElement(s.a,{className:"social-urgency-text",prefix:n.prefix,start:t.start,end:n.end,suffix:n.suffix,delay:.6,duration:3,onStart:o,onEnd:r,easingFn:p.easeOutExpo}))}}]),e}();function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var E=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=function(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?C(t):e}(this,w(e).call(this,t))).state={countComplete:{quantityRemaining:!0,quantitySold:!0,viewerCount:!0}},n.counterStartCallback=n.counterStartCallback.bind(C(n)),n.counterEndCallback=n.counterEndCallback.bind(C(n)),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}(e,u["PureComponent"]),function(t,e,n){e&&S(t.prototype,e),n&&S(t,n)}(e,[{key:"componentWillMount",value:function(){(0,this.props.onMount)()}},{key:"allTrue",value:function(t){return Object.values(t).every(function(t){return!0===t})}},{key:"counterStartCallback",value:function(t){this.setState(function(e){var n=Object.assign({},e.countComplete);return n[t]=!1,{countComplete:n}})}},{key:"counterEndCallback",value:function(t){this.setState(function(e){var n=Object.assign({},e.countComplete);return n[t]=!0,{countComplete:n}});var e=this.state.countComplete;this.allTrue(e)&&cotd.sticky&&cotd.sticky.onResize()}},{key:"render",value:function(){var t=this,e=this.props,n=e.quantityRemaining,o=e.quantitySold,r=e.viewerCount,u=e.viewerEffect;if(!n&&!r&&!o)return null;var c=i()("social-urgency-container",u&&u.toLowerCase());return a.a.createElement(l.a,{triggerOnce:!0},function(e){var i=e.inView,l=e.ref;return a.a.createElement("div",{className:"social-urgency",ref:l},i&&a.a.createElement("div",{className:c},n>0&&a.a.createElement(h,{onStart:function(){return t.counterStartCallback("quantityRemaining")},onEnd:function(){return t.counterEndCallback("quantityRemaining")},className:"hurry",counter:{prefix:"Hurry! ",end:n,suffix:" left"},iconName:"icon-clock"}),r>0&&a.a.createElement(h,{onStart:function(){return t.counterStartCallback("viewerCount")},onEnd:function(){return t.counterEndCallback("viewerCount")},className:"viewing",counter:{end:r,suffix:" currently viewing"},iconName:"HOT"===u?"icon-flame":"icon-eye"}),o>0&&a.a.createElement(h,{onStart:function(){return t.counterStartCallback("quantitySold")},onEnd:function(){return t.counterEndCallback("quantitySold")},className:"bought",counter:{end:o,suffix:" bought so far"},iconName:"icon-social-cart"})))})}}]),e}();E.defaultProps={viewerCount:0,viewerEffect:null,quantitySold:0,quantityRemaining:0};var O=E,j=Object(o.b)(function(t,e){var n=e.statsTopic;return t.page.stats[n]||{}},function(t,e){var n=e.statsTopic;return{onMount:function(){t(Object(r.g)(n))}}})(O);e.default=j}}]);
//# sourceMappingURL=24.f6c2fd3c3836d943dc71.js.map